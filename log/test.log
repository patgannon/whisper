admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Completed   in 17ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 17ms
  Processing by SitesController#new as HTML
Completed   in 17ms
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 17ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Completed   in 17ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed   in 17ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Completed   in 17ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed   in 17ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 60ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 16ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 16ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 16ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 16ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 16ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 16ms
Rendered sites/_form.html.haml (6.7ms)
ERROR: compiling _app_views_sites_index_html_haml___545004706_97613890_862723712 RAISED /home/tyler/ruby/current/whisper/app/views/sites/index.html.haml:19: syntax error, unexpected tIVAR, expecting keyword_do or '{' or '('
Function body:           def _app_views_sites_index_html_haml___545004706_97613890_862723712(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "sites/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>true, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.buffer << "<h1>Listing sites</h1>\n<table>\n<tr>\n<th>Domain</th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n";








_hamlout.append_if_string=  @sites.each do |site|;
_hamlout.buffer << "<tr>\n<td>#{
_hamlout.format_script_false_true_false_true_false_true_true((site.domain
));}</td>\n<td>#{_hamlout.format_script_false_true_false_true_false_true_true((link_to 'Show', site
));}</td>\n<td>#{_hamlout.format_script_false_true_false_true_false_true_true((link_to 'Edit', edit_site
));}</td>\n<td>#{_hamlout.format_script_false_true_false_true_false_true_true((link_to 'Destroy', site, :confirm => 'Are you sure?', :method => :delete
));}</td>\n</tr>\n";
end;_hamlout.buffer << "</table>\n<br>\n#{

_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'New Site', new_@site
));}\n";::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `module_eval'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `compile'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:134:in `block in render'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:127:in `render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:26:in `render'
/usr/lib/ruby/gems/1.9.2/gems/haml-3.0.22/lib/haml/helpers/action_view_mods.rb:13:in `render_with_haml'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/test_case.rb:107:in `render'
/usr/lib/ruby/gems/1.9.2/gems/rspec-rails-2.1.0/lib/rspec/rails/example/view_example_group.rb:70:in `render'
/home/tyler/ruby/current/whisper/spec/views/sites/index.html.haml_spec.rb:18:in `block (2 levels) in <top (required)>'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `instance_eval'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `with_around_hooks'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:39:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `block in with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `catch'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:38:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:261:in `block in run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:231:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/reporter.rb:12:in `report'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:24:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:55:in `run_in_process'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:46:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:10:in `block in autorun'
Rendered sites/_form.html.haml (2.2ms)
ERROR: compiling _app_views_sites_show_html_haml___796964864_91118040_862723712 RAISED /home/tyler/ruby/current/whisper/app/views/sites/show.html.haml:7: syntax error, unexpected tIVAR, expecting keyword_do or '{' or '('
Function body:           def _app_views_sites_show_html_haml___796964864_91118040_862723712(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "sites/show";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>true, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.buffer << "<p id='notice'>#{_hamlout.format_script_false_true_false_true_false_true_true((notice
));}</p>\n<p>\n<b>Domain:</b>\n#{


_hamlout.format_script_false_false_false_true_false_true_true(( @site.domain
));}\n</p>\n#{
_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Edit', edit_@site
));}\n|\n#{
_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Back', sites_path
));}\n";::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `module_eval'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `compile'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:134:in `block in render'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:127:in `render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:26:in `render'
/usr/lib/ruby/gems/1.9.2/gems/haml-3.0.22/lib/haml/helpers/action_view_mods.rb:13:in `render_with_haml'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/test_case.rb:107:in `render'
/usr/lib/ruby/gems/1.9.2/gems/rspec-rails-2.1.0/lib/rspec/rails/example/view_example_group.rb:70:in `render'
/home/tyler/ruby/current/whisper/spec/views/sites/show.html.haml_spec.rb:13:in `block (2 levels) in <top (required)>'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `instance_eval'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `with_around_hooks'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:39:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `block in with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `catch'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:38:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:261:in `block in run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:231:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/reporter.rb:12:in `report'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:24:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:55:in `run_in_process'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:46:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:10:in `block in autorun'


Started GET "/sites" for 127.0.0.1 at 2010-11-27 18:39:20 -0800
  Processing by SitesController#index as HTML
ERROR: compiling _app_views_sites_index_html_haml___545004706_90606980_862723712 RAISED /home/tyler/ruby/current/whisper/app/views/sites/index.html.haml:19: syntax error, unexpected tIVAR, expecting keyword_do or '{' or '('
Function body:           def _app_views_sites_index_html_haml___545004706_90606980_862723712(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "sites/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>true, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.buffer << "<h1>Listing sites</h1>\n<table>\n<tr>\n<th>Domain</th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n";








_hamlout.append_if_string=  @sites.each do |site|;
_hamlout.buffer << "<tr>\n<td>#{
_hamlout.format_script_false_true_false_true_false_true_true((site.domain
));}</td>\n<td>#{_hamlout.format_script_false_true_false_true_false_true_true((link_to 'Show', site
));}</td>\n<td>#{_hamlout.format_script_false_true_false_true_false_true_true((link_to 'Edit', edit_site
));}</td>\n<td>#{_hamlout.format_script_false_true_false_true_false_true_true((link_to 'Destroy', site, :confirm => 'Are you sure?', :method => :delete
));}</td>\n</tr>\n";
end;_hamlout.buffer << "</table>\n<br>\n#{

_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'New Site', new_@site
));}\n";::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `module_eval'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `compile'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:134:in `block in render'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:127:in `render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:26:in `render'
/usr/lib/ruby/gems/1.9.2/gems/haml-3.0.22/lib/haml/helpers/action_view_mods.rb:13:in `render_with_haml'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/abstract_controller/rendering.rb:114:in `_render_template'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/abstract_controller/rendering.rb:108:in `render_to_body'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/abstract_controller/rendering.rb:101:in `render_to_string'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/abstract_controller/rendering.rb:92:in `render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/rendering.rb:17:in `render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/usr/lib/ruby/1.9.2/benchmark.rb:309:in `realtime'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/instrumentation.rb:39:in `render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/responder.rb:190:in `call'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/responder.rb:190:in `default_render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/responder.rb:126:in `to_html'
/usr/lib/ruby/gems/1.9.2/gems/responders-0.6.2/lib/responders/flash_responder.rb:93:in `to_html'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/responder.rb:119:in `respond'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/responder.rb:112:in `call'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/mime_responds.rb:232:in `respond_with'
/usr/lib/ruby/gems/1.9.2/gems/inherited_resources-1.1.2/lib/inherited_resources/actions.rb:7:in `index'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/abstract_controller/base.rb:151:in `process_action'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/rendering.rb:11:in `process_action'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/callbacks.rb:435:in `_run__626524224__process_action__307355724__callbacks'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/callbacks.rb:93:in `run_callbacks'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/abstract_controller/callbacks.rb:17:in `process_action'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/rescue.rb:17:in `process_action'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/abstract_controller/base.rb:120:in `process'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/abstract_controller/rendering.rb:40:in `process'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal.rb:138:in `dispatch'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_controller/metal.rb:178:in `block in action'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/routing/route_set.rb:62:in `call'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/routing/route_set.rb:27:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:148:in `block in call'
/usr/lib/ruby/gems/1.9.2/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/usr/lib/ruby/gems/1.9.2/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/usr/lib/ruby/gems/1.9.2/gems/rack-mount-0.6.13/lib/rack/mount/code_generation.rb:92:in `recognize'
/usr/lib/ruby/gems/1.9.2/gems/rack-mount-0.6.13/lib/rack/mount/route_set.rb:139:in `call'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/routing/route_set.rb:492:in `call'
/usr/lib/ruby/gems/1.9.2/gems/haml-3.0.22/lib/sass/plugin/rack.rb:41:in `call'
/usr/lib/ruby/gems/1.9.2/gems/warden-0.10.7/lib/warden/manager.rb:35:in `block in call'
/usr/lib/ruby/gems/1.9.2/gems/warden-0.10.7/lib/warden/manager.rb:34:in `catch'
/usr/lib/ruby/gems/1.9.2/gems/warden-0.10.7/lib/warden/manager.rb:34:in `call'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/middleware/head.rb:14:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rack-1.2.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/middleware/flash.rb:182:in `call'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/middleware/cookies.rb:295:in `call'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rack-1.2.1/lib/rack/sendfile.rb:107:in `call'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/usr/lib/ruby/gems/1.9.2/gems/railties-3.0.3/lib/rails/rack/logger.rb:13:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rack-1.2.1/lib/rack/runtime.rb:17:in `call'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rack-1.2.1/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/usr/lib/ruby/gems/1.9.2/gems/rack-1.2.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/middleware/static.rb:30:in `call'
/usr/lib/ruby/gems/1.9.2/gems/railties-3.0.3/lib/rails/application.rb:168:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rack-test-0.5.6/lib/rack/mock_session.rb:30:in `request'
/usr/lib/ruby/gems/1.9.2/gems/rack-test-0.5.6/lib/rack/test.rb:209:in `process_request'
/usr/lib/ruby/gems/1.9.2/gems/rack-test-0.5.6/lib/rack/test.rb:105:in `request'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/testing/integration.rb:292:in `process'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/testing/integration.rb:32:in `get'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_dispatch/testing/integration.rb:325:in `block (2 levels) in <module:Runner>'
/home/tyler/ruby/current/whisper/spec/requests/sites_spec.rb:9:in `block (3 levels) in <top (required)>'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `instance_eval'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `with_around_hooks'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:39:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `block in with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `catch'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:38:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:261:in `block in run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:231:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:232:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:232:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:232:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/reporter.rb:12:in `report'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:24:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:55:in `run_in_process'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:46:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:10:in `block in autorun'
Completed   in 14ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Rendered sites/index.html.haml within layouts/application (1.5ms)
Completed 200 OK in 15ms (Views: 11.7ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 3.6ms)
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 3.7ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 3.6ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1005
Completed 302 Found in 8ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1006
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 4ms (Views: 1.8ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1009
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1010
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1011
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 4ms (Views: 1.9ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 4ms (Views: 1.9ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 5ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 2ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
ERROR: compiling _app_views_sites_index_html_haml__70734161_96335890__58942127 RAISED /home/tyler/ruby/current/whisper/app/views/sites/index.html.haml:23: syntax error, unexpected tIVAR, expecting keyword_do or '{' or '('
Function body:           def _app_views_sites_index_html_haml__70734161_96335890__58942127(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "sites/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>true, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.buffer << "<h1>Listing sites</h1>\n<table>\n<tr>\n<th>Domain</th>\n<th>Title</th>\n<th>Body</th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n";










_hamlout.append_if_string=  @sites.each do |site|;
_hamlout.buffer << "<tr>\n<td>#{
_hamlout.format_script_false_true_false_true_false_true_true((site.domain
));}</td>\n<td>#{_hamlout.format_script_false_true_false_true_false_true_true((site.title
));}</td>\n<td>#{_hamlout.format_script_false_true_false_true_false_true_true((site.body
));}</td>\n<td>#{_hamlout.format_script_false_true_false_true_false_true_true((link_to 'Show', site
));}</td>\n<td>#{_hamlout.format_script_false_true_false_true_false_true_true((link_to 'Edit', edit_site
));}</td>\n<td>#{_hamlout.format_script_false_true_false_true_false_true_true((link_to 'Destroy', site, :confirm => 'Are you sure?', :method => :delete
));}</td>\n</tr>\n";
end;_hamlout.buffer << "</table>\n<br>\n#{

_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'New Site', new_@site
));}\n";::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `module_eval'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `compile'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:134:in `block in render'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:127:in `render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:26:in `render'
/usr/lib/ruby/gems/1.9.2/gems/haml-3.0.22/lib/haml/helpers/action_view_mods.rb:13:in `render_with_haml'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/test_case.rb:107:in `render'
/usr/lib/ruby/gems/1.9.2/gems/rspec-rails-2.1.0/lib/rspec/rails/example/view_example_group.rb:70:in `render'
/home/tyler/ruby/current/whisper/spec/views/sites/index.html.haml_spec.rb:22:in `block (2 levels) in <top (required)>'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `instance_eval'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `with_around_hooks'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:39:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `block in with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `catch'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:38:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:261:in `block in run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:231:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/reporter.rb:12:in `report'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:24:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:55:in `run_in_process'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:46:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:10:in `block in autorun'
Rendered sites/index.html.haml (4.8ms)
ERROR: compiling _app_views_sites_show_html_haml__695146731_90039390__58942127 RAISED /home/tyler/ruby/current/whisper/app/views/sites/show.html.haml:13: syntax error, unexpected tIVAR, expecting keyword_do or '{' or '('
Function body:           def _app_views_sites_show_html_haml__695146731_90039390__58942127(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "sites/show";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>true, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.buffer << "<p id='notice'>#{_hamlout.format_script_false_true_false_true_false_true_true((notice
));}</p>\n<p>\n<b>Domain:</b>\n#{


_hamlout.format_script_false_false_false_true_false_true_true(( @site.domain
));}\n</p>\n<p>\n<b>Title:</b>\n#{

_hamlout.format_script_false_false_false_true_false_true_true(( @site.title
));}\n</p>\n<p>\n<b>Body:</b>\n#{

_hamlout.format_script_false_false_false_true_false_true_true(( @site.body
));}\n</p>\n#{
_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Edit', edit_@site
));}\n|\n#{
_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Back', sites_path
));}\n";::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `module_eval'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `compile'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:134:in `block in render'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:127:in `render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:26:in `render'
/usr/lib/ruby/gems/1.9.2/gems/haml-3.0.22/lib/haml/helpers/action_view_mods.rb:13:in `render_with_haml'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/test_case.rb:107:in `render'
/usr/lib/ruby/gems/1.9.2/gems/rspec-rails-2.1.0/lib/rspec/rails/example/view_example_group.rb:70:in `render'
/home/tyler/ruby/current/whisper/spec/views/sites/show.html.haml_spec.rb:15:in `block (2 levels) in <top (required)>'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `instance_eval'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `with_around_hooks'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:39:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `block in with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `catch'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:38:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:261:in `block in run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:231:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/reporter.rb:12:in `report'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:24:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:55:in `run_in_process'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:46:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:10:in `block in autorun'
Rendered sites/_form.html.haml (9.1ms)
Rendered sites/_form.html.haml (3.4ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
ERROR: compiling _app_views_sites_index_html_haml__96581534_94552460__601700896 RAISED /home/tyler/ruby/current/whisper/app/views/sites/index.html.haml:22: syntax error, unexpected tIVAR, expecting keyword_do or '{' or '('
Function body:           def _app_views_sites_index_html_haml__96581534_94552460__601700896(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "sites/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>true, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.buffer << "<h1>sites</h1>\n<ul class='items' id='sites'>\n";


_hamlout.append_if_string=  @sites.each do |site|;
_hamlout.open_tag("li", false, false, false, true, {"class"=>"item"}, false, false, [site], nil);_hamlout.buffer << "<ul class='details'>\n<li class='field domain'>\n<span class='field_name'>#{


_hamlout.format_script_false_true_false_true_false_true_true((#<Rails::Generators::GeneratedAttribute:0x932bc44>
));}</span>\n<span class='field_value'>#{_hamlout.format_script_false_true_false_true_false_true_true((site.domain
));}</span>\n</li>\n<li class='field title'>\n<span class='field_name'>#{
_hamlout.format_script_false_true_false_true_false_true_true((#<Rails::Generators::GeneratedAttribute:0x932b834>
));}</span>\n<span class='field_value'>#{_hamlout.format_script_false_true_false_true_false_true_true((site.title
));}</span>\n</li>\n<li class='field body'>\n<span class='field_name'>#{
_hamlout.format_script_false_true_false_true_false_true_true((#<Rails::Generators::GeneratedAttribute:0x932b438>
));}</span>\n<span class='field_value'>#{_hamlout.format_script_false_true_false_true_false_true_true((site.body
));}</span>\n</li>\n</ul>\n#{_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Show', site
));}\n#{_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Edit', edit_site
));}\n#{_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Destroy', site, :confirm => 'Are you sure?', :method => :delete
));}\n</li>\n";
end;_hamlout.buffer << "</ul>\n<br>\n#{

_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'New Site', new_@site
));}\n";::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `module_eval'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `compile'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:134:in `block in render'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:127:in `render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:26:in `render'
/usr/lib/ruby/gems/1.9.2/gems/haml-3.0.22/lib/haml/helpers/action_view_mods.rb:13:in `render_with_haml'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/test_case.rb:107:in `render'
/usr/lib/ruby/gems/1.9.2/gems/rspec-rails-2.1.0/lib/rspec/rails/example/view_example_group.rb:70:in `render'
/home/tyler/ruby/current/whisper/spec/views/sites/index.html.haml_spec.rb:22:in `block (2 levels) in <top (required)>'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `instance_eval'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `with_around_hooks'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:39:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `block in with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `catch'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:38:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:261:in `block in run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:231:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/reporter.rb:12:in `report'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:24:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:55:in `run_in_process'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:46:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:10:in `block in autorun'
Rendered sites/index.html.haml (6.5ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
ERROR: compiling _app_views_sites_index_html_haml___786721395_91466880__318416318 RAISED /home/tyler/ruby/current/whisper/app/views/sites/index.html.haml:22: syntax error, unexpected tIVAR, expecting keyword_do or '{' or '('
Function body:           def _app_views_sites_index_html_haml___786721395_91466880__318416318(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "sites/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>true, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.buffer << "<h1>sites</h1>\n<ul class='items' id='sites'>\n";


_hamlout.append_if_string=  @sites.each do |site|;
_hamlout.open_tag("li", false, false, false, true, {"class"=>"item"}, false, false, [site], nil);_hamlout.buffer << "<ul class='details'>\n<li class='field domain'>\n<span class='field_name'>#{


_hamlout.format_script_false_true_false_true_false_true_true((domain
));}</span>\n<span class='field_value'>#{_hamlout.format_script_false_true_false_true_false_true_true((site.domain
));}</span>\n</li>\n<li class='field title'>\n<span class='field_name'>#{
_hamlout.format_script_false_true_false_true_false_true_true((title
));}</span>\n<span class='field_value'>#{_hamlout.format_script_false_true_false_true_false_true_true((site.title
));}</span>\n</li>\n<li class='field body'>\n<span class='field_name'>#{
_hamlout.format_script_false_true_false_true_false_true_true((body
));}</span>\n<span class='field_value'>#{_hamlout.format_script_false_true_false_true_false_true_true((site.body
));}</span>\n</li>\n</ul>\n#{_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Show', site
));}\n#{_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Edit', edit_site_path(site)
));}\n#{_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Destroy', site, :confirm => 'Are you sure?', :method => :delete
));}\n</li>\n";
end;_hamlout.buffer << "</ul>\n<br>\n#{

_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'New Site', new_@site
));}\n";::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `module_eval'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `compile'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:134:in `block in render'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:127:in `render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:26:in `render'
/usr/lib/ruby/gems/1.9.2/gems/haml-3.0.22/lib/haml/helpers/action_view_mods.rb:13:in `render_with_haml'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/test_case.rb:107:in `render'
/usr/lib/ruby/gems/1.9.2/gems/rspec-rails-2.1.0/lib/rspec/rails/example/view_example_group.rb:70:in `render'
/home/tyler/ruby/current/whisper/spec/views/sites/index.html.haml_spec.rb:22:in `block (2 levels) in <top (required)>'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `instance_eval'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `with_around_hooks'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:39:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `block in with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `catch'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:38:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:261:in `block in run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:231:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/reporter.rb:12:in `report'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:24:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:55:in `run_in_process'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:46:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:10:in `block in autorun'
Rendered sites/index.html.haml (6.4ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
ERROR: compiling _app_views_sites_index_html_haml___485839271_102401840__507541469 RAISED /home/tyler/ruby/current/whisper/app/views/sites/index.html.haml:22: syntax error, unexpected tIVAR, expecting keyword_do or '{' or '('
Function body:           def _app_views_sites_index_html_haml___485839271_102401840__507541469(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "sites/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>true, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.buffer << "<h1>sites</h1>\n<ul class='items' id='sites'>\n";


_hamlout.append_if_string=  @sites.each do |site|;
_hamlout.open_tag("li", false, false, false, true, {"class"=>"item"}, false, false, [site], nil);_hamlout.buffer << "<ul class='details'>\n<li class='field domain'>\n<span class='field_name'>Domain</span>\n<span class='field_value'>#{



_hamlout.format_script_false_true_false_true_false_true_true((site.domain
));}</span>\n</li>\n<li class='field title'>\n<span class='field_name'>Title</span>\n<span class='field_value'>#{

_hamlout.format_script_false_true_false_true_false_true_true((site.title
));}</span>\n</li>\n<li class='field body'>\n<span class='field_name'>Body</span>\n<span class='field_value'>#{

_hamlout.format_script_false_true_false_true_false_true_true((site.body
));}</span>\n</li>\n</ul>\n#{_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Show', site
));}\n#{_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Edit', edit_site_path(site)
));}\n#{_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Destroy', site, :confirm => 'Are you sure?', :method => :delete
));}\n</li>\n";
end;_hamlout.buffer << "</ul>\n<br>\n#{

_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'New Site', new_@site
));}\n";::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `module_eval'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `compile'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:134:in `block in render'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:127:in `render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:26:in `render'
/usr/lib/ruby/gems/1.9.2/gems/haml-3.0.22/lib/haml/helpers/action_view_mods.rb:13:in `render_with_haml'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/test_case.rb:107:in `render'
/usr/lib/ruby/gems/1.9.2/gems/rspec-rails-2.1.0/lib/rspec/rails/example/view_example_group.rb:70:in `render'
/home/tyler/ruby/current/whisper/spec/views/sites/index.html.haml_spec.rb:22:in `block (2 levels) in <top (required)>'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `instance_eval'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `with_around_hooks'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:39:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `block in with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `catch'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:38:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:261:in `block in run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:231:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/reporter.rb:12:in `report'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:24:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:55:in `run_in_process'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:46:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:10:in `block in autorun'
Rendered sites/index.html.haml (6.0ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
Rendered sites/index.html.haml (10.3ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
Rendered sites/index.html.haml (10.3ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Rendered sites/index.html.haml within layouts/application (1.5ms)
Completed 200 OK in 14ms (Views: 11.4ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 6ms (Views: 3.5ms)
  Processing by SitesController#new as HTML
Completed 200 OK in 6ms (Views: 3.5ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 6ms (Views: 3.5ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1005
Completed 302 Found in 8ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1006
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 4ms (Views: 1.9ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1009
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1010
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 4ms (Views: 1.8ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 4ms (Views: 1.9ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 5ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 2ms
Rendered sites/_form.html.haml (9.0ms)
Rendered sites/_form.html.haml (3.4ms)
ERROR: compiling _app_views_sites_show_html_haml___189558811_82378430__941860615 RAISED /home/tyler/ruby/current/whisper/app/views/sites/show.html.haml:13: syntax error, unexpected tIVAR, expecting keyword_do or '{' or '('
Function body:           def _app_views_sites_show_html_haml___189558811_82378430__941860615(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "sites/show";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>true, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.buffer << "<p id='notice'>#{_hamlout.format_script_false_true_false_true_false_true_true((notice
));}</p>\n<p>\n<b>Domain:</b>\n#{


_hamlout.format_script_false_false_false_true_false_true_true(( @site.domain
));}\n</p>\n<p>\n<b>Title:</b>\n#{

_hamlout.format_script_false_false_false_true_false_true_true(( @site.title
));}\n</p>\n<p>\n<b>Body:</b>\n#{

_hamlout.format_script_false_false_false_true_false_true_true(( @site.body
));}\n</p>\n#{
_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Edit', edit_@site
));}\n|\n#{
_hamlout.format_script_false_false_false_true_false_true_true(( link_to 'Back', sites_path
));}\n";::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `module_eval'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:255:in `compile'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:134:in `block in render'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/template.rb:127:in `render'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `block in instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/activesupport-3.0.3/lib/active_support/notifications.rb:52:in `instrument'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:56:in `_render_template'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/render/rendering.rb:26:in `render'
/usr/lib/ruby/gems/1.9.2/gems/haml-3.0.22/lib/haml/helpers/action_view_mods.rb:13:in `render_with_haml'
/usr/lib/ruby/gems/1.9.2/gems/actionpack-3.0.3/lib/action_view/test_case.rb:107:in `render'
/usr/lib/ruby/gems/1.9.2/gems/rspec-rails-2.1.0/lib/rspec/rails/example/view_example_group.rb:70:in `render'
/home/tyler/ruby/current/whisper/spec/views/sites/show.html.haml_spec.rb:15:in `block (2 levels) in <top (required)>'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `instance_eval'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:42:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:81:in `with_around_hooks'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:39:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `call'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:75:in `block in with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `catch'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:74:in `with_pending_capture'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example.rb:38:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:261:in `block in run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:257:in `run_examples'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/example_group.rb:231:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block (2 levels) in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `map'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:27:in `block in run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/reporter.rb:12:in `report'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/command_line.rb:24:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:55:in `run_in_process'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:46:in `run'
/usr/lib/ruby/gems/1.9.2/gems/rspec-core-2.1.0/lib/rspec/core/runner.rb:10:in `block in autorun'


Started GET "/sites" for 127.0.0.1 at 2010-11-27 20:04:26 -0800
  Processing by SitesController#index as HTML
whisper_test['sites'].find({}, {})
Completed 200 OK in 9ms (Views: 9.1ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 15ms (Views: 12.0ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.2ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1005
Completed 302 Found in 8ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1006
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1007
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1009
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1010
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 54ms (Views: 6.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 5ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 2ms
Rendered sites/_form.html.haml (9.0ms)
Rendered sites/_form.html.haml (3.3ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
Rendered sites/show.html.haml (4.4ms)
  Processing by SitesController#index as HTML
Completed 200 OK in 14ms (Views: 11.4ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.2ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1006
Completed 302 Found in 8ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1008
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1010
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1012
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.8ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 5ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 2ms
Rendered sites/_form.html.haml (9.5ms)
Rendered sites/_form.html.haml (3.8ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
Rendered sites/_form.html.haml (9.1ms)
Rendered sites/edit.html.haml (14.0ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 15ms (Views: 11.8ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1005
Completed 302 Found in 8ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1006
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1009
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1010
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1011
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 5ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 2ms
Rendered sites/_form.html.haml (8.9ms)
Rendered sites/_form.html.haml (3.3ms)


Started GET "/sites" for 127.0.0.1 at 2010-11-27 20:45:18 -0800
  Processing by SitesController#index as HTML
whisper_test['sites'].find({}, {})
Completed 200 OK in 12ms (Views: 11.8ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Rendered sites/index.html.haml within layouts/application (2.1ms)
Completed 200 OK in 15ms (Views: 12.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.3ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1005
Completed 302 Found in 8ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1006
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1007
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1009
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1010
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 52ms (Views: 50.0ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 5ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 2ms
Rendered sites/_form.html.haml (9.0ms)
Rendered sites/_form.html.haml (3.3ms)


Started GET "/sites" for 127.0.0.1 at 2010-11-27 21:00:36 -0800
  Processing by SitesController#index as HTML
whisper_test['sites'].find({}, {})
Completed 200 OK in 12ms (Views: 12.1ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 15ms (Views: 12.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1005
Completed 302 Found in 8ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1006
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 4ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1009
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1010
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 5ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 2ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 15ms (Views: 12.0ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"root"}
Completed   in 0ms
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1005
Completed 302 Found in 8ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1006
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1009
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1010
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 5ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 2ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 15ms (Views: 12.1ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed   in 0ms
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1005
Completed 302 Found in 8ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1006
Completed 302 Found in 4ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1009
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1010
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.6ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 5ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 2ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Completed   in 0ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed   in 0ms
  Processing by SitesController#new as HTML
Completed   in 0ms
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Completed   in 0ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed   in 0ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Completed   in 0ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Completed   in 0ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed   in 0ms
  Processing by SitesController#new as HTML
Completed   in 0ms
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Completed   in 0ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed   in 0ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Completed   in 0ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered sites/_form.html.haml (9.1ms)
Rendered sites/_form.html.haml (3.4ms)


Started GET "/sites" for 127.0.0.1 at 2010-11-27 21:08:42 -0800
  Processing by SitesController#index as HTML
Completed   in 0ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 16ms (Views: 11.9ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed   in 0ms
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1005
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1006
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1007
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1009
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1010
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered sites/index.html.haml within layouts/application (2.2ms)
Completed 200 OK in 16ms (Views: 12.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1005
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1006
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1007
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1009
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1010
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1011
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 16ms (Views: 12.1ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1005
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1006
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1007
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1009
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1010
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 16ms (Views: 12.1ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 5ms (Views: 2.7ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1006
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1008
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1010
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1012
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed   in 15ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 5ms (Views: 2.7ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1006
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1008
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1010
Completed 302 Found in 7ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1011
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1012
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.9ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered shared/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 16ms (Views: 12.0ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.3ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 5ms (Views: 2.7ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1006
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1008
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1010
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1012
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.6ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed   in 15ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 5ms (Views: 2.7ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1006
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1008
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1010
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1012
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed   in 135ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 20ms (Views: 16.3ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 5ms (Views: 2.7ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 14ms (Views: 10.0ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.4ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1006
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1007
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1008
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1010
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1012
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
Rendered sites/_form.html.haml (9.1ms)
Rendered sites/_form.html.haml (3.4ms)


Started GET "/sites" for 127.0.0.1 at 2010-11-28 10:33:43 -0800
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
Completed   in 2ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 16ms (Views: 12.0ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 5ms (Views: 2.7ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1006
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1008
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1010
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1012
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered sites/index.html.haml within layouts/application (2.1ms)
Completed 200 OK in 16ms (Views: 12.3ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 5ms (Views: 2.8ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1006
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1008
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1010
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1012
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.6ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered sites/index.html.haml within layouts/application (2.1ms)
Completed 200 OK in 152ms (Views: 52.1ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 20ms (Views: 16.0ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 5ms (Views: 2.7ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 14ms (Views: 10.7ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.4ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1006
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1008
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1010
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1012
Completed 302 Found in 52ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.6ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
Rendered sites/_form.html.haml (9.0ms)
Rendered sites/_form.html.haml (3.3ms)


Started GET "/sites" for 127.0.0.1 at 2010-11-28 11:42:22 -0800
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['sites'].find({}, {})
Completed 200 OK in 13ms (Views: 11.9ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Rendered pages/index.html.haml within layouts/application (2.1ms)
Completed 200 OK in 15ms (Views: 12.1ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.3ms)
  Processing by PagesController#new as HTML
Completed 200 OK in 7ms (Views: 4.3ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.3ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
Redirected to http://test.host/pages/1005
Completed 302 Found in 8ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
Redirected to http://test.host/pages/1006
Completed 302 Found in 5ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
Redirected to http://test.host/pages/1007
Completed 302 Found in 5ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/pages/1009
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/pages/1010
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/pages/1011
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/pages
Completed 302 Found in 5ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/pages
Completed 302 Found in 2ms
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.3ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 5ms (Views: 2.8ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 61ms (Views: 57.8ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1021
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1022
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1023
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1025
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1026
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1027
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
Rendered pages/_form.html.haml (11.2ms)
Rendered pages/_form.html.haml (4.6ms)
Rendered sites/_form.html.haml (8.8ms)
Rendered sites/_form.html.haml (3.4ms)


Started GET "/pages" for 127.0.0.1 at 2010-11-28 11:59:13 -0800
  Processing by PagesController#index as HTML
whisper_test['pages'].find({}, {})
Completed 200 OK in 14ms (Views: 13.4ms)


Started GET "/sites" for 127.0.0.1 at 2010-11-28 11:59:13 -0800
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['sites'].find({}, {})
Completed 200 OK in 10ms (Views: 9.1ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered pages/index.html.haml within layouts/application (2.1ms)
Completed 200 OK in 16ms (Views: 12.1ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.3ms)
  Processing by PagesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.4ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1005
Completed 302 Found in 9ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1006
Completed 302 Found in 5ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1010
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.7ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 6ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 3ms
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 65ms (Views: 61.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.3ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 6ms (Views: 3.0ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.4ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.3ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1021
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1022
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1023
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.7ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1025
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1026
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1027
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
Rendered pages/_form.html.haml (11.7ms)
Rendered pages/_form.html.haml (5.0ms)
Rendered sites/_form.html.haml (9.0ms)
Rendered sites/_form.html.haml (3.4ms)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be17665fc91324000010')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be17665fc91324000010')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$.dwiA3HLhBIP9RVfrn8OhuBHaNPlvmr6aOH9urw/fctcnJt.hA/0m", "password_salt"=>"$2a$10$.dwiA3HLhBIP9RVfrn8Ohu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be17665fc91324000011'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be17665fc91324000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be17665fc91324000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$1bG0v2a38ixQ/O7/a90gHurVvRAFfLogZkWr9Kpiwyi08PDdRH/8y", "password_salt"=>"$2a$10$1bG0v2a38ixQ/O7/a90gHu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be17665fc91324000014'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be17665fc91324000015')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be17665fc91324000015')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$R2ybMBdA3td5iUCY9QeRG.TloWBlRQG5U7Sw18m.sLfNJKyASZK4a", "password_salt"=>"$2a$10$R2ybMBdA3td5iUCY9QeRG.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be17665fc91324000016'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be17665fc91324000017')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be17665fc91324000017')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$s.6.y57SXpLZGTlwO1MKC.cQzhBpMmac6XTTLx.fqyhMcsVB.N93G", "password_salt"=>"$2a$10$s.6.y57SXpLZGTlwO1MKC.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be17665fc91324000018'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be18665fc91324000019')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be18665fc91324000019')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Xr3osZMDAmx2izu/y9rjguJexfaGLmplq10HFnVDGdWBKR/Phuy3G", "password_salt"=>"$2a$10$Xr3osZMDAmx2izu/y9rjgu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be18665fc9132400001a'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be18665fc9132400001c')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be18665fc9132400001c')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$WOON4gkDEQ8UxEd1jEQqL.6R1opgvyEw8KcT2SyORezUgpNV2Jopy", "password_salt"=>"$2a$10$WOON4gkDEQ8UxEd1jEQqL.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be18665fc9132400001d'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be18665fc9132400001f')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be18665fc9132400001f')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$tZR9ka6ypvUziFjh.M1Fuu6wxQ6sk8890bSZbiEfQp9zwFBhmPnDK", "password_salt"=>"$2a$10$tZR9ka6ypvUziFjh.M1Fuu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be18665fc91324000020'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2be18665fc9132400001f')}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be18665fc91324000021')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be18665fc91324000021')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$RjOWVjO/vDZ6kStjFwWHgO0puYNPjh3JX2ARTPy1hCdWM7tNL78pK", "password_salt"=>"$2a$10$RjOWVjO/vDZ6kStjFwWHgO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be18665fc91324000022'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be18665fc91324000023')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be18665fc91324000023')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$.Aez8Yju4Kpq6pTzZHJolOKdfxkGmY2E/3nNNdLIwXFctWTUhfNI6", "password_salt"=>"$2a$10$.Aez8Yju4Kpq6pTzZHJolO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be18665fc91324000024'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2be18665fc91324000023')}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be18665fc91324000025')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be18665fc91324000025')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ZXVf4O9fjIyfYEi5.FZYe.k8uf1Uj9NlMyyWMI2CjaGS8HtHSZS5W", "password_salt"=>"$2a$10$ZXVf4O9fjIyfYEi5.FZYe.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be18665fc91324000026'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be18665fc91324000027')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be18665fc91324000027')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$m5NJMX/hb0IbzHqueqg2wur63zP3feHmpdeAZgz.lHd4yxO3jsZJq", "password_salt"=>"$2a$10$m5NJMX/hb0IbzHqueqg2wu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be18665fc91324000028'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be18665fc91324000029')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be18665fc91324000029')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$rNgyUOC0dtrahp8XN/3eqOWR6Pqmj/G5JS/n.yvnBg/ed64iwm9dC", "password_salt"=>"$2a$10$rNgyUOC0dtrahp8XN/3eqO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be18665fc9132400002a'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be19665fc9132400002b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be19665fc9132400002b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$/gL9BsUyEcdZqTeM/v8ibupbAAhuzz4T63H1VQ15YKIUQfhoe8am.", "password_salt"=>"$2a$10$/gL9BsUyEcdZqTeM/v8ibu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be19665fc9132400002c'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be19665fc9132400002d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be19665fc9132400002d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$lQlQiv0I5e9pcpzO3hVrpubxlLPMLJ6SEkw7/1zHNQ451q27AK.RK", "password_salt"=>"$2a$10$lQlQiv0I5e9pcpzO3hVrpu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be19665fc9132400002e'), "alias"=>"tgannon"}}})


Started GET "/pages" for 127.0.0.1 at 2010-11-28 12:39:53 -0800
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['pages'].find({}, {})
Completed 200 OK in 14ms (Views: 13.2ms)


Started GET "/sites" for 127.0.0.1 at 2010-11-28 12:39:53 -0800
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['sites'].find({}, {})
Completed 200 OK in 35ms (Views: 34.3ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered pages/index.html.haml within layouts/application (2.1ms)
Completed 200 OK in 16ms (Views: 12.0ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.3ms)
  Processing by PagesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.4ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1005
Completed 302 Found in 9ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1006
Completed 302 Found in 5ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 7ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1010
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.6ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.6ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 6ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 3ms
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.3ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.3ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 6ms (Views: 2.8ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.3ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1021
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1022
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1023
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1025
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1026
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1027
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
Rendered pages/_form.html.haml (11.3ms)
Rendered pages/_form.html.haml (4.5ms)
Rendered sites/_form.html.haml (8.9ms)
Rendered sites/_form.html.haml (3.4ms)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be29665fc91342000010')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be29665fc91342000010')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$lNwWUcWqqkP2Qbrjg7GgSuVrA4FBLGezxZ3OCIJQThaXcUxehr4p.", "password_salt"=>"$2a$10$lNwWUcWqqkP2Qbrjg7GgSu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be29665fc91342000011'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be29665fc91342000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be29665fc91342000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$BpKFyAL3/zFwBSpgIptNZuA9WWqsIIXhTmuJq2uP7BrBVPcKsAJAW", "password_salt"=>"$2a$10$BpKFyAL3/zFwBSpgIptNZu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be29665fc91342000014'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be2a665fc91342000015')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be2a665fc91342000015')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$jnp3Y09yYDoga.ZOtakP6.QkZMIIFoPfdfcE2L/Od.9/6.bLjWvGa", "password_salt"=>"$2a$10$jnp3Y09yYDoga.ZOtakP6.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be2a665fc91342000016'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be2a665fc91342000017')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be2a665fc91342000017')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$X165CitM4lDzEwH5vqgQu.YOBQKJ5CoYVqQ3n/7/e90RTvPS8MPdS", "password_salt"=>"$2a$10$X165CitM4lDzEwH5vqgQu.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be2a665fc91342000018'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be2a665fc91342000019')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be2a665fc91342000019')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$u9Dwtpc7v3hDhDDYVfy.uejoGrXekqk8ogBk1ESAJGklSqONEu6Ji", "password_salt"=>"$2a$10$u9Dwtpc7v3hDhDDYVfy.ue", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be2a665fc9134200001a'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be2a665fc9134200001c')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be2a665fc9134200001c')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$k8ChMfoAqTeuXtnRiKp0cOnwgXiyUd6.gtr45cCZ2/jLsA0A6.e4W", "password_salt"=>"$2a$10$k8ChMfoAqTeuXtnRiKp0cO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be2a665fc9134200001d'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be2a665fc9134200001f')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be2a665fc9134200001f')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$tQWPqJ8ajRaJ8twB0iZxbehN4DZ6Spn0OeihmzARiGdSWFiRsiTL6", "password_salt"=>"$2a$10$tQWPqJ8ajRaJ8twB0iZxbe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be2a665fc91342000020'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2be2a665fc9134200001f')}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be2a665fc91342000021')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be2a665fc91342000021')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$EXXyhEukRoyPW/k42WMZLOGILFjHidrucDO2nbQ1UBTFossOPraXi", "password_salt"=>"$2a$10$EXXyhEukRoyPW/k42WMZLO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be2a665fc91342000022'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be2a665fc91342000023')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be2a665fc91342000023')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ev6dtSiyn2rFYnshwCxuTeHDMYDsXy8FsBrtihugy0GTKojldtiQC", "password_salt"=>"$2a$10$ev6dtSiyn2rFYnshwCxuTe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be2a665fc91342000024'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2be2a665fc91342000023')}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be2a665fc91342000025')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be2a665fc91342000025')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$SlHM8fq/BRRNjVHLtpjLWOBEmN92FIngVwCjwgdjrnj6N2EEILNUW", "password_salt"=>"$2a$10$SlHM8fq/BRRNjVHLtpjLWO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be2a665fc91342000026'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be2b665fc91342000027')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be2b665fc91342000027')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$oUgFstozx7FLxgh1Ab4pM.3tpo8VeQ/p3lDgxY/okP/nirLJod9cq", "password_salt"=>"$2a$10$oUgFstozx7FLxgh1Ab4pM.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be2b665fc91342000028'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be2b665fc91342000029')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be2b665fc91342000029')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$XbJdHs49MEXyoz7x2M4Zy.wa72dGPAmmzNAim14n/.GlDThIACBSG", "password_salt"=>"$2a$10$XbJdHs49MEXyoz7x2M4Zy.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be2b665fc9134200002a'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be2b665fc9134200002b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be2b665fc9134200002b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Wqoy517wuXhkDYHNfCAq/uT6kr.4ItATSldii6VjoveJu9Clx/6Ky", "password_salt"=>"$2a$10$Wqoy517wuXhkDYHNfCAq/u", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be2b665fc9134200002c'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2be2b665fc9134200002d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2be2b665fc9134200002d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$1mIfEC5UdykYI2IMgEjh7.NUxZwH.JvetO6jyNvx75ZpFu0A8MNnm", "password_salt"=>"$2a$10$1mIfEC5UdykYI2IMgEjh7.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2be2b665fc9134200002e'), "alias"=>"tgannon"}}})


Started GET "/pages" for 127.0.0.1 at 2010-11-28 12:40:11 -0800
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['pages'].find({}, {})
Completed 200 OK in 14ms (Views: 13.2ms)


Started GET "/sites" for 127.0.0.1 at 2010-11-28 12:40:11 -0800
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['sites'].find({}, {})
Completed 200 OK in 61ms (Views: 60.0ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf4d665fc91395000001')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf4d665fc91395000001')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6/QOMlsy7N7DsxsgaEwAvOb4z6hXNY1JTbXBHRZYslBzY3FhBi1eq", "password_salt"=>"$2a$10$6/QOMlsy7N7DsxsgaEwAvO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf4d665fc91395000002'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf4d665fc91395000004')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf4d665fc91395000004')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$17XOMkgkdFUtdkEXOisxZe541JGM7lUcWBTBFkwxAacNPFMV9AZYq", "password_salt"=>"$2a$10$17XOMkgkdFUtdkEXOisxZe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf4d665fc91395000005'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf4d665fc91395000006')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf4d665fc91395000006')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$kgQlKNvmyhk/ghIyGbqsIustchlXyo0Qfh4RTMXpJ9WCr9aQjo.ee", "password_salt"=>"$2a$10$kgQlKNvmyhk/ghIyGbqsIu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf4d665fc91395000007'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf4e665fc91395000008')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf4e665fc91395000008')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Syf7KhIxoFbHyTLiXJkAp.bB1etjcnb8Te1A4.l3Bd0w9JcReKtKC", "password_salt"=>"$2a$10$Syf7KhIxoFbHyTLiXJkAp.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf4e665fc91395000009'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf4e665fc9139500000a')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf4e665fc9139500000a')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$TnoLcvEZfuiwf0t3Ih7RFeAr5visoCTV6hPPys7qe1fCfvub2T/se", "password_salt"=>"$2a$10$TnoLcvEZfuiwf0t3Ih7RFe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf4e665fc9139500000b'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf4e665fc9139500000d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf4e665fc9139500000d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$M2qWvURF7io3prdtZs/6k.Lv2mAqeDFQD7Mjbc7w3o5sJ7Re47IXa", "password_salt"=>"$2a$10$M2qWvURF7io3prdtZs/6k.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf4e665fc9139500000e'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf4e665fc91395000010')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf4e665fc91395000010')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$FDTqRQUkOjGDJBQTcgIQGej6u/gKy5mYStsMVe9.GcsLmG8/SLVDC", "password_salt"=>"$2a$10$FDTqRQUkOjGDJBQTcgIQGe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf4e665fc91395000011'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2bf4e665fc91395000010')}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf4e665fc91395000012')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf4e665fc91395000012')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$v4IwsJHzlirFFmIw1sd49uyJ5JdxjYhGwAhkrcqnyc0Op1G.Zwdlq", "password_salt"=>"$2a$10$v4IwsJHzlirFFmIw1sd49u", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf4e665fc91395000013'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf4e665fc91395000014')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf4e665fc91395000014')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ulhd5knxe1UkGN3Pd.LrZOXZaVgJYL5mlVld5li9NYf5qqVBXMhFe", "password_salt"=>"$2a$10$ulhd5knxe1UkGN3Pd.LrZO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf4e665fc91395000015'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2bf4e665fc91395000014')}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf4e665fc91395000016')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf4e665fc91395000016')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$iSjuJ7iOI2iJMrTqJz31ReWuAHeloUrCaQd6n1jDuXM4WichrSbGu", "password_salt"=>"$2a$10$iSjuJ7iOI2iJMrTqJz31Re", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf4e665fc91395000017'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf4e665fc91395000018')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf4e665fc91395000018')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ev59pa/OfHuXNkRgefm9JO7MsZ2W5h7METDHAbJn6bchtP4REqOEm", "password_salt"=>"$2a$10$ev59pa/OfHuXNkRgefm9JO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf4e665fc91395000019'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf4f665fc9139500001a')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf4f665fc9139500001a')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$kbgOe3Y6nK6fnsAwv6mAnuQhqnWFOOcv5JIOPpR0zxf4TZo.xoeXe", "password_salt"=>"$2a$10$kbgOe3Y6nK6fnsAwv6mAnu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf4f665fc9139500001b'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf4f665fc9139500001c')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf4f665fc9139500001c')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$0pYxVqpduDOV8c3DVJSPYuJMnGFzj.vojwunBVeYil9qn7Myh3lsS", "password_salt"=>"$2a$10$0pYxVqpduDOV8c3DVJSPYu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf4f665fc9139500001d'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf4f665fc9139500001e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf4f665fc9139500001e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6rUVxhpTXGXVSIIHgRgnsO9Qfs.xYDmVeO6xxUNLuO5LHZxc6e.FG", "password_salt"=>"$2a$10$6rUVxhpTXGXVSIIHgRgnsO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf4f665fc9139500001f'), "alias"=>"tgannon"}}})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf9b665fc913b7000001')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf9b665fc913b7000001')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$rvucRsH7N7ymO.JKQPt53.3/1jffgFVYXcglfadcAHcMCINmkcFyO", "password_salt"=>"$2a$10$rvucRsH7N7ymO.JKQPt53.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf9b665fc913b7000002'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf9b665fc913b7000004')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf9b665fc913b7000004')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$fn.vKsE.d3ZKn6UlWBzsouDVT.lQbybo05hK2wfkk8UE0fCvmIHWS", "password_salt"=>"$2a$10$fn.vKsE.d3ZKn6UlWBzsou", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf9b665fc913b7000005'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf9b665fc913b7000006')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf9b665fc913b7000006')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$t.dNPBFq2bmyoD.7dFm8SuzfzvKSH8zknJyXaq7rMRAen8mVEn2tG", "password_salt"=>"$2a$10$t.dNPBFq2bmyoD.7dFm8Su", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf9b665fc913b7000007'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf9b665fc913b7000008')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf9b665fc913b7000008')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$guGnmn3hPqi5BS18CsvL.OKsxxtXvL6KqPWT84z2nyw3T3hcdkDe.", "password_salt"=>"$2a$10$guGnmn3hPqi5BS18CsvL.O", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf9b665fc913b7000009'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf9c665fc913b700000b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf9c665fc913b700000b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$CGhmcJKCEn5Z8Lz33JtvZeZMVHp1EJVqHb28xIV5KithSiRtbdodS", "password_salt"=>"$2a$10$CGhmcJKCEn5Z8Lz33JtvZe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf9c665fc913b700000c'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf9c665fc913b700000e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf9c665fc913b700000e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ygODd53/1Lg0PRfh/2k3LeGlRPHRPsSyjpSOTsBZmlJXYvsssI1R6", "password_salt"=>"$2a$10$ygODd53/1Lg0PRfh/2k3Le", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf9c665fc913b700000f'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf9c665fc913b7000011')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf9c665fc913b7000011')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$erqJq6R0jLzbHYq4.NJgvemmCE0m/FwmVnTBKMl7uHNKUeWsAaS/C", "password_salt"=>"$2a$10$erqJq6R0jLzbHYq4.NJgve", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf9c665fc913b7000012'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2bf9c665fc913b7000011')}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf9c665fc913b7000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf9c665fc913b7000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6h/6MQyazsruMQdsPFht3eGeuSQZ8E3LablYVjVuyRounwRhrKFs.", "password_salt"=>"$2a$10$6h/6MQyazsruMQdsPFht3e", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf9c665fc913b7000014'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf9c665fc913b7000015')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf9c665fc913b7000015')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$mKa9wex1RCubYxGXXxTGQurvF01Ov6y7d4vm27QLZTdOnMC1fRtji", "password_salt"=>"$2a$10$mKa9wex1RCubYxGXXxTGQu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf9c665fc913b7000016'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2bf9c665fc913b7000015')}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf9c665fc913b7000017')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf9c665fc913b7000017')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$MJYsH/ka9d.oKTQdBM4Qg.WT/WuTLPcHZiSVVy2WOQOs2NbD3xUQu", "password_salt"=>"$2a$10$MJYsH/ka9d.oKTQdBM4Qg.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf9c665fc913b7000018'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf9c665fc913b7000019')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf9c665fc913b7000019')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$RAnu51VgVrvugYe2V.rskO8ZtIWOEycsNu3TuhIorgAjB8cc77W5K", "password_salt"=>"$2a$10$RAnu51VgVrvugYe2V.rskO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf9c665fc913b700001a'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf9c665fc913b700001b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf9c665fc913b700001b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Q7H4Wq.sCAV25.MwYYxswu4hG2Oeu2aqXFzkbJG75JhxA0lPzP5bW", "password_salt"=>"$2a$10$Q7H4Wq.sCAV25.MwYYxswu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf9c665fc913b700001c'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf9d665fc913b700001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf9d665fc913b700001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$PtxYv2T2VqXtHMRpZqsPIe2JhN8XyxUlrqgrQM2k3APd1XvMTIvy.", "password_salt"=>"$2a$10$PtxYv2T2VqXtHMRpZqsPIe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf9d665fc913b700001e'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2bf9d665fc913b700001f')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2bf9d665fc913b700001f')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$VTYk6Otyw./UhvnS2WAjx.NyygudVEAxibtxbxhitGz19iDpo8sLy", "password_salt"=>"$2a$10$VTYk6Otyw./UhvnS2WAjx.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2bf9d665fc913b7000020'), "alias"=>"tgannon"}}})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered pages/index.html.haml within layouts/application (2.1ms)
Completed 200 OK in 16ms (Views: 11.9ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 33ms (Views: 4.4ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by PagesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1005
Completed 302 Found in 9ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1006
Completed 302 Found in 5ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 6ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 6ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1010
Completed 302 Found in 6ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 5ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 7ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 3ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.4ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.4ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 6ms (Views: 3.0ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1021
Completed 302 Found in 9ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1022
Completed 302 Found in 5ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1023
Completed 302 Found in 6ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.7ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1025
Completed 302 Found in 6ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1026
Completed 302 Found in 5ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1027
Completed 302 Found in 5ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
Rendered pages/_form.html.haml (11.5ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
Rendered pages/_form.html.haml (4.5ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
Rendered sites/_form.html.haml (9.0ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
Rendered sites/_form.html.haml (3.4ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c062665fc913f2000010')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c062665fc913f2000010')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$FoNvlk.Wxt8hB3vOJYeipOE/mGhx9PkS00EK5Fj3qrYOawuTcaDny", "password_salt"=>"$2a$10$FoNvlk.Wxt8hB3vOJYeipO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c062665fc913f2000011'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c063665fc913f2000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c063665fc913f2000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$J60K02JheqP34Ek0IaeD0Od9TpV.i3EXmKd0PUM3nFYJ69adVyc7q", "password_salt"=>"$2a$10$J60K02JheqP34Ek0IaeD0O", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c063665fc913f2000014'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c063665fc913f2000015')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c063665fc913f2000015')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$5AoG66ziP3MkiCnhHX2KxOHBZT.rBLrbjDdXkZNqydB5CfOkZQhGi", "password_salt"=>"$2a$10$5AoG66ziP3MkiCnhHX2KxO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c063665fc913f2000016'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c063665fc913f2000017')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c063665fc913f2000017')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$U8taklUwR9TOEgfyhF7yfuaAwhVlhYGYhdu1TpfQQPpwzz0UYVD3C", "password_salt"=>"$2a$10$U8taklUwR9TOEgfyhF7yfu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c063665fc913f2000018'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c063665fc913f200001a')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c063665fc913f200001a')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$0v2MITgTBpzN0UNCmgHTUuAnPiRxVB4GR4vQTQYwKFXEvvuxnHTOi", "password_salt"=>"$2a$10$0v2MITgTBpzN0UNCmgHTUu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c063665fc913f200001b'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c063665fc913f200001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c063665fc913f200001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6IJTCLNSFv6ahoYfKUKFxOXipckGxak4a37OOIB3fblE6Fvnkn2Iu", "password_salt"=>"$2a$10$6IJTCLNSFv6ahoYfKUKFxO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c063665fc913f200001e'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c063665fc913f2000020')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c063665fc913f2000020')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$5qTpJjq/tw4Ijjy9oQSZTeTnBIetLq5C/lpY5qqd1Y6jByPXe5mS2", "password_salt"=>"$2a$10$5qTpJjq/tw4Ijjy9oQSZTe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c063665fc913f2000021'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2c063665fc913f2000020')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c063665fc913f2000022')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c063665fc913f2000022')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$wfMx4DF1dcvWiEcpYVcuyeWUCIQw7oQHIrqBjjZqYt7kJ16JGi13m", "password_salt"=>"$2a$10$wfMx4DF1dcvWiEcpYVcuye", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c063665fc913f2000023'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c063665fc913f2000024')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c063665fc913f2000024')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$sDvGf.bbnbgXPY6JjkCLseYYtgfuYxfjNVFA93Jz0UWdKL1U7VIz6", "password_salt"=>"$2a$10$sDvGf.bbnbgXPY6JjkCLse", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c063665fc913f2000025'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2c063665fc913f2000024')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c064665fc913f2000026')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c064665fc913f2000026')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$l0aXKEmv2gH9Xrdl38etSezOGFRysu87iyJ47irDk.ivp/4PlQdiW", "password_salt"=>"$2a$10$l0aXKEmv2gH9Xrdl38etSe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c064665fc913f2000027'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c064665fc913f2000028')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c064665fc913f2000028')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$BDK5BuZ33GFDeObHJV6upurCP2fkea6zLlH/YtvCvmQ/wLwlegemy", "password_salt"=>"$2a$10$BDK5BuZ33GFDeObHJV6upu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c064665fc913f2000029'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c064665fc913f200002a')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c064665fc913f200002a')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$KU0d01VZtIDoS6nRibbC7OGI69clN3YzYQ3nJOztZkPWj2yESwRx.", "password_salt"=>"$2a$10$KU0d01VZtIDoS6nRibbC7O", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c064665fc913f200002b'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c064665fc913f200002c')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c064665fc913f200002c')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$7nz8jtMOxMWTsYVSPuiQE.JWGAt2UyBIDEQYUnMvA4qjzgbcQ/Jqu", "password_salt"=>"$2a$10$7nz8jtMOxMWTsYVSPuiQE.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c064665fc913f200002d'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c064665fc913f200002c'), "users._id"=>BSON::ObjectId('4cf2c064665fc913f200002d')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2c064665fc913f200002e')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c064665fc913f200002f')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c064665fc913f200002f')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6hwaT9QoMsux5E/DHzU/AOAma/qBPqHH6WoYz/NilxH0hjm/VvCP.", "password_salt"=>"$2a$10$6hwaT9QoMsux5E/DHzU/AO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c064665fc913f2000030'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c064665fc913f200002f'), "users._id"=>BSON::ObjectId('4cf2c064665fc913f2000030')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2c064665fc913f2000031')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-28 12:49:40 -0800
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['pages'].find({}, {})
Completed 200 OK in 15ms (Views: 13.3ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/sites" for 127.0.0.1 at 2010-11-28 12:49:40 -0800
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['sites'].find({}, {})
Completed 200 OK in 10ms (Views: 9.2ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c34e665fc91450000001')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34e665fc91450000001')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$qhNI.4z7b3LHmpizVtF.i.6NJGn2jnLszEBTNal.pQZ/cggQTtfMG", "password_salt"=>"$2a$10$qhNI.4z7b3LHmpizVtF.i.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c34e665fc91450000002'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c34e665fc91450000004')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34e665fc91450000004')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$OghhFuhDMxDvVXBkdDoOXu8O245AkcIlf7G/5tEpKzRR8oJrCJe.u", "password_salt"=>"$2a$10$OghhFuhDMxDvVXBkdDoOXu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c34e665fc91450000005'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c34e665fc91450000006')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34e665fc91450000006')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$FK71Cg5p3pASG/uajpCYIuFyiivnbe.iJuXiPt6qncxsEuH3gvkiW", "password_salt"=>"$2a$10$FK71Cg5p3pASG/uajpCYIu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c34e665fc91450000007'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c34e665fc91450000008')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34e665fc91450000008')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$fb/OeoKIjev.0JZVCS.LaOilxMD89.Q8FILV.wSOXwVswAJcrTCl2", "password_salt"=>"$2a$10$fb/OeoKIjev.0JZVCS.LaO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c34e665fc91450000009'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c34e665fc9145000000b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34e665fc9145000000b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$7j8nmdI5I.exfQBCXqmFWOUi1nedaUYsJvBcQ2GuWG3rZ7ii8aXka", "password_salt"=>"$2a$10$7j8nmdI5I.exfQBCXqmFWO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c34e665fc9145000000c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c34e665fc9145000000e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34e665fc9145000000e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$IlKwzdOwuzOCI65hVaqDPetgvmDuEXGJj10QQRVoU4odCV6u.e9ky", "password_salt"=>"$2a$10$IlKwzdOwuzOCI65hVaqDPe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c34e665fc9145000000f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c34f665fc91450000011')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34f665fc91450000011')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$IosU8oeh0ys69EYA6l00yufOYuZjh2tFO3WuX.XVtlsl52PyGrtUC", "password_salt"=>"$2a$10$IosU8oeh0ys69EYA6l00yu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c34f665fc91450000012'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"4cf2c34f665fc91450000011"}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c34f665fc91450000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34f665fc91450000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$wdg.HHe3bR1Y4FCaT6Stl.ID78ciKSVId03yBYB9c24GwkpwZfXG2", "password_salt"=>"$2a$10$wdg.HHe3bR1Y4FCaT6Stl.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c34f665fc91450000014'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c34f665fc91450000015')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34f665fc91450000015')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$zDyqGpzapFjkO1nFueFNVuDbfhze2p0RXjYMCFJOrm01WbRlumLaW", "password_salt"=>"$2a$10$zDyqGpzapFjkO1nFueFNVu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c34f665fc91450000016'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"4cf2c34f665fc91450000015"}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c34f665fc91450000017')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34f665fc91450000017')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$BQZZidlJavOxxTUpuoiW/ul9pWh4GsZ4gKRreLvF23oFYmPCaLsY.", "password_salt"=>"$2a$10$BQZZidlJavOxxTUpuoiW/u", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c34f665fc91450000018'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c34f665fc91450000019')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34f665fc91450000019')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$cu9HLRbPc55wgp48SyQxbeI6jF6ZCWMEkej5jjdIqI9bsvcfZVj32", "password_salt"=>"$2a$10$cu9HLRbPc55wgp48SyQxbe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c34f665fc9145000001a'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c34f665fc9145000001b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34f665fc9145000001b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$KKH0jFj.NPNGIWOjyK7vGub7U3K2Dbm2pC11x.PW6XDFQdDrRkE36", "password_salt"=>"$2a$10$KKH0jFj.NPNGIWOjyK7vGu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c34f665fc9145000001c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c34f665fc9145000001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34f665fc9145000001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$K1tnlS1v2RCNc.9DnRpyy.CFoWrDBiBYLgcz0xCZc.HkdqhbnQ3xi", "password_salt"=>"$2a$10$K1tnlS1v2RCNc.9DnRpyy.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c34f665fc9145000001e'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34f665fc9145000001d'), "users._id"=>BSON::ObjectId('4cf2c34f665fc9145000001e')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2c34f665fc9145000001f')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c34f665fc91450000020')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34f665fc91450000020')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$giclhDon2UovjpweQsc1n.6m6fvY9efgeevnaM1bNKFlY.6yaE3T.", "password_salt"=>"$2a$10$giclhDon2UovjpweQsc1n.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c34f665fc91450000021'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c34f665fc91450000020'), "users._id"=>BSON::ObjectId('4cf2c34f665fc91450000021')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2c350665fc91450000022')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c376665fc91470000001')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c376665fc91470000001')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$LxfaWmbpCD6y1cSpcfsleuuZ1PTCPNi6cj446EblUDZzGCLADq6BW", "password_salt"=>"$2a$10$LxfaWmbpCD6y1cSpcfsleu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c376665fc91470000002'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c377665fc91470000004')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c377665fc91470000004')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$RewDYvf6JosEmkcUsFIfXu2LsffCYk6OFQttxlmPj2.QYzfBk5Xfa", "password_salt"=>"$2a$10$RewDYvf6JosEmkcUsFIfXu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c377665fc91470000005'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c377665fc91470000006')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c377665fc91470000006')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$CU8Y6fiT8FaInCiM0WoqKe6v64sDJWgXzB.vkR1MZLy/emzJmtosC", "password_salt"=>"$2a$10$CU8Y6fiT8FaInCiM0WoqKe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c377665fc91470000007'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c377665fc91470000008')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c377665fc91470000008')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$hcc1Suby4b4VJyPKSu9VHu4ZpEfWtYUN79bfmVj3lEP4gbl..SDUq", "password_salt"=>"$2a$10$hcc1Suby4b4VJyPKSu9VHu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c377665fc91470000009'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c377665fc9147000000b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c377665fc9147000000b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$eUwtvf.fCZ5s0BqGZq784Ob7m1WFmoBrXGIUbjBJ/DPtCT//bmmt2", "password_salt"=>"$2a$10$eUwtvf.fCZ5s0BqGZq784O", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c377665fc9147000000c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c377665fc9147000000e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c377665fc9147000000e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$xUJzifTs2pkG80j9v4l/aujL7rHAL7VPMs9ugpK3RmGRXSQm3mh1q", "password_salt"=>"$2a$10$xUJzifTs2pkG80j9v4l/au", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c377665fc9147000000f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c377665fc91470000011')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c377665fc91470000011')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$NiPqa4m4G76H37NSZaG6ZuNwGfaEq9AwfCvTJAoYIHJI7rRxshwKK", "password_salt"=>"$2a$10$NiPqa4m4G76H37NSZaG6Zu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c377665fc91470000012'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"4cf2c377665fc91470000011"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c377665fc91470000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c377665fc91470000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$X/YefhmOkIpDk.ebZVI4yuOHROvfjAKM/2b3lC3scfg67rJb7vxkG", "password_salt"=>"$2a$10$X/YefhmOkIpDk.ebZVI4yu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c377665fc91470000014'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c378665fc91470000015')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c378665fc91470000015')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$tnBAn7wy.PZJByA6GyCBMOkrE3niah8HeELUtxqhYM8V6Fxl2N8XS", "password_salt"=>"$2a$10$tnBAn7wy.PZJByA6GyCBMO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c378665fc91470000016'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"4cf2c378665fc91470000015"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c378665fc91470000017')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c378665fc91470000017')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$DDN4skcPlsE1pCBDyani2eF5jOYIBBMYxz1Ot9e4AMLOtZW06wTqS", "password_salt"=>"$2a$10$DDN4skcPlsE1pCBDyani2e", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c378665fc91470000018'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c378665fc91470000019')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c378665fc91470000019')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6igbUxIV1zDfH26idCrAIOHEskmzWi/Y.jT/Ql8BOWf1Vtu4A.hgC", "password_salt"=>"$2a$10$6igbUxIV1zDfH26idCrAIO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c378665fc9147000001a'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c378665fc9147000001b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c378665fc9147000001b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$vPhkGSyWpL/WolBH/DHJl.DYZWeNvmzGbU9DM1KNPNktbRweLgE6e", "password_salt"=>"$2a$10$vPhkGSyWpL/WolBH/DHJl.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c378665fc9147000001c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c378665fc9147000001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c378665fc9147000001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6XWZBFQAJUVZGxPInNYSbOcX10rsSBzTQ2eZZKUGY05ovW/msiWKW", "password_salt"=>"$2a$10$6XWZBFQAJUVZGxPInNYSbO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c378665fc9147000001e'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c378665fc9147000001d'), "users._id"=>BSON::ObjectId('4cf2c378665fc9147000001e')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2c378665fc9147000001f')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c378665fc91470000020')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c378665fc91470000020')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6xeEUEVY3eIaPyQZ04et7ufREebXF6SJoV7R3G.PUeRamZ7JKMqD6", "password_salt"=>"$2a$10$6xeEUEVY3eIaPyQZ04et7u", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c378665fc91470000021'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c378665fc91470000020'), "users._id"=>BSON::ObjectId('4cf2c378665fc91470000021')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2c378665fc91470000022')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000001')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000001')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$tagaoN5KMelIqk/JtBQciegta6ZI.YPJFC.LBW/vz/HxwyXkt8WpO", "password_salt"=>"$2a$10$tagaoN5KMelIqk/JtBQcie", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000002'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000004')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000004')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$9p2BiLUaaUCr96hUSYL.h.gzpkJfWj9P0X0PtUnhyP5s.ogVDaHQO", "password_salt"=>"$2a$10$9p2BiLUaaUCr96hUSYL.h.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000005'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000006')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000006')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$GTC9IGKEwp1r.eoxgphoeuuStMbMumeBUeAvqkth7X2hEe.lAerRS", "password_salt"=>"$2a$10$GTC9IGKEwp1r.eoxgphoeu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000007'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000008')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000008')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$oAoHvN7BSuAJZH/nKfRseux89K2ZdCKQqimJI/4m52SthEuW/qgji", "password_salt"=>"$2a$10$oAoHvN7BSuAJZH/nKfRseu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000009'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c3e7665fc9149a00000b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e7665fc9149a00000b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$oHiW3YT4tXrtUzPGsAXNOua3iTPYRscn/27JdHrApBLU4u2hvFzXK", "password_salt"=>"$2a$10$oHiW3YT4tXrtUzPGsAXNOu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c3e7665fc9149a00000c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c3e7665fc9149a00000e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e7665fc9149a00000e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ps1EcMBUIAP95rIDGcHKp.CZs7SWfZBh1h3BsLkf1kEKqk/MnX4he", "password_salt"=>"$2a$10$ps1EcMBUIAP95rIDGcHKp.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c3e7665fc9149a00000f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000011')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000011')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$WWD/A2kU/x52P4JoxddLJe/6XHK4usJ0ZLj1tPM8KRIjE4HAsLDRO", "password_salt"=>"$2a$10$WWD/A2kU/x52P4JoxddLJe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c3e7665fc9149a000012'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2c3e7665fc9149a000011')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$LxWCmC51yDLQOQw5Gqg26.M4bA0QVJVR4ZDRKlIrsY2fHC/OJd0kS", "password_salt"=>"$2a$10$LxWCmC51yDLQOQw5Gqg26.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000014'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000015')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000015')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$xZryFmDUBBVXrPCHEWRtA.iPz7puq/g7qvhaNF1MvHqXg1oaElN6S", "password_salt"=>"$2a$10$xZryFmDUBBVXrPCHEWRtA.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000016'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2c3e8665fc9149a000015')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000017')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000017')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$/DNnwYVNrwDxep25HWoFvemA/sKRTsgz/GEgxtpQ44MxO6q/PCpHW", "password_salt"=>"$2a$10$/DNnwYVNrwDxep25HWoFve", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000018'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000019')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000019')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$yux6BzjlcvaWCJS8vtZDlu1llZ.95T8xKL/xceq.GJQJCYMDJI..e", "password_salt"=>"$2a$10$yux6BzjlcvaWCJS8vtZDlu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a00001a'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a00001b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e8665fc9149a00001b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$cb1yVtizfys.ohXoLsir/ufN9p3XhJg6i6cPRJpKYo8dKz72nvpom", "password_salt"=>"$2a$10$cb1yVtizfys.ohXoLsir/u", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a00001c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a00001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e8665fc9149a00001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Qt6EobloXosZh9M7ej8r4eawVFw0VafwqOjoxIGuh.4PGNtJ6R3MS", "password_salt"=>"$2a$10$Qt6EobloXosZh9M7ej8r4e", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a00001e'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e8665fc9149a00001d'), "users._id"=>BSON::ObjectId('4cf2c3e8665fc9149a00001e')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a00001f')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000020')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000020')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$9sZuPrvHKeTP.N0K5mETM.jo5AMOV9qKrZk6Ul8HwYv3qj5VdaEMu", "password_salt"=>"$2a$10$9sZuPrvHKeTP.N0K5mETM.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000021'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000020'), "users._id"=>BSON::ObjectId('4cf2c3e8665fc9149a000021')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2c3e8665fc9149a000022')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c50f665fc914d5000001')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c50f665fc914d5000001')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$znPsfqq2znkMD3uC1p0YpOsZUnFXY76pnBmFoUVP4sFQssKybi0DG", "password_salt"=>"$2a$10$znPsfqq2znkMD3uC1p0YpO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c50f665fc914d5000002'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c510665fc914d5000004')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c510665fc914d5000004')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$LAjcHqjF7qU30OIRKxyp/epMUoViP/VrKHmWWuzlXPSREYUf8/1a.", "password_salt"=>"$2a$10$LAjcHqjF7qU30OIRKxyp/e", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c510665fc914d5000005'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c510665fc914d5000006')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c510665fc914d5000006')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$S16KSLoE9MP2mgQ0PJeAseG.J3gT7q/QTy8teIoT.guffyuWHV8DS", "password_salt"=>"$2a$10$S16KSLoE9MP2mgQ0PJeAse", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c510665fc914d5000007'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c510665fc914d5000008')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c510665fc914d5000008')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$cZ5kZtHIfApL3w5.S.ls/OdEdWcLIhxQPiJMTxF4e2AglO3o2SXYi", "password_salt"=>"$2a$10$cZ5kZtHIfApL3w5.S.ls/O", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c510665fc914d5000009'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c510665fc914d500000b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c510665fc914d500000b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ib.eEK4Bpf04DuypLG4sk.rSp76qM.BOMUC3n1qThmEes4Rf3sINm", "password_salt"=>"$2a$10$ib.eEK4Bpf04DuypLG4sk.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c510665fc914d500000c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c510665fc914d500000e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c510665fc914d500000e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Pfd4YZkmWRX/bvEmDYxzwenxjvLzHN.qGR/rCBN5/YwKnmRxEvxcG", "password_salt"=>"$2a$10$Pfd4YZkmWRX/bvEmDYxzwe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c510665fc914d500000f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c510665fc914d5000011')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c510665fc914d5000011')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$MP5WqKgFOtWbmPVM5gVVb.NKoMp5PTrzdLO6BG2ZDYbUhqkNSTJrO", "password_salt"=>"$2a$10$MP5WqKgFOtWbmPVM5gVVb.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c510665fc914d5000012'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2c510665fc914d5000011')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c510665fc914d5000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c510665fc914d5000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$B4ZtOU8CsPRLaN5ZrUd8muSTt9AcVtAJPgBF5gvyuwvyTsZpninfC", "password_salt"=>"$2a$10$B4ZtOU8CsPRLaN5ZrUd8mu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c510665fc914d5000014'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c510665fc914d5000015')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c510665fc914d5000015')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$t3xZnrJk8K4Ua.qK43Gzt.aPh.KooXhCL06Q2dzUbMKnZS5J7vDNK", "password_salt"=>"$2a$10$t3xZnrJk8K4Ua.qK43Gzt.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c510665fc914d5000016'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2c510665fc914d5000015')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c511665fc914d5000017')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c511665fc914d5000017')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$3yLDLnv/m1F/kGt9zJ7Xa.SQz07SRaC4FQoBOLq7R35Tfcc7fVeKa", "password_salt"=>"$2a$10$3yLDLnv/m1F/kGt9zJ7Xa.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c511665fc914d5000018'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c511665fc914d5000019')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c511665fc914d5000019')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$9lyCoKz8s.Qg9477Y8TTN.maOIi8QtbU6/2bMB94Bba/DPBr4YzSO", "password_salt"=>"$2a$10$9lyCoKz8s.Qg9477Y8TTN.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c511665fc914d500001a'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c511665fc914d500001b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c511665fc914d500001b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$fqVxgi0V5sRpg737jjy3jeAAKCNSzvNqlh.xALp8ji5mltJdS8DAO", "password_salt"=>"$2a$10$fqVxgi0V5sRpg737jjy3je", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c511665fc914d500001c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c511665fc914d500001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c511665fc914d500001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$39E5oICufs./N0wHvKk2hOmSEFBzJw0GktY/QTacpb.5l5soH4YiG", "password_salt"=>"$2a$10$39E5oICufs./N0wHvKk2hO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c511665fc914d500001e'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c511665fc914d500001d'), "users._id"=>BSON::ObjectId('4cf2c511665fc914d500001e')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2c511665fc914d500001f')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c511665fc914d5000020')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c511665fc914d5000020')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$PYCkRjLYcKGGvMbaI.ADv.qBDEjZSdoi8lElm/OJmJxIWOVNnRY/i", "password_salt"=>"$2a$10$PYCkRjLYcKGGvMbaI.ADv.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c511665fc914d5000021'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c511665fc914d5000020'), "users._id"=>BSON::ObjectId('4cf2c511665fc914d5000021')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2c511665fc914d5000022')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c562665fc914f9000001')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c562665fc914f9000001')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$UB0cc13UMFKbEmeVoqqIdO2VTJPKXNj3Tvs6OfVAoja8bQi2UKqra", "password_salt"=>"$2a$10$UB0cc13UMFKbEmeVoqqIdO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c562665fc914f9000002'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c562665fc914f9000004')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c562665fc914f9000004')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$CXg5adXuJMHqPiDpl/vLtOUleTJTWgNcx6jghRqKNw/bGUV8UgGEC", "password_salt"=>"$2a$10$CXg5adXuJMHqPiDpl/vLtO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c562665fc914f9000005'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c563665fc914f9000006')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c563665fc914f9000006')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$CA15fSTI565kKSUaEmCUYeMuCQXcCSskKH14kvCZGt1xJiwfRr5DG", "password_salt"=>"$2a$10$CA15fSTI565kKSUaEmCUYe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c563665fc914f9000007'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c563665fc914f9000008')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c563665fc914f9000008')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6Cxv34O7xuL5JdO4U.q5Zeru4wFHeDDO3gSfLNcspwRlry9Tmqf2O", "password_salt"=>"$2a$10$6Cxv34O7xuL5JdO4U.q5Ze", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c563665fc914f9000009'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c563665fc914f900000b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c563665fc914f900000b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$MDRwHKlCvyN.BBzRrQl4nOr2H6lx2BE/nUI17lo4MWTWbYXKRhSmu", "password_salt"=>"$2a$10$MDRwHKlCvyN.BBzRrQl4nO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c563665fc914f900000c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c563665fc914f900000e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c563665fc914f900000e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$SBh55kYEx.HwVlwRwkm8g.1rpcAzRZPP/8wU.NmorKMM1Gp49PFbq", "password_salt"=>"$2a$10$SBh55kYEx.HwVlwRwkm8g.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c563665fc914f900000f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c563665fc914f9000011')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c563665fc914f9000011')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$vKW7N1qH/V./1jlDPMD/SO8x71ZFlar/1OX9cR1RtZwzGgUxOlf72", "password_salt"=>"$2a$10$vKW7N1qH/V./1jlDPMD/SO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c563665fc914f9000012'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2c563665fc914f9000011')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c563665fc914f9000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c563665fc914f9000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$x1wOZ8Avy8DR.s3HzpfZUO1yk14GDYBkSwhjiMBW2JoKENkomtccW", "password_salt"=>"$2a$10$x1wOZ8Avy8DR.s3HzpfZUO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c563665fc914f9000014'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2c563665fc914f9000013')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c563665fc914f9000015')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c563665fc914f9000015')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$PkUduKdpFHXfflLrASiVW.dm7Migrmi.Lvxf.bqoesT7uzaF3p65e", "password_salt"=>"$2a$10$PkUduKdpFHXfflLrASiVW.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c563665fc914f9000016'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2c563665fc914f9000015')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c563665fc914f9000017')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c563665fc914f9000017')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$JEhBZiTSfgLFnmZYCG7AreBfXbae7dUMLSl4LBD9Hw5ckN6ObWFji", "password_salt"=>"$2a$10$JEhBZiTSfgLFnmZYCG7Are", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c563665fc914f9000018'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2c563665fc914f9000017')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c564665fc914f900001a')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c564665fc914f900001a')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$io17tW8I4C.VmLlacL2WtuqOT7XDiu2myjHhWEE4GYi5fcJhC0ojK", "password_salt"=>"$2a$10$io17tW8I4C.VmLlacL2Wtu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c564665fc914f900001b'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c564665fc914f900001c')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c564665fc914f900001c')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$nlu7z0PXoEiY88pFeUQrj..QULMzSL.mH5t8Ze9j9wSmZL6lp/coW", "password_salt"=>"$2a$10$nlu7z0PXoEiY88pFeUQrj.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c564665fc914f900001d'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c564665fc914f900001e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c564665fc914f900001e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$dJs5Snvlwgk3dycsbs9i0OG/M5y6/tdtsc/BQSU6C5.If6enIjgZ.", "password_salt"=>"$2a$10$dJs5Snvlwgk3dycsbs9i0O", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c564665fc914f900001f'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c564665fc914f900001e'), "users._id"=>BSON::ObjectId('4cf2c564665fc914f900001f')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2c564665fc914f9000020')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c564665fc914f9000021')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c564665fc914f9000021')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$9h7krJvjjurrxm20/6PcruYTMdiIORhPaqtCiWi2mnOUr0mpYgUES", "password_salt"=>"$2a$10$9h7krJvjjurrxm20/6Pcru", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c564665fc914f9000022'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c564665fc914f9000021'), "users._id"=>BSON::ObjectId('4cf2c564665fc914f9000022')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2c564665fc914f9000023')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c57e665fc91526000001')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57e665fc91526000001')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$QFjzpzERTLT0hqlYXWQj5Ou2NBzeUgkP2O0AiFb/qirE1UHfG3IPa", "password_salt"=>"$2a$10$QFjzpzERTLT0hqlYXWQj5O", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c57e665fc91526000002'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c57e665fc91526000004')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57e665fc91526000004')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ST5UH5W7J5vkVmlYSiaTDeOV.DFuiSXPrFfuZjgkjjXLjKe0t0AJm", "password_salt"=>"$2a$10$ST5UH5W7J5vkVmlYSiaTDe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c57e665fc91526000005'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c57e665fc91526000006')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57e665fc91526000006')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$m7RiMWcFx9B7B7V1VrdfWu3uUNLg6P.E0PePQmHvhlXb2UiJoiN6K", "password_salt"=>"$2a$10$m7RiMWcFx9B7B7V1VrdfWu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c57e665fc91526000007'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c57e665fc91526000008')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57e665fc91526000008')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$LQg55FNOKpwdkMf5qCoNxOeCmDsTumSCf6GScHlawlxH9J5tdhCzS", "password_salt"=>"$2a$10$LQg55FNOKpwdkMf5qCoNxO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c57e665fc91526000009'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c57e665fc9152600000b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57e665fc9152600000b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$QycNk.xcif5iC6Q9PJy8pe/9lRCvmkNVNIUIcA1acQLw6R6KlT3g.", "password_salt"=>"$2a$10$QycNk.xcif5iC6Q9PJy8pe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c57e665fc9152600000c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c57e665fc9152600000e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57e665fc9152600000e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$q13bfOCFPcDYTf/jaqX7VOaBvyr/webq6tOIQ3IrG6XrhS4jKI.DC", "password_salt"=>"$2a$10$q13bfOCFPcDYTf/jaqX7VO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c57e665fc9152600000f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c57f665fc91526000011')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57f665fc91526000011')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$qmLjllqjVxQ.Fx4HTXxfuu7C1vDsvhplPL0E0VqQSLShlOz7hDrJq", "password_salt"=>"$2a$10$qmLjllqjVxQ.Fx4HTXxfuu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c57f665fc91526000012'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2c57f665fc91526000011')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c57f665fc91526000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57f665fc91526000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$kccRqB6jtnGCZWGUFkKeMeDc4cJBD9eg5CH6wdfi.Omo2Vi74bhq2", "password_salt"=>"$2a$10$kccRqB6jtnGCZWGUFkKeMe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c57f665fc91526000014'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2c57f665fc91526000013')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c57f665fc91526000015')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57f665fc91526000015')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$WRVDNS1yGQjN5O00NpDn8.WJaq9hks9dKOp.tcZaqCKjYK2UmpFD2", "password_salt"=>"$2a$10$WRVDNS1yGQjN5O00NpDn8.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c57f665fc91526000016'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2c57f665fc91526000015')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c57f665fc91526000017')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57f665fc91526000017')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$TjPXm.FYXQs3THPWmRXzcObxAViqodgSW7WShO7Xm.CvF9..jHwja", "password_salt"=>"$2a$10$TjPXm.FYXQs3THPWmRXzcO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c57f665fc91526000018'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2c57f665fc91526000017')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c57f665fc9152600001a')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57f665fc9152600001a')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$4yMkEq3pc2jcmpH8AFPZPuNiuPIEKnb1H3Rb.MG55SVz5.ebl4Fde", "password_salt"=>"$2a$10$4yMkEq3pc2jcmpH8AFPZPu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c57f665fc9152600001b'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c57f665fc9152600001c')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57f665fc9152600001c')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$oXSRjIvrfo3fzjejLrpqO..us0fc5uraHKlk9g9ruCU4l8YtbTR3W", "password_salt"=>"$2a$10$oXSRjIvrfo3fzjejLrpqO.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c57f665fc9152600001d'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c57f665fc9152600001e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57f665fc9152600001e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$4gXShKdwbwaT1.7Z4EcASOu2Rxcjc6GSJHQZhOInac2HU1nfh/S9.", "password_salt"=>"$2a$10$4gXShKdwbwaT1.7Z4EcASO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c57f665fc9152600001f'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57f665fc9152600001e'), "users._id"=>BSON::ObjectId('4cf2c57f665fc9152600001f')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2c57f665fc91526000020')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2c57f665fc91526000021')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57f665fc91526000021')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$sSFtAABUx9Ek6hGOYiPHyuw.FCFKmWmIQL5sTOo41OyVWWoukBGK6", "password_salt"=>"$2a$10$sSFtAABUx9Ek6hGOYiPHyu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2c57f665fc91526000022'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2c57f665fc91526000021'), "users._id"=>BSON::ObjectId('4cf2c57f665fc91526000022')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2c580665fc91526000023')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccc3665fc91672000001')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc3665fc91672000001')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$jnK8cQp7fGxgPUH53WYAz.SEfYZdLuJ0pK9IZqbDEXKfmrUrgV8y6", "password_salt"=>"$2a$10$jnK8cQp7fGxgPUH53WYAz.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccc3665fc91672000002'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccc3665fc91672000004')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc3665fc91672000004')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$bNiITq0ROyG7GWwFbpGln.dp9wwhhwBovjOd29cgd5UnznjLysXt6", "password_salt"=>"$2a$10$bNiITq0ROyG7GWwFbpGln.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccc3665fc91672000005'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccc3665fc91672000006')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc3665fc91672000006')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$XmvY4OyiBH3bkLQTCBBcx.J52Xd2LSJ.4ATM60qbc.uyvxhdy.1bG", "password_salt"=>"$2a$10$XmvY4OyiBH3bkLQTCBBcx.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccc3665fc91672000007'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccc3665fc91672000008')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc3665fc91672000008')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6o2RngkvGGjaFiJEXoGsO.6Y1qHoX/c5XQEIJThVe3OBJClq/Tn0C", "password_salt"=>"$2a$10$6o2RngkvGGjaFiJEXoGsO.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccc3665fc91672000009'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccc3665fc9167200000b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc3665fc9167200000b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$9J9H1UFYpa96kQegNrKFIelp2rh8SYvhujp90BsFyskhKIWftCeAS", "password_salt"=>"$2a$10$9J9H1UFYpa96kQegNrKFIe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccc3665fc9167200000c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccc4665fc9167200000e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc4665fc9167200000e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$LE6EjjxJz54J6e36/FbIqur4x4nX4TUnxM0OMqg.pWLEoygCewd3W", "password_salt"=>"$2a$10$LE6EjjxJz54J6e36/FbIqu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccc4665fc9167200000f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccc4665fc91672000011')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc4665fc91672000011')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$zLSwaK2AWNpSIWwXsVH2p.TPkQxQeJT3nKHdn0elYby0abQwC5iHy", "password_salt"=>"$2a$10$zLSwaK2AWNpSIWwXsVH2p.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccc4665fc91672000012'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2ccc4665fc91672000011')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccc4665fc91672000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc4665fc91672000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$dIlxxno/9O89xPyMwvaoT.o9o1g/BVVpH1Gralyv3Q8Nj7Bk6BgLW", "password_salt"=>"$2a$10$dIlxxno/9O89xPyMwvaoT.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccc4665fc91672000014'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2ccc4665fc91672000013')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccc4665fc91672000016')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc4665fc91672000016')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$gvCpHUo84gpudTL31msEGevwvmJY9IlQxJrT3hRrG5F33x1Q53Rx2", "password_salt"=>"$2a$10$gvCpHUo84gpudTL31msEGe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccc4665fc91672000017'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2ccc4665fc91672000016')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccc4665fc91672000018')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc4665fc91672000018')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$XR6wiiSzrtp4ncCKJoaiYuk8wEWdzITLvNJHiy9IByEhQH9iSsOd2", "password_salt"=>"$2a$10$XR6wiiSzrtp4ncCKJoaiYu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccc4665fc91672000019'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2ccc4665fc91672000018')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccc4665fc9167200001b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc4665fc9167200001b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Fn8hYm1llScCbal1zw6ffuwZLp18hUrHHBvLayB8t6ScGLAXu32Uu", "password_salt"=>"$2a$10$Fn8hYm1llScCbal1zw6ffu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccc4665fc9167200001c'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccc4665fc9167200001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc4665fc9167200001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$VEGSWB1zQ.O.vjLFnQKvmO.ez.ajbRDEke0uDeW6qBRdB8AJjYBba", "password_salt"=>"$2a$10$VEGSWB1zQ.O.vjLFnQKvmO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccc4665fc9167200001e'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccc4665fc9167200001f')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc4665fc9167200001f')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$/7Ub.p10S9Wenz8y0EoQQuLJZe8ez6NkW5lDbHXleSzvdWVWIpbcC", "password_salt"=>"$2a$10$/7Ub.p10S9Wenz8y0EoQQu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccc4665fc91672000020'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc4665fc9167200001f'), "users._id"=>BSON::ObjectId('4cf2ccc4665fc91672000020')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2ccc5665fc91672000021')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccc5665fc91672000022')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc5665fc91672000022')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$7CN4z.jkLiCeqvLHPrPNO.YovqToOtLHjnOtnX/1P9ICYvGT.Vv0e", "password_salt"=>"$2a$10$7CN4z.jkLiCeqvLHPrPNO.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccc5665fc91672000023'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccc5665fc91672000022'), "users._id"=>BSON::ObjectId('4cf2ccc5665fc91672000023')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2ccc5665fc91672000024')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered pages/index.html.haml within layouts/application (2.2ms)
Completed 200 OK in 17ms (Views: 12.6ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.4ms)
  Processing by PagesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.5ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.3ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1005
Completed 302 Found in 10ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1006
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.6ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1010
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.6ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.6ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 6ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 3ms
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.4ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 5ms (Views: 2.9ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 9ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 9ms (Views: 4.5ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1021
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1022
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1023
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.6ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1025
Completed 302 Found in 7ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1026
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1027
Completed 302 Found in 9ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 4ms
Rendered pages/_form.html.haml (11.6ms)
Rendered pages/_form.html.haml (4.6ms)
Rendered sites/_form.html.haml (9.1ms)
Rendered sites/_form.html.haml (3.5ms)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccd5665fc91690000010')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd5665fc91690000010')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$8YfYE/Nby6Gcry8CrZbOze3X0BspFQA8foI5te3/seNuNGf82ue/O", "password_salt"=>"$2a$10$8YfYE/Nby6Gcry8CrZbOze", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccd5665fc91690000011'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccd5665fc91690000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd5665fc91690000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$mI8NUgrV5xx5/d5iInjqt.ivNUUHoi0MzSDV0sjNU.HDjMfYkSpmu", "password_salt"=>"$2a$10$mI8NUgrV5xx5/d5iInjqt.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccd5665fc91690000014'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccd5665fc91690000015')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd5665fc91690000015')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$BESAI.pHIEr3JDPyB6Fk/eSgR4MCAF1s508HFWZFuSVBiG9u6asvO", "password_salt"=>"$2a$10$BESAI.pHIEr3JDPyB6Fk/e", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccd5665fc91690000016'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccd5665fc91690000017')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd5665fc91690000017')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$zpMQdmnVMDe74zrSJsxMcOvwrtHqSmW7MIGeoctig40Dyzp3yLSlW", "password_salt"=>"$2a$10$zpMQdmnVMDe74zrSJsxMcO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccd5665fc91690000018'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccd5665fc9169000001a')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd5665fc9169000001a')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$QSXoRcQxwguGfqwz6hdI5O1ITmtQ2CI8I9IH0yVK.mCB.gPDjwFc.", "password_salt"=>"$2a$10$QSXoRcQxwguGfqwz6hdI5O", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccd5665fc9169000001b'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccd6665fc9169000001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd6665fc9169000001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$cuPeCluOG41/FfPmTLtcre2OIq8ROPHz9mq4VV/0ERb9/fOcRboL2", "password_salt"=>"$2a$10$cuPeCluOG41/FfPmTLtcre", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccd6665fc9169000001e'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccd6665fc91690000020')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd6665fc91690000020')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$41mI7HlDdsdurgRi8NWWjuj23rnGQ4YAePkBIbXnvEVD38ONsRNHm", "password_salt"=>"$2a$10$41mI7HlDdsdurgRi8NWWju", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccd6665fc91690000021'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2ccd6665fc91690000020')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccd6665fc91690000022')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd6665fc91690000022')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$1aYI.GJXKb7H0ODDZxcbgOdc4bfDlWLl/PlRsCqSd3Yj6F0IrN6Ze", "password_salt"=>"$2a$10$1aYI.GJXKb7H0ODDZxcbgO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccd6665fc91690000023'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2ccd6665fc91690000022')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccd6665fc91690000025')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd6665fc91690000025')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$RNhMQwgQlfdnsCPgkgOjrupTqqPccGHAl9NKY.YReMXwrredm89R2", "password_salt"=>"$2a$10$RNhMQwgQlfdnsCPgkgOjru", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccd6665fc91690000026'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2ccd6665fc91690000025')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccd6665fc91690000027')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd6665fc91690000027')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$O19.06qq0XFCjWpqRhIsnO0vkzUQ/kF0uNXYzVjdF80QJR/ER6i22", "password_salt"=>"$2a$10$O19.06qq0XFCjWpqRhIsnO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccd6665fc91690000028'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2ccd6665fc91690000027')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccd6665fc9169000002a')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd6665fc9169000002a')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$lQGhAv8lkPgyVGPtpPnZ6OHEQd7PN7tWSKMFfX5fMBgneXftJNrxW", "password_salt"=>"$2a$10$lQGhAv8lkPgyVGPtpPnZ6O", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccd6665fc9169000002b'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccd6665fc9169000002c')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd6665fc9169000002c')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$KsHNFwUNRb97pQBvEweIrusCAxJBd6iUD/m2HKq6QFITovMcgm3tO", "password_salt"=>"$2a$10$KsHNFwUNRb97pQBvEweIru", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccd6665fc9169000002d'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccd6665fc9169000002e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd6665fc9169000002e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$COo0hOjqdHzoNTsONwlXE.L5gQoGswUsf639pxur8WIqzeJu9e4tS", "password_salt"=>"$2a$10$COo0hOjqdHzoNTsONwlXE.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccd6665fc9169000002f'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd6665fc9169000002e'), "users._id"=>BSON::ObjectId('4cf2ccd6665fc9169000002f')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2ccd7665fc91690000030')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ccd7665fc91690000031')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd7665fc91690000031')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$vQoLOG2bAl9m8wfmIPo0xewQdAcXEFzAS/ZDCThOe56pF0Ua2VkE6", "password_salt"=>"$2a$10$vQoLOG2bAl9m8wfmIPo0xe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ccd7665fc91690000032'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ccd7665fc91690000031'), "users._id"=>BSON::ObjectId('4cf2ccd7665fc91690000032')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2ccd7665fc91690000033')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-28 13:42:47 -0800
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['pages'].find({}, {})
Completed 200 OK in 15ms (Views: 13.5ms)


Started GET "/sites" for 127.0.0.1 at 2010-11-28 13:42:47 -0800
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['sites'].find({}, {})
Completed 200 OK in 10ms (Views: 8.9ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdbd665fc916c4000001')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbd665fc916c4000001')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ULf2O/SEmUjEsge5S.Tby.fNOW72qCHAqrt49xwchaCzhat6Lw256", "password_salt"=>"$2a$10$ULf2O/SEmUjEsge5S.Tby.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdbd665fc916c4000002'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdbd665fc916c4000004')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbd665fc916c4000004')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$wqyZ6E3y8h1IWxS1e8SySO3CQqLLrQt9qz8SBXpHLoDvsGLzFtABS", "password_salt"=>"$2a$10$wqyZ6E3y8h1IWxS1e8SySO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdbd665fc916c4000005'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000006')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000006')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$9587d0xcTFWv17RwgyKw.uXA6yhpPmmAT01P18mxJ/P5xeXLY6mXu", "password_salt"=>"$2a$10$9587d0xcTFWv17RwgyKw.u", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000007'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000008')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000008')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$I0TbjRHkxgBo03gdfqm4JuW.H81BuOmFOkVWRjzkJQ6OLXMLbFrlC", "password_salt"=>"$2a$10$I0TbjRHkxgBo03gdfqm4Ju", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000009'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdbe665fc916c400000b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbe665fc916c400000b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$TjlXE3Itrz.ZMtAM2x5OTe8u7yQcZb2GUfCKPTpCiYRvG1SCEDCUG", "password_salt"=>"$2a$10$TjlXE3Itrz.ZMtAM2x5OTe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdbe665fc916c400000c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdbe665fc916c400000e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbe665fc916c400000e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$px9b8jillim7sXx9YBhXq.bsgSj8v9AdDQ4OfXpkC1ibDdGSgpCqC", "password_salt"=>"$2a$10$px9b8jillim7sXx9YBhXq.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdbe665fc916c400000f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000011')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000011')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$tHoWm.MCrfaQn33DDOvup.eUA038.llEllme1E5XBaerZ/Q4fWvv.", "password_salt"=>"$2a$10$tHoWm.MCrfaQn33DDOvup.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000012'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cdbe665fc916c4000011')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$cbrwPrdMEoInWBAltskGieUNn8lypd34EF0z5nH8Nz8v9dpk3w8W6", "password_salt"=>"$2a$10$cbrwPrdMEoInWBAltskGie", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000014'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cdbe665fc916c4000013')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000016')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000016')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$BqZIdlW1W7txrYNrayPoaelZbyUPDVrZSEpEZs3ENv2w5yg4c6LRK", "password_salt"=>"$2a$10$BqZIdlW1W7txrYNrayPoae", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000017'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cdbe665fc916c4000016')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000018')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000018')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$PHvMEtY5r.YJjiLVJrCo1Op0F3LBFdJVV00BslkmQAqccgSyNTC16", "password_salt"=>"$2a$10$PHvMEtY5r.YJjiLVJrCo1O", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdbe665fc916c4000019'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cdbe665fc916c4000018')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdbf665fc916c400001b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbf665fc916c400001b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ase2zr8NS7mhDbuKPzRgY.lj5jSH0UrksSs4vneoDhbwZYtCC0x7S", "password_salt"=>"$2a$10$ase2zr8NS7mhDbuKPzRgY.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdbf665fc916c400001c'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdbf665fc916c400001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbf665fc916c400001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$aY4L90GGafn9CH6Tx7L8A.lnbR1UovtiF674vmu27liAEhU80D7XW", "password_salt"=>"$2a$10$aY4L90GGafn9CH6Tx7L8A.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdbf665fc916c400001e'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdbf665fc916c400001f')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbf665fc916c400001f')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$hkMcSWcsob/ohYvv7chHlehrYPfgn67Rf8xI9OWgGG8afGch8xJO2", "password_salt"=>"$2a$10$hkMcSWcsob/ohYvv7chHle", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdbf665fc916c4000020'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbf665fc916c400001f'), "users._id"=>BSON::ObjectId('4cf2cdbf665fc916c4000020')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2cdbf665fc916c4000021')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdbf665fc916c4000022')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbf665fc916c4000022')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$qdsKYlox4m4TqwhIH/XkJ.IAwnsP0ifcRUzT7jrP8LNEQAY9toPKS", "password_salt"=>"$2a$10$qdsKYlox4m4TqwhIH/XkJ.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdbf665fc916c4000023'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdbf665fc916c4000022'), "users._id"=>BSON::ObjectId('4cf2cdbf665fc916c4000023')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2cdbf665fc916c4000024')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cde8665fc916e5000001')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cde8665fc916e5000001')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$CNm/z6OqwpEm3hiqOvGMe.bX.GBA00xrfIccAGEV71rbn5RPk8nmq", "password_salt"=>"$2a$10$CNm/z6OqwpEm3hiqOvGMe.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cde8665fc916e5000002'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cde8665fc916e5000004')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cde8665fc916e5000004')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$bu66JAumyjlO9CwxICuNlOFNRCAZyo3bXYyQJdKGBidKfANxIZUv.", "password_salt"=>"$2a$10$bu66JAumyjlO9CwxICuNlO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cde8665fc916e5000005'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cde8665fc916e5000006')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cde8665fc916e5000006')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$UlsiYA.aQlJh..G3f25/Je8MrboSXKWaAfPfwij5qGJQQo9wlIyrq", "password_salt"=>"$2a$10$UlsiYA.aQlJh..G3f25/Je", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cde8665fc916e5000007'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cde8665fc916e5000008')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cde8665fc916e5000008')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$pBoB44GA5IjfZydhB8G8yuo/wQxGDz8vEBSTn4DS6VcvajNEZpr1q", "password_salt"=>"$2a$10$pBoB44GA5IjfZydhB8G8yu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cde8665fc916e5000009'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cde8665fc916e500000b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cde8665fc916e500000b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$o6AJDesDJoOdx7XSP2VMTe.KuLR.N3wQxZRZ0jWHXTyp2J5sHklEC", "password_salt"=>"$2a$10$o6AJDesDJoOdx7XSP2VMTe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cde8665fc916e500000c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cde9665fc916e500000e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cde9665fc916e500000e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Baoam6QkdR8ea5AEIM7yxO/r6.q.qp60WJjW8AqDqiS7JBs11wR/O", "password_salt"=>"$2a$10$Baoam6QkdR8ea5AEIM7yxO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cde9665fc916e500000f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cde9665fc916e5000011')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cde9665fc916e5000011')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$C4KOg00FXAW.RiYpqjMH.eP8981df3lq8x0WyVL0fCiaCAGH.Sor.", "password_salt"=>"$2a$10$C4KOg00FXAW.RiYpqjMH.e", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cde9665fc916e5000012'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cde9665fc916e5000011')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cde9665fc916e5000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cde9665fc916e5000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$4YoTDT01l1QZBcp1t50OVO633ASvIveFVMcgzqtOZhhE9cpGHP.0e", "password_salt"=>"$2a$10$4YoTDT01l1QZBcp1t50OVO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cde9665fc916e5000014'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cde9665fc916e5000013')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cde9665fc916e5000016')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cde9665fc916e5000016')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$VwRS0xVWFpB/H2ZNY96isuM4bxZfTLf2QH/tJsW2XnZt46KP.ZZBK", "password_salt"=>"$2a$10$VwRS0xVWFpB/H2ZNY96isu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cde9665fc916e5000017'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cde9665fc916e5000016')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cde9665fc916e5000018')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cde9665fc916e5000018')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$I.j9U4HjuBOD2BrpT2lugO3ww2nrv8jZdl2m8sWqJ6k3RPuZ3Sg/i", "password_salt"=>"$2a$10$I.j9U4HjuBOD2BrpT2lugO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cde9665fc916e5000019'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cde9665fc916e5000018')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cde9665fc916e500001b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cde9665fc916e500001b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$9.qlEPGYHKu1zewnF9XSTe2y.6/t6Tw997y5YOmRvPFlQc5VuOdC6", "password_salt"=>"$2a$10$9.qlEPGYHKu1zewnF9XSTe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cde9665fc916e500001c'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cde9665fc916e500001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cde9665fc916e500001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$aPRAsx8k78CGbmVKpk0sXu.IvjZhBaIgYiROTKT6iTNgsUOQaN0wq", "password_salt"=>"$2a$10$aPRAsx8k78CGbmVKpk0sXu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cde9665fc916e500001e'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cde9665fc916e500001f')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cde9665fc916e500001f')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$8aSgtrwJamh6rw0xfrvFwOhZ4DfnEUf.o6V/RvbqhYtoClutdtIv2", "password_salt"=>"$2a$10$8aSgtrwJamh6rw0xfrvFwO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cde9665fc916e5000020'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cde9665fc916e500001f'), "users._id"=>BSON::ObjectId('4cf2cde9665fc916e5000020')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2cdea665fc916e5000021')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cdea665fc916e5000022')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdea665fc916e5000022')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$mfh1eJ3ZmogHkzyzIwQeXOCqhFrecMe8f09PeBg0qhfwsQ6QRqC1m", "password_salt"=>"$2a$10$mfh1eJ3ZmogHkzyzIwQeXO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cdea665fc916e5000023'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cdea665fc916e5000022'), "users._id"=>BSON::ObjectId('4cf2cdea665fc916e5000023')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2cdea665fc916e5000024')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ce20665fc91706000001')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce20665fc91706000001')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$03vvHV0T6ag9zblmoKb9AOkeNrVE9uaCwGo6bDSu9zQm0ynnFXTNK", "password_salt"=>"$2a$10$03vvHV0T6ag9zblmoKb9AO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ce20665fc91706000002'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ce20665fc91706000004')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce20665fc91706000004')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$thxQOIwPVeMF3LXYT1hJLO3xqn1LEawEUyLYZxMhhfMmWaSvlAFzu", "password_salt"=>"$2a$10$thxQOIwPVeMF3LXYT1hJLO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ce20665fc91706000005'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ce20665fc91706000006')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce20665fc91706000006')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$AaDISuU0h9iIT1DY8WWqoO/84fZzKrXQm/1hPcqalakeVEfSTiRuS", "password_salt"=>"$2a$10$AaDISuU0h9iIT1DY8WWqoO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ce20665fc91706000007'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ce20665fc91706000008')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce20665fc91706000008')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$7LiK0JWeJ0zPn99RzqatuOqjNiOS9mQ7o7Ta7RaV/BvHQhzc3prH2", "password_salt"=>"$2a$10$7LiK0JWeJ0zPn99RzqatuO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ce20665fc91706000009'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ce20665fc9170600000b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce20665fc9170600000b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$qcCZocA18RBCGLKv20v76uyhN3khXumCL5Yf1WlFOvCwJkaPRpJrS", "password_salt"=>"$2a$10$qcCZocA18RBCGLKv20v76u", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ce20665fc9170600000c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ce20665fc9170600000e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce20665fc9170600000e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$UIsQZw4QAIFms8HQWxBP6e4SYZAlTWJndf8MdIXLw3CGGYc.4BJV6", "password_salt"=>"$2a$10$UIsQZw4QAIFms8HQWxBP6e", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ce20665fc9170600000f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ce20665fc91706000011')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce20665fc91706000011')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Kbsx5yxNN.xdBdNUu3ieK.BzhFuqHq4Swy1AgRISmbUokuJCQrkMS", "password_salt"=>"$2a$10$Kbsx5yxNN.xdBdNUu3ieK.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ce20665fc91706000012'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2ce20665fc91706000011')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ce21665fc91706000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce21665fc91706000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$dCjMbuWY/Lh87ex1/tVWtO1Hz0VArdKjcp757ZNI8nAUtIRLoPcwq", "password_salt"=>"$2a$10$dCjMbuWY/Lh87ex1/tVWtO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ce21665fc91706000014'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2ce21665fc91706000013')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ce21665fc91706000016')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce21665fc91706000016')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$gjVTtmFdYd/JjNRo4JICQeEhFsKbRxDEtVYP4bW/EGhgb/DznziOy", "password_salt"=>"$2a$10$gjVTtmFdYd/JjNRo4JICQe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ce21665fc91706000017'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2ce21665fc91706000016')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ce21665fc91706000018')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce21665fc91706000018')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ZvczGKR3hA62NlexTfkYHOrRLjEWdfNwfVzXQZGgBaeY1Pxlv.ppK", "password_salt"=>"$2a$10$ZvczGKR3hA62NlexTfkYHO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ce21665fc91706000019'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2ce21665fc91706000018')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ce21665fc9170600001b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce21665fc9170600001b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$/tumn2fcxcIwKeqkH16d4.KUiTIODiiFGfGAs3l2SEiJyWUtEWDLe", "password_salt"=>"$2a$10$/tumn2fcxcIwKeqkH16d4.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ce21665fc9170600001c'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ce21665fc9170600001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce21665fc9170600001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$8zgHbZVpqxm1zHpJ8jwq5eX1D3Yrn7jv3AAU0bno8tTKw6AgLZhvO", "password_salt"=>"$2a$10$8zgHbZVpqxm1zHpJ8jwq5e", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ce21665fc9170600001e'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ce21665fc9170600001f')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce21665fc9170600001f')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$TZB51fZREw.L11RYhdgE6uEZnCJMayLtz.0D3LL2KPehYOZRlG7na", "password_salt"=>"$2a$10$TZB51fZREw.L11RYhdgE6u", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ce21665fc91706000020'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce21665fc9170600001f'), "users._id"=>BSON::ObjectId('4cf2ce21665fc91706000020')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2ce21665fc91706000021')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2ce21665fc91706000022')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce21665fc91706000022')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$b.6GxzvlLKVT7LlwlhsWUehwBdGUGdyQJV46uwbKER3KXEk0vQ0Yu", "password_salt"=>"$2a$10$b.6GxzvlLKVT7LlwlhsWUe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2ce21665fc91706000023'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2ce21665fc91706000022'), "users._id"=>BSON::ObjectId('4cf2ce21665fc91706000023')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2ce21665fc91706000024')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cf8a665fc91758000001')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8a665fc91758000001')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$n/CtzdG0oZ7SD5NCdsElk.noEM/zSj1UHJsK.5jdMlP.vAba.A8We", "password_salt"=>"$2a$10$n/CtzdG0oZ7SD5NCdsElk.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cf8a665fc91758000002'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cf8a665fc91758000004')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8a665fc91758000004')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$8e9oWRCs4hxgkPBfdQDs7e2IVPBJx8fVfbZ2Bz4gVLlfmrSb5No8q", "password_salt"=>"$2a$10$8e9oWRCs4hxgkPBfdQDs7e", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cf8a665fc91758000005'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cf8a665fc91758000006')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8a665fc91758000006')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$.2Eu6aie4zlEl5UxFJVKv.S2eCXV9MFY1t8Pobp3xMXn8H2twj0D2", "password_salt"=>"$2a$10$.2Eu6aie4zlEl5UxFJVKv.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cf8a665fc91758000007'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cf8a665fc91758000008')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8a665fc91758000008')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$fVRYQAdvztPfdvukRWeoMeLsoLkZua9y4SuXsK9d2Ogrj77/rgcn.", "password_salt"=>"$2a$10$fVRYQAdvztPfdvukRWeoMe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cf8a665fc91758000009'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cf8a665fc9175800000b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8a665fc9175800000b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$XW3rbmkvS9aBeuRczrGKIuHSn66s7629wkoVMErojMWEV9EomoSjG", "password_salt"=>"$2a$10$XW3rbmkvS9aBeuRczrGKIu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cf8a665fc9175800000c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cf8a665fc9175800000e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8a665fc9175800000e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$8FeK6QuF50d58ZKSXuPvluwGZ1Ysg3MAbsgg4vj/qfKci/PG0p2Oq", "password_salt"=>"$2a$10$8FeK6QuF50d58ZKSXuPvlu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cf8a665fc9175800000f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cf8b665fc91758000011')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8b665fc91758000011')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$1GeOiHcFS2ohzFcBRBXEaeQTT8peaQG14Y44U9XHmEpPzlBtYe/3W", "password_salt"=>"$2a$10$1GeOiHcFS2ohzFcBRBXEae", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cf8b665fc91758000012'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cf8b665fc91758000011')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cf8b665fc91758000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8b665fc91758000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$s1CxkbldEerHoemm6h/ARO2vdm2Eh21XBpgo.i6hl2dGmgvotmxRi", "password_salt"=>"$2a$10$s1CxkbldEerHoemm6h/ARO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cf8b665fc91758000014'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cf8b665fc91758000013')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cf8b665fc91758000016')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8b665fc91758000016')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ZDq//fk4sUuFyB8CV1Eo8ey10R9x0.JHRprrc0E4TIHRYULQoyCSK", "password_salt"=>"$2a$10$ZDq//fk4sUuFyB8CV1Eo8e", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cf8b665fc91758000017'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cf8b665fc91758000016')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cf8b665fc91758000018')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8b665fc91758000018')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$.M1enhKJqm4hSxEEdJezJeu5prdBHzEAs3fBSJXK/NBg/UbQTTyyu", "password_salt"=>"$2a$10$.M1enhKJqm4hSxEEdJezJe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cf8b665fc91758000019'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cf8b665fc91758000018')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cf8b665fc9175800001b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8b665fc9175800001b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$cgEYHKPfL0ne/lin8Tm5n.2zQNcOr1hC0.PsIiKfT2vdajT62klGu", "password_salt"=>"$2a$10$cgEYHKPfL0ne/lin8Tm5n.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cf8b665fc9175800001c'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cf8b665fc9175800001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8b665fc9175800001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$AEXdNibnozTBVl4Ol7J.Se/yWyNavFOVWdXCWSSkdJXX88FhZxm7S", "password_salt"=>"$2a$10$AEXdNibnozTBVl4Ol7J.Se", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cf8b665fc9175800001e'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cf8b665fc9175800001f')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8b665fc9175800001f')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$OMCG3yfbhTugs84BoVOdGu062ym50NjT/FxyP7NwA4n7VvpaAh3We", "password_salt"=>"$2a$10$OMCG3yfbhTugs84BoVOdGu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cf8b665fc91758000020'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8b665fc9175800001f'), "users._id"=>BSON::ObjectId('4cf2cf8b665fc91758000020')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2cf8b665fc91758000021')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cf8b665fc91758000022')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8b665fc91758000022')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$JICVVLP7cQsLlPlviXyqx.TYcMKXIIYkmX2mjzGYWqTxZEl2QPAhm", "password_salt"=>"$2a$10$JICVVLP7cQsLlPlviXyqx.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cf8b665fc91758000023'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cf8b665fc91758000022'), "users._id"=>BSON::ObjectId('4cf2cf8b665fc91758000023')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2cf8c665fc91758000024')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered pages/index.html.haml within layouts/application (2.1ms)
Completed 200 OK in 16ms (Views: 11.9ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1005
Completed 302 Found in 9ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1006
Completed 302 Found in 5ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1010
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 6ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 3ms
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.4ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 5ms (Views: 2.8ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1021
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1022
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1023
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1025
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1026
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1027
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
Rendered pages/_form.html.haml (11.4ms)
Rendered pages/_form.html.haml (4.6ms)
Rendered sites/_form.html.haml (8.9ms)
Rendered sites/_form.html.haml (3.5ms)
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cfa3665fc91777000010')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa3665fc91777000010')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$yKOzYmpXyLYq.KJuUg8GTeGDZhteAtYUQ4Ncb.wfeZyRYGmcACfI6", "password_salt"=>"$2a$10$yKOzYmpXyLYq.KJuUg8GTe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cfa3665fc91777000011'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cfa4665fc91777000013')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa4665fc91777000013')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$rtWzoONptAefzXTODZzkzeETh/dYDrRLsnLMDieyQxm5zR3O9Ylmi", "password_salt"=>"$2a$10$rtWzoONptAefzXTODZzkze", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cfa4665fc91777000014'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cfa4665fc91777000015')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa4665fc91777000015')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$jC/fj1BZnxQ2a2mcpRN31.IAGAe4jg01o.eMTFFLr/Y/yt1SByXMe", "password_salt"=>"$2a$10$jC/fj1BZnxQ2a2mcpRN31.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cfa4665fc91777000016'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cfa4665fc91777000017')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa4665fc91777000017')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Zj6tZ1wJv6gOf982LBocGO17Wr2Pr3TZSNTIeLtPPru7kS5QOCHcu", "password_salt"=>"$2a$10$Zj6tZ1wJv6gOf982LBocGO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cfa4665fc91777000018'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cfa4665fc9177700001a')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa4665fc9177700001a')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$NSsaobbZCzF9b7EV6L9LieCR1e74kH4l5hFaovX9e2XlpE9WiFLAq", "password_salt"=>"$2a$10$NSsaobbZCzF9b7EV6L9Lie", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cfa4665fc9177700001b'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cfa4665fc9177700001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa4665fc9177700001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$443fBuPRBg/A64k5ePTSZ.PV75Hf9IeBBAYbSC5Hi7dL/fVZ3YLVG", "password_salt"=>"$2a$10$443fBuPRBg/A64k5ePTSZ.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cfa4665fc9177700001e'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cfa4665fc91777000020')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa4665fc91777000020')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$IVyb.3OIcin4yMXBiGf/RO3sjkdeJSkhXhQY01JivLtwK/k40YZn2", "password_salt"=>"$2a$10$IVyb.3OIcin4yMXBiGf/RO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cfa4665fc91777000021'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cfa4665fc91777000020')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cfa4665fc91777000022')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa4665fc91777000022')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$iVJnkdeIhmnmPqmQHB1uQO6PQBpZ9hYUoq8go1/1J79hNQcUXFI1O", "password_salt"=>"$2a$10$iVJnkdeIhmnmPqmQHB1uQO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cfa4665fc91777000023'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cfa4665fc91777000022')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cfa4665fc91777000025')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa4665fc91777000025')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$q2rMcazXlP1SjeC4AyUnGeDUsbnMzIzVHo1PUGv0Q6AgI2bTvRWy2", "password_salt"=>"$2a$10$q2rMcazXlP1SjeC4AyUnGe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cfa4665fc91777000026'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cfa4665fc91777000025')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cfa4665fc91777000027')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa4665fc91777000027')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$cgrtAptonWiycfeMuOTHxuHaRpOQ1o96jecoWIxy/lkEGC20jv.TG", "password_salt"=>"$2a$10$cgrtAptonWiycfeMuOTHxu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cfa4665fc91777000028'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf2cfa4665fc91777000027')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cfa5665fc9177700002a')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa5665fc9177700002a')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$nrdxv8zjpW0KpOez.TJzWeWxjWzlwKjF0BUCVgvooXN4rJbDWIEbe", "password_salt"=>"$2a$10$nrdxv8zjpW0KpOez.TJzWe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cfa5665fc9177700002b'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cfa5665fc9177700002c')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa5665fc9177700002c')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$9T/Qxr32XwQga8Q1o6PYYeJuNpuAVIasMEAvo3SvUfrXvDEWV97Wm", "password_salt"=>"$2a$10$9T/Qxr32XwQga8Q1o6PYYe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cfa5665fc9177700002d'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cfa5665fc9177700002e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa5665fc9177700002e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$CC6/qR3tU.lzTGP9Ns6WZu5QILxhLDytiYUEm8AszYue3KPwsbI9m", "password_salt"=>"$2a$10$CC6/qR3tU.lzTGP9Ns6WZu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cfa5665fc9177700002f'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa5665fc9177700002e'), "users._id"=>BSON::ObjectId('4cf2cfa5665fc9177700002f')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2cfa5665fc91777000030')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf2cfa5665fc91777000031')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa5665fc91777000031')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$AbM4/vZ5X4PHIuUPCPKzMOOiL0HNr0IArnsLDaLPXh5yHwpCyN2fa", "password_salt"=>"$2a$10$AbM4/vZ5X4PHIuUPCPKzMO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf2cfa5665fc91777000032'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf2cfa5665fc91777000031'), "users._id"=>BSON::ObjectId('4cf2cfa5665fc91777000032')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf2cfa5665fc91777000033')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-28 13:54:45 -0800
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['pages'].find({}, {})
Completed 200 OK in 15ms (Views: 13.5ms)


Started GET "/sites" for 127.0.0.1 at 2010-11-28 13:54:45 -0800
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['sites'].find({}, {})
Completed 200 OK in 10ms (Views: 8.8ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered pages/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 16ms (Views: 12.0ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1005
Completed 302 Found in 12ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1006
Completed 302 Found in 5ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1010
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 61ms (Views: 3.2ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 6ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 3ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.4ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1018
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1019
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1020
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (11.2ms)
Rendered pages/_form.html.haml (4.5ms)
Rendered sites/_form.html.haml (68.9ms)
Rendered sites/_form.html.haml (3.4ms)
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf4587f665fc93751000007')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45880665fc93751000008')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45880665fc93751000009')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45880665fc9375100000a')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45880665fc9375100000b')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45880665fc9375100000c')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45880665fc9375100000d')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45880665fc9375100000e')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45880665fc9375100000f')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45880665fc93751000010')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45880665fc9375100001a')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45880665fc9375100001a')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$cgCBxVTBlL02YBOw45Z/9uZvVl8zMcXvOVfqRkT7eOLWHtCaRzowS", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45880665fc9375100001b'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45880665fc9375100001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45880665fc9375100001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$g27YR/A9Z8hsRFqI.izpk.REkOkCBskybAIDV.hfc4xu0.rWIRlwy", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45880665fc9375100001e'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45880665fc9375100001f')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45880665fc9375100001f')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$40tZAXnyKoMDojwrvtByJeylfeg/trPxeah4AeDkNj6j4w0gm9nMu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45880665fc93751000020'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45880665fc93751000021')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45880665fc93751000021')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$gREWLveUhlAdA6f3RHzpaeRhqJdwfAyhXXleM.X3a4tG4uKHUiN86", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45880665fc93751000022'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45880665fc93751000024')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45880665fc93751000024')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$CNj0dIbY6CQjuY8N3tf2hOxRohYtTMhJvw5sg91eke0qCuslDrd4e", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45880665fc93751000025'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45880665fc93751000027')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45880665fc93751000027')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$v2P2ugcrmIQNwEy74kvrMugMBdaWWLroeHmvCw7VWe/f5GZUZsCOy", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45880665fc93751000028'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45880665fc9375100002a')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45880665fc9375100002a')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$kYOZjRSd9X8alOaTaBXzj.nsNBaVRv09BL3j8V5GYh1chx8opYN/G", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45880665fc9375100002b'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf45880665fc9375100002a')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45881665fc9375100002c')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45881665fc9375100002c')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$jsrN2fyAuvKiQDsUOy.DDev8yyNwGKH0gS.ZDWXfptqBQp6Z1GDfu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45881665fc9375100002d'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf45881665fc9375100002c')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45881665fc9375100002f')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45881665fc9375100002f')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$4XEt5/e7Q5Z5rTphI6oHG.EPBgeroeDKw.gtWqFvwu7GZMfiMcbdi", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45881665fc93751000030'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf45881665fc9375100002f')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45881665fc93751000031')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45881665fc93751000031')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$iyYU4uh.tDjs79ZnhXK3DeHvQKEQrl7BBYhWBM.LaOPzv7D5vkDvi", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45881665fc93751000032'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf45881665fc93751000031')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45881665fc93751000034')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45881665fc93751000034')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ZFvO33c/SaG4Oeb.wjMTvOArxJF.gTcSwWwzNRMHyxWQmDFMgsLK6", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45881665fc93751000035'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45881665fc93751000036')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45881665fc93751000036')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$gt5Nm/hP5oXNa5XxVGeU4e5hIgm8DpUx.Oo0UhQsptVxG1nSOJiPy", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45881665fc93751000037'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45881665fc93751000038')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45881665fc93751000038')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$pf1547jo7Q1E7X56z2BUhOl8aNHurPNPhzd0TR4GWdxSxi4UNF8hq", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45881665fc93751000039'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45881665fc93751000038'), "users._id"=>BSON::ObjectId('4cf45881665fc93751000039')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf45881665fc9375100003a')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45881665fc9375100003b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45881665fc9375100003b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$wqWc0LWt7fuN774aA1yZOOW1dmsCUZLfdMmMBZyDbMjVp6VPzkIwW", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45881665fc9375100003c'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45881665fc9375100003b'), "users._id"=>BSON::ObjectId('4cf45881665fc9375100003c')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf45881665fc9375100003d')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-29 17:50:57 -0800
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['pages'].find({}, {})
Completed   in 292ms


Started GET "/sites" for 127.0.0.1 at 2010-11-29 17:50:58 -0800
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['sites'].find({}, {})
Completed   in 235ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered pages/index.html.haml within layouts/application (2.1ms)
Completed 200 OK in 16ms (Views: 12.0ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1005
Completed 302 Found in 12ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1006
Completed 302 Found in 5ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1010
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 61ms (Views: 3.3ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 6ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 3ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.3ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1018
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1019
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1020
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (11.4ms)
Rendered pages/_form.html.haml (4.6ms)
Rendered sites/_form.html.haml (68.9ms)
Rendered sites/_form.html.haml (3.5ms)
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45894665fc93792000007')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45894665fc93792000008')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45894665fc93792000009')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45894665fc9379200000a')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45894665fc9379200000b')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45894665fc9379200000c')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45894665fc9379200000d')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45894665fc9379200000e')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45894665fc9379200000f')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45894665fc93792000010')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45894665fc9379200001a')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45894665fc9379200001a')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$SgEzHtq0SAMxrPzRJ17.COMaAtpH7kx/wWsgi0d3x2uZ/GlXE8e.u", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45894665fc9379200001b'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45894665fc9379200001d')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45894665fc9379200001d')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$XBnOQbZXDEhIrhy0iWs14u9M6b/MYDuvx/Cwh0ShIYFJM1d5Vqjtu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45894665fc9379200001e'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45895665fc9379200001f')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45895665fc9379200001f')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$1rvy3yOwxnwaPGP7NPhRPe/rigzmCWHGoVyEvmDp301KJJADxFoCO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45895665fc93792000020'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45895665fc93792000021')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45895665fc93792000021')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$fi6P.OhhBViyawiv/OdegO4SILnFBZNDSCkpw8Y4228qDTlvlgchW", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45895665fc93792000022'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45895665fc93792000024')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45895665fc93792000024')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$wF80tAHwWOgtH8YG.jDUKeHaqgaZIF6bA/iJYJSptNhGSH6cJBx5i", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45895665fc93792000025'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45895665fc93792000027')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45895665fc93792000027')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$PUThONI63/2mVs7GZkyYWeL1nG17dC5wHir1TES2jmzQkqieu50dy", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45895665fc93792000028'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45895665fc9379200002a')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45895665fc9379200002a')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$BVbdig.oay4NkKch/c/IvetuK1.a8Vd8ovXfmGxEC9CEGCxYTn.1q", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45895665fc9379200002b'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf45895665fc9379200002a')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45895665fc9379200002c')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45895665fc9379200002c')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$c/v2cIzbRM15OtXixNXg2O82rpCThPiWG8uhVqaPn.V31SENNlT2e", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45895665fc9379200002d'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf45895665fc9379200002c')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45895665fc9379200002f')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45895665fc9379200002f')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$AQQtAm3GgT1yAgvZR.VKb.VA//tnKPoQv.2kg6zXVJlejHzqzuPnG", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45895665fc93792000030'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf45895665fc9379200002f')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45895665fc93792000031')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45895665fc93792000031')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$uMT7q06r7EAcdjwv2M5myedbZyP5vX95kzCRgi7o3lXlgWth9A8/.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45895665fc93792000032'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf45895665fc93792000031')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45896665fc93792000034')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45896665fc93792000034')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$b2kKRkfRis.YmaA32kaOue3JS4mR1HjqcKiJX1ZMYHiblNkOhgNNW", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45896665fc93792000035'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45896665fc93792000036')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45896665fc93792000036')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$BRRMPruT4utR/tKiEq1IJukAxBXmAfIKUmAEE/GKVH0NAbhoKzCSm", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45896665fc93792000037'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45896665fc93792000038')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45896665fc93792000038')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$b.LBX6c/E0JGuh6J9yc3M.lSPai1YUsoRX6GjJO9DE6IbUVGaV.Iu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45896665fc93792000039'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45896665fc93792000038'), "users._id"=>BSON::ObjectId('4cf45896665fc93792000039')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf45896665fc9379200003a')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45896665fc9379200003b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45896665fc9379200003b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$b/gjR3kx2j6VJH848lgQEeqU2iZTqm/ekg4EniVPcGSC8VqsQX/by", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45896665fc9379200003c'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45896665fc9379200003b'), "users._id"=>BSON::ObjectId('4cf45896665fc9379200003c')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf45896665fc9379200003d')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-29 17:51:18 -0800
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['pages'].find({}, {})
Completed   in 292ms


Started GET "/sites" for 127.0.0.1 at 2010-11-29 17:51:18 -0800
  Processing by SitesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['sites'].find({}, {})
Completed   in 237ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered pages/index.html.haml within layouts/application (2.1ms)
Completed 200 OK in 16ms (Views: 11.9ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.3ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1005
Completed 302 Found in 12ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1006
Completed 302 Found in 5ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1010
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.7ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 6ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 3ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.3ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1018
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1019
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1020
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45923665fc937db000001')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45923665fc937db000002')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45923665fc937db000003')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45923665fc937db000004')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45923665fc937db000005')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45923665fc937db000006')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45923665fc937db000007')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45923665fc937db000008')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45923665fc937db000009')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45923665fc937db00000a')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45924665fc937db000014')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45924665fc937db000014')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$QGaYxNr3EjuNspEnmeNb7upR4JV8zpdNka.BmmAZBhgPXId24WVNa", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45924665fc937db000015'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45924665fc937db000017')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45924665fc937db000017')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$p0SJ02yTAmMGFxEy5ygLg.1tNFqCQN.fyNl9qerXqw4hyHTtRUj8e", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45924665fc937db000018'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45924665fc937db000019')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45924665fc937db000019')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$dUc5l10AlGYis102ocZM0..cC/R0Ohpg1ppOxPSJ1qbH7GRKHKsfW", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45924665fc937db00001a'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45924665fc937db00001b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45924665fc937db00001b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$aPbYNCzwpdm4088YnktAeeSpPt7rdi4Qjrw1OnIp1i2/15Cj3v//6", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45924665fc937db00001c'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45924665fc937db00001e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45924665fc937db00001e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$IMBfXnc3ci/bUMViVA.IBOtDn.pj8Z6ahMNyNPGERxGK6mXwOzmMu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45924665fc937db00001f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45924665fc937db000021')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45924665fc937db000021')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$vSiPG6dM6y95bNj2AlpE.Om7RDoNyplYzn46yVNQ9ftp6WFgToQAG", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45924665fc937db000022'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45924665fc937db000024')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45924665fc937db000024')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$yVoYWmOgYJIh4nrplX0XsuBIF.HOQ3ncijNuPKVcfiEYc7UP5HMI6", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45924665fc937db000025'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf45924665fc937db000024')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45924665fc937db000026')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45924665fc937db000026')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$HDyxOpnk2v7NwYBR.nRc/ezGijAkTmx0U7T0TH4vzrBtbF0sCcNnO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45924665fc937db000027'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf45924665fc937db000026')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45925665fc937db000029')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45925665fc937db000029')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Kcp8.0ROmRl0A7/ibU6bxOg6tZDcHNW5XPqmsWNeDFRShSNtNBIGG", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45925665fc937db00002a'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf45925665fc937db000029')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45925665fc937db00002b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45925665fc937db00002b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$3kIbv0K8eTO3u5eDhvqG0ObnNdVpC05Shs1tZUN2Z3SyegvUNHcOO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45925665fc937db00002c'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf45925665fc937db00002b')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45925665fc937db00002e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45925665fc937db00002e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$oh8mstEMkxuNIjo1ra4n1eZg7hvfmcqiPf/2aw7d9J1uQsRSWX5mG", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45925665fc937db00002f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45925665fc937db000030')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45925665fc937db000030')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$RJaotJHH7QDQd6/3xLQTHej61RLvnATPAX4fayKemCEMC/oxvqpmi", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45925665fc937db000031'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45925665fc937db000032')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45925665fc937db000032')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$p/QvwYLMts/bGN/sDqRM4uTD/.EyCdwXU8PEDLfEo8611Vg0sBPj6", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45925665fc937db000033'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45925665fc937db000032'), "users._id"=>BSON::ObjectId('4cf45925665fc937db000033')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf45925665fc937db000034')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf45925665fc937db000035')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45925665fc937db000035')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$5OeqZ8Z9U0V8rRnOMU6.E.K942v3KAeI.IFiSfGd4sIvcjiYegHzu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf45925665fc937db000036'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf45925665fc937db000035'), "users._id"=>BSON::ObjectId('4cf45925665fc937db000036')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf45925665fc937db000037')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
Rendered pages/_form.html.haml (71.4ms)
Rendered pages/_form.html.haml (4.6ms)
Rendered sites/_form.html.haml (8.9ms)
Rendered sites/_form.html.haml (3.3ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)


Started GET "/pages" for 127.0.0.1 at 2010-11-29 17:55:03 -0800
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['pages'].find({}, {})
Rendered pages/index.html.haml within layouts/application (284.9ms)
Completed   in 296ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Rendered pages/index.html.haml within layouts/application (2.1ms)
Completed 200 OK in 16ms (Views: 12.0ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.3ms)
  Processing by PagesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1005
Completed 302 Found in 12ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1006
Completed 302 Found in 5ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.6ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1010
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 5ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.6ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 6ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 3ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.4ms)
  Processing by SitesController#new as HTML
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1018
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1019
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Redirected to http://test.host/sites/1020
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
whisper_test['sites'].find({:domain=>"example.org"}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf459b0665fc9389a000001')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf459b0665fc9389a000002')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf459b0665fc9389a000003')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf459b0665fc9389a000004')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf459b0665fc9389a000005')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf459b0665fc9389a000006')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf459b0665fc9389a000007')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf459b0665fc9389a000008')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf459b0665fc9389a000009')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf459b0665fc9389a00000a')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf459b0665fc9389a000014')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b0665fc9389a000014')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$mfj69oro6jsPGTJT0fJfc.EQZSmwRFWhiOlj0E9Cn0zswWFJ5cCsu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf459b0665fc9389a000015'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf459b1665fc9389a000017')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b1665fc9389a000017')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$HIXlcezTG9gRkcUPvt0mw.lz54apRR2QExAI2uH6LJXHmUtrIdMqi", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf459b1665fc9389a000018'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf459b1665fc9389a000019')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b1665fc9389a000019')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$FeRkv0epYBTHY2LDZZYIkee/i51UcCMp7t8KNuEi3s9Xp5jfQJltO", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf459b1665fc9389a00001a'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf459b1665fc9389a00001b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b1665fc9389a00001b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$bAoLYcdvN0LgkpPalDHeoe3ETLUUEvfY0DVQ4zquLZ8M/XuAyW6fe", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf459b1665fc9389a00001c'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:domain=>"localhost"}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf459b1665fc9389a00001e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b1665fc9389a00001e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$NcbKLe0U2ksgUPPHHd7jrO8TAyfys9RfM6ILwgvxcmRamp0fdFkXS", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf459b1665fc9389a00001f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf459b1665fc9389a000021')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b1665fc9389a000021')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ZDXYUyD7cbnbRnU0YVp6M.ev2.3cFbGrObIo.xlUgffXsFjN64piW", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf459b1665fc9389a000022'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf459b1665fc9389a000024')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b1665fc9389a000024')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$9SaMafYqPtL5bne6xDhKkeBYbMAGo4p0PQ.rS9vVEYPq0.HcjpGxu", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf459b1665fc9389a000025'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf459b1665fc9389a000024')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf459b1665fc9389a000026')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b1665fc9389a000026')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Wc0ung4YsuFZ6kHzdmmuc.gKppdT2wjWGztl4chx9wJx2z1dGnZE.", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf459b1665fc9389a000027'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf459b1665fc9389a000026')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf459b1665fc9389a000029')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b1665fc9389a000029')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$FV8N1Aeef3g4s.l4mhArg.W.6AcGEwGwBuOEh37k7uT9EEVibkUD2", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf459b1665fc9389a00002a'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf459b1665fc9389a000029')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf459b2665fc9389a00002b')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b2665fc9389a00002b')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$wbrSC4Tz0S8hI12Swv10QOvmXwPj/PT1rC/duk6Ju0uDr11J4ruHC", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf459b2665fc9389a00002c'), "alias"=>"tgannon"}}})
whisper_test['sites'].find({:_id=>BSON::ObjectId('4cf459b2665fc9389a00002b')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf459b2665fc9389a00002e')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b2665fc9389a00002e')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Gu6recR.l8YWF8aUdIFVPuwHnnRNzRbu2.DD53CLFDjfndNbiblrG", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf459b2665fc9389a00002f'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf459b2665fc9389a000030')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b2665fc9389a000030')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Uo9Vae.nUylp67CISehNrOWsJ1atVZBdc9kONFDpHo3AR.WhuD1pG", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf459b2665fc9389a000031'), "alias"=>"tgannon"}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf459b2665fc9389a000032')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b2665fc9389a000032')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$bbi8Sw3DsvZ3kx.6hUbFDeWSsdvzXiP5wyWnTwObFEuJcwoFGYYaW", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf459b2665fc9389a000033'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b2665fc9389a000032'), "users._id"=>BSON::ObjectId('4cf459b2665fc9389a000033')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf459b2665fc9389a000034')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
MONGODB whisper_test['sites'].insert([{"domain"=>"localhost", "_id"=>BSON::ObjectId('4cf459b2665fc9389a000035')}])
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b2665fc9389a000035')}, {"$push"=>{"users"=>{"email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$khsGPx0O2iEcyufyIFB7JO5wYlx0Ppafy/SGe0PQdS.A5RpzZU6J6", "failed_attempts"=>0, "sign_in_count"=>0, "_id"=>BSON::ObjectId('4cf459b2665fc9389a000036'), "alias"=>"tgannon"}}})
MONGODB whisper_test['sites'].update({"_id"=>BSON::ObjectId('4cf459b2665fc9389a000035'), "users._id"=>BSON::ObjectId('4cf459b2665fc9389a000036')}, {"$push"=>{"users.0.abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf459b2665fc9389a000037')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
Rendered pages/_form.html.haml (72.1ms)
Rendered pages/_form.html.haml (4.7ms)
Rendered sites/_form.html.haml (8.9ms)
Rendered sites/_form.html.haml (3.4ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)


Started GET "/pages" for 127.0.0.1 at 2010-11-29 17:56:53 -0800
  Processing by PagesController#index as HTML
whisper_test['sites'].find({:domain=>"www.example.com"}, {}).limit(-1)
whisper_test['pages'].find({}, {})
Rendered pages/index.html.haml within layouts/application (278.7ms)
Completed   in 290ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a5d665fc9397d000001')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a5d665fc9397d000002')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a5d665fc9397d000003')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a5d665fc9397d000004')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a5d665fc9397d000005')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a5d665fc9397d000006')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a5d665fc9397d000007')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a5d665fc9397d000008')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a5d665fc9397d000009')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a5d665fc9397d00000a')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a76665fc939a4000001')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a76665fc939a4000002')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a76665fc939a4000003')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a76665fc939a4000004')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a76665fc939a4000005')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a76665fc939a4000006')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a76665fc939a4000007')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a76665fc939a4000008')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a76665fc939a4000009')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45a76665fc939a400000a')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b1f665fc939ed000001')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b1f665fc939ed000002')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b1f665fc939ed000003')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b1f665fc939ed000004')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b1f665fc939ed000005')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b1f665fc939ed000006')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b1f665fc939ed000007')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b1f665fc939ed000008')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b1f665fc939ed000009')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b1f665fc939ed00000a')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b30665fc93a16000001')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b30665fc93a16000002')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b30665fc93a16000003')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b30665fc93a16000004')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b30665fc93a16000005')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b30665fc93a16000006')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b30665fc93a16000007')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b30665fc93a16000008')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b30665fc93a16000009')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b30665fc93a1600000a')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b52665fc93a43000001')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b52665fc93a43000002')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b52665fc93a43000003')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b52665fc93a43000004')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b52665fc93a43000005')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b52665fc93a43000006')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b52665fc93a43000007')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b52665fc93a43000008')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b52665fc93a43000009')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45b52665fc93a4300000a')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45bf5665fc93a79000001')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45bf6665fc93a79000003')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45bf6665fc93a79000005')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45bf6665fc93a79000006')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45bf6665fc93a79000007')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45bf6665fc93a79000008')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45bf6665fc93a79000009')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000a')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000b')}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf45bf6665fc93a7900000c')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000c'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 02:05:42 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:05:42 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf45bf6665fc93a7900000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf45bf6665fc93a7900000d')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf45bf6665fc93a7900000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf45bf6665fc93a7900000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf45bf6665fc93a7900000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf45bf6665fc93a7900000c')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000d'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000c'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 02:05:42 UTC, "updated_at"=>2010-11-30 02:05:42 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf45bf6665fc93a7900000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000c')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf45bf6665fc93a7900000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf45bf6665fc93a7900000e')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf45bf6665fc93a7900000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf45bf6665fc93a7900000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf45bf6665fc93a7900000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf45bf6665fc93a7900000c'), BSON::ObjectId('4cf45bf6665fc93a7900000d')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000d'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 02:05:42 UTC, "updated_at"=>2010-11-30 02:05:42 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf45bf6665fc93a7900000e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000c')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000d')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf45bf6665fc93a7900000d')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf45bf6665fc93a7900000c')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf45bf6665fc93a7900000c')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf45bf6665fc93a7900000c')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf45bf6665fc93a7900000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf45bf6665fc93a7900000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf45bf6665fc93a7900000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf45bf6665fc93a7900000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf45bf6665fc93a7900000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf45bf6665fc93a7900000e')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['sites'].insert([{"domain"=>"blahblah.localhost", "_id"=>BSON::ObjectId('4cf45bf6665fc93a7900000f')}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Completed   in 1ms
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 16ms (Views: 11.8ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1002
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1003
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1004
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.1ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1014
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 7ms (Views: 2.6ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (12.3ms)
Rendered pages/_form.html.haml (5.5ms)
Rendered sites/_form.html.haml (10.0ms)
Rendered sites/_form.html.haml (4.5ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-29 18:06:45 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed   in 300ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Completed   in 1ms
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 16ms (Views: 11.9ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1002
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1003
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1004
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.3ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 9ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1014
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 58ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (12.4ms)
Rendered pages/_form.html.haml (5.6ms)
Rendered sites/_form.html.haml (10.1ms)
Rendered sites/_form.html.haml (4.5ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-29 18:15:53 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 78ms (Views: 77.2ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000001')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000001')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000001'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:42:08 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000001')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000001')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000003')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000003')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000003'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:42:08 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000003')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000003')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000005')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000005'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:42:08 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000006')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000006')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000006')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000006')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf46480665fc93ca0000005')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000006'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000005'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 02:42:08 UTC, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000006')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000007')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000007')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:98047740 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000007')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000007')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf46480665fc93ca0000005')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000007'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000005'), "path_fragment"=>"niceface-3", "created_at"=>2010-11-30 02:42:08 UTC, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000007')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000008')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000008')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000008')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000008')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:98014150 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000008')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000008')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf46480665fc93ca0000005')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000008'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000005'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 02:42:08 UTC, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000008')}, {})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000007')}}, {})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000008')}}, {})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000006')}}, {})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000007')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf46480665fc93ca0000007')}, {"$set"=>{"position"=>0}})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000008')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf46480665fc93ca0000008')}, {"$set"=>{"position"=>1}})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000006')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf46480665fc93ca0000006')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000005')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000005')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000006')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000006')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000007')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000007')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf46480665fc93ca0000008')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000008')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000008')}, :position=>{"$gt"=>1}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000009')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000009'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:42:08 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca000000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000a')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf46480665fc93ca000000a'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:42:08 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca000000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000b')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca000000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf46480665fc93ca000000a')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf46480665fc93ca000000b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf46480665fc93ca000000a'), "path_fragment"=>"cool", "created_at"=>2010-11-30 02:42:08 UTC, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000b')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca000000a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca000000b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000b')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca000000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000c')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf46480665fc93ca000000c'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:42:08 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca000000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000d')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca000000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf46480665fc93ca000000c')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf46480665fc93ca000000d'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf46480665fc93ca000000c'), "path_fragment"=>"cool", "created_at"=>2010-11-30 02:42:08 UTC, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca000000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000e')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca000000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf46480665fc93ca000000c'), BSON::ObjectId('4cf46480665fc93ca000000d')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf46480665fc93ca000000e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf46480665fc93ca000000d'), "path_fragment"=>"cool", "created_at"=>2010-11-30 02:42:08 UTC, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca000000c')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000c')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca000000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca000000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000e')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca000000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf46480665fc93ca000000f'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:42:08 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca000000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000010')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000010')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf46480665fc93ca000000f')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000010'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf46480665fc93ca000000f'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 02:42:08 UTC, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000010')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000011')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf46480665fc93ca000000f'), BSON::ObjectId('4cf46480665fc93ca0000010')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000010'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 02:42:08 UTC, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000011')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca000000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca000000f')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000010')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca000000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000012')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000012'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:42:08 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000012')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000013')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000013'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:42:08 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000014')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:88669860 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000014')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000014'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 02:42:08 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000015')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000015')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf46480665fc93ca0000014')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf46480665fc93ca0000014')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000015'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000014'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 02:42:08 UTC, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000015')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000016')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf46480665fc93ca0000014'), BSON::ObjectId('4cf46480665fc93ca0000015')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000015'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 02:42:08 UTC, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000015')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf46480665fc93ca0000015')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf46480665fc93ca0000014')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000013')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000014')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000014')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000015')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000016')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000017')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000017'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:42:08 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000018')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000018')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf46480665fc93ca0000017')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf46480665fc93ca0000018'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000017'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 02:42:08 UTC, "updated_at"=>2010-11-30 02:42:08 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000018')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf46480665fc93ca0000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000019')}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000017')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000017')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf46480665fc93ca0000018')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf46480665fc93ca0000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf46480665fc93ca0000018')}, :position=>{"$gt"=>0}}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000001')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000001')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000001'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:43:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000001')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000001')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000003')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000003')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000003'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:43:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000003')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000003')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000005')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000005'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:43:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000006')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000006')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000006')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000006')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf464ed665fc93d05000005')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000006'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000005'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 02:43:57 UTC, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000006')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000007')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000007')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:94616240 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000007')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000007')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf464ed665fc93d05000005')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000007'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000005'), "path_fragment"=>"niceface-3", "created_at"=>2010-11-30 02:43:57 UTC, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000007')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000008')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000008')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000008')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000008')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:94582410 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000008')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000008')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf464ed665fc93d05000005')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000008'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000005'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 02:43:57 UTC, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000008')}, {})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000007')}}, {})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000008')}}, {})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000006')}}, {})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000007')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf464ed665fc93d05000007')}, {"$set"=>{"position"=>0}})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000008')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf464ed665fc93d05000008')}, {"$set"=>{"position"=>1}})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000006')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf464ed665fc93d05000006')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000005')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000005')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000006')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000006')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000007')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000007')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf464ed665fc93d05000008')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000008')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000008')}, :position=>{"$gt"=>1}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000009')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000009'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:43:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000a')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf464ed665fc93d0500000a'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:43:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000b')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf464ed665fc93d0500000a')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf464ed665fc93d0500000b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000a'), "path_fragment"=>"cool", "created_at"=>2010-11-30 02:43:57 UTC, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d0500000a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d0500000b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000b')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000c')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf464ed665fc93d0500000c'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:43:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000d')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf464ed665fc93d0500000c')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf464ed665fc93d0500000d'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000c'), "path_fragment"=>"cool", "created_at"=>2010-11-30 02:43:57 UTC, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000e')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf464ed665fc93d0500000c'), BSON::ObjectId('4cf464ed665fc93d0500000d')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf464ed665fc93d0500000e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000d'), "path_fragment"=>"cool", "created_at"=>2010-11-30 02:43:57 UTC, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d0500000c')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000c')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d0500000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d0500000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000e')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf464ed665fc93d0500000f'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:43:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000010')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000010')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf464ed665fc93d0500000f')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000010'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000f'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 02:43:57 UTC, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000010')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000011')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf464ed665fc93d0500000f'), BSON::ObjectId('4cf464ed665fc93d05000010')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000010'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 02:43:57 UTC, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d0500000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d0500000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d0500000f')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000010')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d0500000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000012')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000012'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:43:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000012')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000013')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000013'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:43:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000014')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:85004350 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000014')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000014'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 02:43:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000015')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000015')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf464ed665fc93d05000014')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf464ed665fc93d05000014')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000015'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000014'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 02:43:57 UTC, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000015')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000016')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf464ed665fc93d05000014'), BSON::ObjectId('4cf464ed665fc93d05000015')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000015'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 02:43:57 UTC, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000015')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf464ed665fc93d05000015')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf464ed665fc93d05000014')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000013')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000014')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000014')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000015')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000016')}, :position=>{"$gt"=>0}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000017')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000017'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 02:43:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000018')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000018')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf464ed665fc93d05000017')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf464ed665fc93d05000018'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000017'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 02:43:57 UTC, "updated_at"=>2010-11-30 02:43:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000018')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf464ed665fc93d05000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000019')}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000017')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000017')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf464ed665fc93d05000018')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf464ed665fc93d05000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf464ed665fc93d05000018')}, :position=>{"$gt"=>0}}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Completed   in 1ms
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 16ms (Views: 11.9ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1002
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1003
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1004
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.5ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 9ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1014
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 59ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 7ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (12.4ms)
Rendered pages/_form.html.haml (5.5ms)
Rendered sites/_form.html.haml (10.0ms)
Rendered sites/_form.html.haml (4.7ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-29 21:06:27 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 78ms (Views: 77.4ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Completed   in 1ms
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 16ms (Views: 11.8ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1002
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1003
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1004
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.2ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 9ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1014
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 59ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (12.3ms)
Rendered pages/_form.html.haml (5.5ms)
Rendered sites/_form.html.haml (10.1ms)
Rendered sites/_form.html.haml (4.6ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-29 21:08:32 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 78ms (Views: 77.0ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Completed   in 1ms
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 16ms (Views: 12.0ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1002
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1003
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1004
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.2ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 9ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1014
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 59ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (12.2ms)
Rendered pages/_form.html.haml (5.7ms)
Rendered sites/_form.html.haml (10.2ms)
Rendered sites/_form.html.haml (4.5ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc94128000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc94128000007')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48713665fc94128000007'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:09:39 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:09:39 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48713665fc94128000007')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc94128000007')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc94128000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc94128000009')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48713665fc94128000009'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:09:39 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:09:39 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48713665fc94128000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc94128000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc9412800000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000b')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48713665fc9412800000b'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:09:39 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:09:39 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc9412800000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc9412800000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48713665fc9412800000b')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf48713665fc9412800000c'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf48713665fc9412800000b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 05:09:39 UTC, "updated_at"=>2010-11-30 05:09:39 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48713665fc9412800000c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc9412800000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc9412800000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000d')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:105486330 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000d')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48713665fc9412800000b')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf48713665fc9412800000d'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf48713665fc9412800000b'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 05:09:39 UTC, "updated_at"=>2010-11-30 05:09:39 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48713665fc9412800000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc9412800000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc9412800000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000e')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:105539750 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000e')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48713665fc9412800000b')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf48713665fc9412800000e'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf48713665fc9412800000b'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 05:09:39 UTC, "updated_at"=>2010-11-30 05:09:39 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48713665fc9412800000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc9412800000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48713665fc9412800000b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48713665fc9412800000c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000c')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf48713665fc9412800000d')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf48713665fc9412800000e')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48713665fc9412800000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000d')}, :position=>{"$gt"=>1}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48713665fc9412800000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48713665fc9412800000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000e')}, :position=>{"$gt"=>2}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc9412800000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48713665fc9412800000f'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:09:39 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:09:39 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48713665fc9412800000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc9412800000f')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc94128000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc94128000010')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48713665fc94128000010'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:09:39 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc94128000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48713665fc94128000010'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc94128000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48713665fc94128000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc94128000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc94128000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48713665fc94128000010')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf48713665fc94128000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48713665fc94128000010'), "path_fragment"=>"cool", "created_at"=>2010-11-30 05:09:40 UTC, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48713665fc94128000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48713665fc94128000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48713665fc94128000010')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc94128000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48713665fc94128000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48713665fc94128000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf48713665fc94128000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000012')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48714665fc94128000012'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:09:40 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48714665fc94128000012'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc94128000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48714665fc94128000012')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf48714665fc94128000013'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48714665fc94128000012'), "path_fragment"=>"cool", "created_at"=>2010-11-30 05:09:40 UTC, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc94128000013')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48714665fc94128000013'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc94128000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48714665fc94128000012'), BSON::ObjectId('4cf48714665fc94128000013')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf48714665fc94128000014'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48714665fc94128000013'), "path_fragment"=>"cool", "created_at"=>2010-11-30 05:09:40 UTC, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc94128000014')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48714665fc94128000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000012')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48714665fc94128000013')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc94128000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48714665fc94128000014')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc94128000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000014')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000015')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48714665fc94128000015'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:09:40 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48714665fc94128000015'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc94128000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48714665fc94128000015')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf48714665fc94128000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48714665fc94128000015'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 05:09:40 UTC, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc94128000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48714665fc94128000016'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc94128000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48714665fc94128000015'), BSON::ObjectId('4cf48714665fc94128000016')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf48714665fc94128000017'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48714665fc94128000016'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 05:09:40 UTC, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc94128000017')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48714665fc94128000015')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48714665fc94128000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc94128000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000016')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48714665fc94128000017')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc94128000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000017')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000018')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48714665fc94128000018'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:09:40 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000018')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48714665fc94128000018')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000018')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc94128000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000019')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48714665fc94128000019'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:09:40 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc9412800001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:105162590 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf48714665fc9412800001a'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 05:09:40 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc9412800001a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48714665fc9412800001a'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc9412800001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc9412800001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001b')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf48714665fc9412800001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48714665fc9412800001a')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf48714665fc9412800001b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48714665fc9412800001a'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 05:09:40 UTC, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc9412800001b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc9412800001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc9412800001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48714665fc9412800001b'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc9412800001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc9412800001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48714665fc9412800001a'), BSON::ObjectId('4cf48714665fc9412800001b')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf48714665fc9412800001c'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48714665fc9412800001b'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 05:09:40 UTC, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc9412800001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc9412800001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc9412800001b')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf48714665fc9412800001b')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf48714665fc9412800001a')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48714665fc94128000019')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc94128000019')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48714665fc9412800001a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48714665fc9412800001b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc9412800001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48714665fc9412800001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc9412800001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001c')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc9412800001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001d')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48714665fc9412800001d'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:09:40 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc9412800001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48714665fc9412800001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc9412800001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc9412800001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48714665fc9412800001d')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf48714665fc9412800001e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48714665fc9412800001d'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 05:09:40 UTC, "updated_at"=>2010-11-30 05:09:40 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc9412800001e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48714665fc9412800001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48714665fc9412800001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48714665fc9412800001d')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48714665fc9412800001e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48714665fc9412800001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf48714665fc9412800001e')}, :position=>{"$gt"=>0}}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-29 21:09:40 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 18ms (Views: 16.8ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000001')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000001')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dc4665fc94254000001'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:12 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:12 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc4665fc94254000001')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000001')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000003')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000003')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dc4665fc94254000003'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:12 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:12 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc4665fc94254000003')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000003')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000005')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dc4665fc94254000005'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:12 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:12 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000006')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000006')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000006')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dc4665fc94254000005')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf48dc4665fc94254000006'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000005'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 05:38:12 UTC, "updated_at"=>2010-11-30 05:38:12 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000006')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000007')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:88883920 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000007')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000007')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dc4665fc94254000005')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf48dc4665fc94254000007'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000005'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 05:38:12 UTC, "updated_at"=>2010-11-30 05:38:12 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000007')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000008')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000008')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000008')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:88782680 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000008')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000008')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dc4665fc94254000005')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf48dc4665fc94254000008'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000005'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 05:38:12 UTC, "updated_at"=>2010-11-30 05:38:12 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000008')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc4665fc94254000005')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000005')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc4665fc94254000006')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000006')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf48dc4665fc94254000007')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf48dc4665fc94254000008')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc4665fc94254000007')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000007')}, :position=>{"$gt"=>1}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc4665fc94254000008')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000008')}, :position=>{"$gt"=>2}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000009')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dc4665fc94254000009'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:12 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:12 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc4665fc94254000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000a')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dc4665fc9425400000a'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:12 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:12 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000a'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dc4665fc9425400000a')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf48dc4665fc9425400000b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000a'), "path_fragment"=>"cool", "created_at"=>2010-11-30 05:38:12 UTC, "updated_at"=>2010-11-30 05:38:12 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc4665fc9425400000a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc4665fc9425400000b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000b')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000c')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dc4665fc9425400000c'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:12 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:12 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000c')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000c'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dc4665fc9425400000c')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf48dc4665fc9425400000d'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000c'), "path_fragment"=>"cool", "created_at"=>2010-11-30 05:38:12 UTC, "updated_at"=>2010-11-30 05:38:12 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000d'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dc4665fc9425400000c'), BSON::ObjectId('4cf48dc4665fc9425400000d')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf48dc4665fc9425400000e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000d'), "path_fragment"=>"cool", "created_at"=>2010-11-30 05:38:12 UTC, "updated_at"=>2010-11-30 05:38:12 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc4665fc9425400000c')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000c')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc4665fc9425400000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc4665fc9425400000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000e')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dc4665fc9425400000f'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:12 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:13 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000f')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000f'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000010')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dc4665fc9425400000f')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf48dc4665fc94254000010'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000f'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 05:38:13 UTC, "updated_at"=>2010-11-30 05:38:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000010')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000010'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dc4665fc9425400000f'), BSON::ObjectId('4cf48dc4665fc94254000010')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf48dc5665fc94254000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000010'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 05:38:13 UTC, "updated_at"=>2010-11-30 05:38:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc5665fc94254000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc9425400000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc4665fc94254000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc4665fc9425400000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc9425400000f')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc4665fc94254000010')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc9425400000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc4665fc94254000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc5665fc94254000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc4665fc94254000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000012')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dc5665fc94254000012'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:13 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc5665fc94254000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000012')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000013')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dc5665fc94254000013'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:13 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000014')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:78691830 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000014')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf48dc5665fc94254000014'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 05:38:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:13 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000014')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc5665fc94254000014'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc5665fc94254000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000015')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf48dc5665fc94254000014')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dc5665fc94254000014')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf48dc5665fc94254000015'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000014'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 05:38:13 UTC, "updated_at"=>2010-11-30 05:38:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc5665fc94254000015')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc5665fc94254000015'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc5665fc94254000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dc5665fc94254000014'), BSON::ObjectId('4cf48dc5665fc94254000015')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf48dc5665fc94254000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000015'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 05:38:13 UTC, "updated_at"=>2010-11-30 05:38:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc5665fc94254000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000015')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf48dc5665fc94254000015')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf48dc5665fc94254000014')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc5665fc94254000013')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc5665fc94254000014')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000014')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc5665fc94254000015')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc5665fc94254000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc5665fc94254000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc5665fc94254000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000016')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000017')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dc5665fc94254000017'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:13 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc5665fc94254000017'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc5665fc94254000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000018')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dc5665fc94254000017')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf48dc5665fc94254000018'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000017'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 05:38:13 UTC, "updated_at"=>2010-11-30 05:38:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc5665fc94254000018')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dc5665fc94254000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dc5665fc94254000017'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc5665fc94254000017')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000017')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dc5665fc94254000018')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dc5665fc94254000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dc5665fc94254000018')}, :position=>{"$gt"=>0}}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000001')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000001')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000001'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:29 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000001')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000001')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000003')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000003')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000003'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:29 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000003')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000003')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000005')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000005'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:29 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000006')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000006')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000006')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dd5665fc9427c000005')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000006'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000005'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 05:38:29 UTC, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000006')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000007')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:95896410 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000007')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000007')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dd5665fc9427c000005')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000007'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000005'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 05:38:29 UTC, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000007')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000008')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000008')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000008')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:95794790 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000008')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000008')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dd5665fc9427c000005')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000008'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000005'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 05:38:29 UTC, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000008')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000005')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000005')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000006')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000006')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf48dd5665fc9427c000007')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf48dd5665fc9427c000008')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000007')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000007')}, :position=>{"$gt"=>1}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000008')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000008')}, :position=>{"$gt"=>2}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000009')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000009'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:29 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000a')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000a'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:29 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000a'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dd5665fc9427c00000a')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000a'), "path_fragment"=>"cool", "created_at"=>2010-11-30 05:38:29 UTC, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c00000a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c00000b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000b')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000c')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000c'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:29 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000c')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000c'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dd5665fc9427c00000c')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000d'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000c'), "path_fragment"=>"cool", "created_at"=>2010-11-30 05:38:29 UTC, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000d'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dd5665fc9427c00000c'), BSON::ObjectId('4cf48dd5665fc9427c00000d')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000d'), "path_fragment"=>"cool", "created_at"=>2010-11-30 05:38:29 UTC, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c00000c')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000c')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c00000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c00000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000e')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000f'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:29 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000f')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000f'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000010')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dd5665fc9427c00000f')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000010'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000f'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 05:38:29 UTC, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000010')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000010'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dd5665fc9427c00000f'), BSON::ObjectId('4cf48dd5665fc9427c000010')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000010'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 05:38:29 UTC, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c00000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c00000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c00000f')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000010')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c00000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000012')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000012'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:29 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000012')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000013')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000013'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:29 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000014')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:85720300 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000014')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000014'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 05:38:29 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000014')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000014'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000015')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf48dd5665fc9427c000014')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dd5665fc9427c000014')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000015'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000014'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 05:38:29 UTC, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000015')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000015'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dd5665fc9427c000014'), BSON::ObjectId('4cf48dd5665fc9427c000015')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000015'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 05:38:29 UTC, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000015')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000015')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000014')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000013')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000014')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000014')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000015')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000016')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"whisper"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000017')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "domain"=>"localhost", "name"=>"whisper", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000017'), "_type"=>"Site", "path_fragment"=>"whisper", "created_at"=>2010-11-30 05:38:29 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000017'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000018')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf48dd5665fc9427c000017')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf48dd5665fc9427c000018'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000017'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 05:38:29 UTC, "updated_at"=>2010-11-30 05:38:29 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000018')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf48dd5665fc9427c000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000017'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000017')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000017')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf48dd5665fc9427c000018')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf48dd5665fc9427c000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf48dd5665fc9427c000018')}, :position=>{"$gt"=>0}}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Completed   in 1ms
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 16ms (Views: 11.9ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1002
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1003
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1004
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.2ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1014
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (12.3ms)
Rendered pages/_form.html.haml (5.5ms)
Rendered sites/_form.html.haml (10.0ms)
Rendered sites/_form.html.haml (4.5ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-29 21:41:39 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 77ms (Views: 76.1ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Completed   in 1ms
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 16ms (Views: 11.9ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1002
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1003
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1004
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.2ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1014
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.6ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (12.4ms)
Rendered pages/_form.html.haml (5.5ms)
Rendered sites/_form.html.haml (10.0ms)
Rendered sites/_form.html.haml (4.6ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000007')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49097665fc943da000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da000007')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000007')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000009')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49097665fc943da000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000b')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49097665fc943da00000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49097665fc943da00000b')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf49097665fc943da00000c'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49097665fc943da00000b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 05:50:15 UTC, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00000c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000d')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:95462600 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000d')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49097665fc943da00000b')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf49097665fc943da00000d'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49097665fc943da00000b'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 05:50:15 UTC, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000e')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:95516550 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000e')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49097665fc943da00000b')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf49097665fc943da00000e'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49097665fc943da00000b'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 05:50:15 UTC, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da00000b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da00000c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000c')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49097665fc943da00000d')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49097665fc943da00000e')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da00000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000d')}, :position=>{"$gt"=>1}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da00000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000e')}, :position=>{"$gt"=>2}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49097665fc943da00000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da00000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00000f')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000010')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49097665fc943da000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da000010'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49097665fc943da000010')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49097665fc943da000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49097665fc943da000010'), "path_fragment"=>"cool", "created_at"=>2010-11-30 05:50:15 UTC, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da000010')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000012')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49097665fc943da000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da000012'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49097665fc943da000012')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49097665fc943da000013'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49097665fc943da000012'), "path_fragment"=>"cool", "created_at"=>2010-11-30 05:50:15 UTC, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000013')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da000013'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49097665fc943da000012'), BSON::ObjectId('4cf49097665fc943da000013')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49097665fc943da000014'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49097665fc943da000013'), "path_fragment"=>"cool", "created_at"=>2010-11-30 05:50:15 UTC, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000014')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000012')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da000013')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da000014')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000014')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000015')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49097665fc943da000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da000015'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49097665fc943da000015')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf49097665fc943da000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49097665fc943da000015'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 05:50:15 UTC, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da000016'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49097665fc943da000015'), BSON::ObjectId('4cf49097665fc943da000016')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf49097665fc943da000017'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49097665fc943da000016'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 05:50:15 UTC, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000017')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da000015')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000016')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da000017')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000017')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000018')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49097665fc943da000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000018')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da000018')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000018')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000019')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49097665fc943da000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:92314380 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf49097665fc943da00001a'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 05:50:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00001a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da00001a'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00001b')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49097665fc943da00001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49097665fc943da00001a')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf49097665fc943da00001b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49097665fc943da00001a'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 05:50:15 UTC, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00001b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49097665fc943da00001b'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49097665fc943da00001a'), BSON::ObjectId('4cf49097665fc943da00001b')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf49097665fc943da00001c'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49097665fc943da00001b'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 05:50:15 UTC, "updated_at"=>2010-11-30 05:50:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49097665fc943da00001b')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49097665fc943da00001b')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49097665fc943da00001a')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da000019')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da000019')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da00001a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00001a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da00001b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49097665fc943da00001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49097665fc943da00001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49097665fc943da00001c')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da00001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da00001d')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da00001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49098665fc943da00001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da00001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49098665fc943da00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da00001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da00001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49098665fc943da00001d')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf49098665fc943da00001e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49098665fc943da00001d'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 05:50:16 UTC, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49098665fc943da00001e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>BSON::ObjectId('4cf49098665fc943da00001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49098665fc943da00001d')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da00001d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49098665fc943da00001e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49098665fc943da00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da00001e')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da000027')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da000027')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da000027'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da000028')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da000028')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da000028'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da000029')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da000029')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da000029'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da00002a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da00002a')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da00002a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da00002b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da00002b')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da00002b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da00002c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da00002c')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da00002c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da00002d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da00002d')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da00002d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da00002e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da00002e')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da00002e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da00002f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da00002f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da00002f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da000030')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da000030')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da000030'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da000031')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da000031')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da000031'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da000032')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da000032')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da000032'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da000033')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da000033')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da000033'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49098665fc943da000034')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49098665fc943da000034')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49098665fc943da000034'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 05:50:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 05:50:16 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-29 21:50:16 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 18ms (Views: 17.0ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Completed   in 1ms
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 16ms (Views: 11.8ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1002
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1003
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1004
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.3ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1014
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (12.3ms)
Rendered pages/_form.html.haml (5.5ms)
Rendered sites/_form.html.haml (10.0ms)
Rendered sites/_form.html.haml (4.5ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000007')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb000007')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000007')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000009')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000b')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000c')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf496f5665fc944bb00000b')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00000c'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00000b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:17:25 UTC, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000d')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000d')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:97949390 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000d')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf496f5665fc944bb00000b')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00000d'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00000b'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 06:17:25 UTC, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000e')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000e')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:98002500 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000e')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf496f5665fc944bb00000b')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00000e'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00000b'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 06:17:25 UTC, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000d')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000e')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000c')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000d')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000e')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000c')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb00000b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb00000c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000c')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf496f5665fc944bb00000d')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf496f5665fc944bb00000e')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb00000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000d')}, :position=>{"$gt"=>1}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb00000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000e')}, :position=>{"$gt"=>2}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb00000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00000f')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000010')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000011')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb000010'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf496f5665fc944bb000010')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000010'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:17:25 UTC, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb000010')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000012')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000013')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb000012'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf496f5665fc944bb000012')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000013'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000012'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:17:25 UTC, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000013')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000014')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb000013'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf496f5665fc944bb000012'), BSON::ObjectId('4cf496f5665fc944bb000013')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000014'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000013'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:17:25 UTC, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000014')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000012')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb000013')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb000014')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000014')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000015')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000016')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb000015'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf496f5665fc944bb000015')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000015'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 06:17:25 UTC, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000017')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb000016'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf496f5665fc944bb000015'), BSON::ObjectId('4cf496f5665fc944bb000016')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000017'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000016'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 06:17:25 UTC, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000017')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb000015')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000016')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb000017')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000017')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000018')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000018')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000018')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb000018')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000018')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000019')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000019')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001a')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:93493990 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00001a'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001b')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb00001a'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001b')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf496f5665fc944bb00001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf496f5665fc944bb00001a')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00001b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001a'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 06:17:25 UTC, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00001b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001c')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb00001b'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf496f5665fc944bb00001a'), BSON::ObjectId('4cf496f5665fc944bb00001b')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00001c'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001b'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 06:17:25 UTC, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001b')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf496f5665fc944bb00001b')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf496f5665fc944bb00001a')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb000019')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000019')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb00001a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb00001b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb00001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001c')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001d')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001e')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb00001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf496f5665fc944bb00001d')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00001e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001d'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:17:25 UTC, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00001e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001f')}, :parent_id=>BSON::ObjectId('4cf496f5665fc944bb00001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb00001d')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf496f5665fc944bb00001e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf496f5665fc944bb00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00001e')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000027')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000027')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000027')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000027'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000028')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000028')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000028')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000028'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000029')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000029')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000029')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000029'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00002a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00002a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00002a')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00002a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00002b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00002b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00002b')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00002b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00002c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00002c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00002c')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00002c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00002d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00002d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00002d')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00002d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00002e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00002e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00002e')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00002e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00002f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb00002f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb00002f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb00002f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000030')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000030')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000030')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000030'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000031')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000031')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000031')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000031'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000032')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f5665fc944bb000032')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f5665fc944bb000032')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f5665fc944bb000032'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:25 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:25 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f6665fc944bb000033')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f6665fc944bb000033')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f6665fc944bb000033')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f6665fc944bb000033'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:26 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:id=>{"$ne"=>BSON::ObjectId('4cf496f6665fc944bb000034')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf496f6665fc944bb000034')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf496f6665fc944bb000034')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf496f6665fc944bb000034'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:17:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:17:26 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-29 22:17:26 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 18ms (Views: 16.9ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Completed   in 1ms
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 16ms (Views: 11.9ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1002
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1003
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1004
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.3ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 9ms (Views: 4.3ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1014
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (12.4ms)
Rendered pages/_form.html.haml (5.5ms)
Rendered sites/_form.html.haml (10.0ms)
Rendered sites/_form.html.haml (4.5ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000007')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a82665fc94556000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:34 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc94556000007')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000007')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000009')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a82665fc94556000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:34 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc94556000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000b')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a82665fc9455600000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:34 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000c')}, :parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49a82665fc9455600000b')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf49a82665fc9455600000c'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49a82665fc9455600000b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:32:34 UTC, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600000c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000d')}, :parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000d')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:90859430 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000d')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49a82665fc9455600000b')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf49a82665fc9455600000d'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49a82665fc9455600000b'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 06:32:34 UTC, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000e')}, :parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000e')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:90938020 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000e')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49a82665fc9455600000b')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf49a82665fc9455600000e'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49a82665fc9455600000b'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 06:32:34 UTC, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000d')}, :parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000e')}, :parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000c')}, :parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000d')}, :parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49a82665fc9455600000d')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000e')}, :parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49a82665fc9455600000e')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000c')}, :parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49a82665fc9455600000c')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc9455600000b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc9455600000c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000c')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc9455600000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49a82665fc9455600000e')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc9455600000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000e')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a82665fc9455600000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:34 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc9455600000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600000f')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000010')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a82665fc94556000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:34 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000011')}, :parent_id=>BSON::ObjectId('4cf49a82665fc94556000010'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49a82665fc94556000010')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49a82665fc94556000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49a82665fc94556000010'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:32:34 UTC, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc94556000010')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc94556000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000012')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a82665fc94556000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:34 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000013')}, :parent_id=>BSON::ObjectId('4cf49a82665fc94556000012'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49a82665fc94556000012')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49a82665fc94556000013'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49a82665fc94556000012'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:32:34 UTC, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000013')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000014')}, :parent_id=>BSON::ObjectId('4cf49a82665fc94556000013'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49a82665fc94556000012'), BSON::ObjectId('4cf49a82665fc94556000013')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49a82665fc94556000014'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49a82665fc94556000013'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:32:34 UTC, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000014')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc94556000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000012')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc94556000013')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc94556000014')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000014')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000015')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a82665fc94556000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:34 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000016')}, :parent_id=>BSON::ObjectId('4cf49a82665fc94556000015'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49a82665fc94556000015')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf49a82665fc94556000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49a82665fc94556000015'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 06:32:34 UTC, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000017')}, :parent_id=>BSON::ObjectId('4cf49a82665fc94556000016'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49a82665fc94556000015'), BSON::ObjectId('4cf49a82665fc94556000016')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf49a82665fc94556000017'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49a82665fc94556000016'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 06:32:34 UTC, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000017')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc94556000015')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc94556000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000016')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc94556000017')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc94556000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000017')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000018')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000018')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a82665fc94556000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:34 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000018')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc94556000018')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000018')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000019')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc94556000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000019')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a82665fc94556000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:34 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600001a')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:87720640 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf49a82665fc9455600001a'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 06:32:34 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600001a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600001b')}, :parent_id=>BSON::ObjectId('4cf49a82665fc9455600001a'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600001b')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49a82665fc9455600001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49a82665fc9455600001a')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf49a82665fc9455600001b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49a82665fc9455600001a'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 06:32:34 UTC, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600001b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600001c')}, :parent_id=>BSON::ObjectId('4cf49a82665fc9455600001b'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49a82665fc9455600001a'), BSON::ObjectId('4cf49a82665fc9455600001b')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf49a82665fc9455600001c'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49a82665fc9455600001b'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 06:32:34 UTC, "updated_at"=>2010-11-30 06:32:34 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a82665fc9455600001b')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49a82665fc9455600001b')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49a82665fc9455600001a')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc94556000019')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc94556000019')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc9455600001a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600001a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc9455600001b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a82665fc9455600001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a82665fc9455600001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a82665fc9455600001c')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600001d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc9455600001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600001d')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc9455600001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc9455600001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600001e')}, :parent_id=>BSON::ObjectId('4cf49a83665fc9455600001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc9455600001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a83665fc9455600001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49a83665fc9455600001d')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf49a83665fc9455600001e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49a83665fc9455600001d'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:32:35 UTC, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a83665fc9455600001e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc9455600001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600001f')}, :parent_id=>BSON::ObjectId('4cf49a83665fc9455600001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a83665fc9455600001d')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600001d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49a83665fc9455600001e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49a83665fc9455600001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600001e')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000027')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc94556000027')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000027')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc94556000027'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000028')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc94556000028')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000028')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc94556000028'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000029')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc94556000029')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000029')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc94556000029'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600002a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc9455600002a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600002a')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc9455600002a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600002b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc9455600002b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600002b')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc9455600002b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600002c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc9455600002c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600002c')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc9455600002c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600002d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc9455600002d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600002d')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc9455600002d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600002e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc9455600002e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600002e')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc9455600002e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600002f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc9455600002f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc9455600002f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc9455600002f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000030')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc94556000030')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000030')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc94556000030'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000031')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc94556000031')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000031')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc94556000031'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000032')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc94556000032')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000032')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc94556000032'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000033')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc94556000033')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000033')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc94556000033'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000034')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49a83665fc94556000034')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49a83665fc94556000034')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49a83665fc94556000034'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:32:35 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:32:35 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-29 22:32:35 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 18ms (Views: 17.0ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000001')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000001')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000001')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000001'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:33:45 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000001')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000001')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000003')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000003')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000003')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000003'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:33:45 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000003')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000003')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000005')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000005')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000005'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:33:45 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000006')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000006')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000006')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000006')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ac9665fc9457d000005')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000006'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000005'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:33:45 UTC, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000006')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000007')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000007')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:92836560 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000007')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000007')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ac9665fc9457d000005')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000007'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000005'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 06:33:45 UTC, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000007')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000008')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000008')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000008')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000008')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:92711340 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000008')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000008')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ac9665fc9457d000005')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000008'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000005'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 06:33:45 UTC, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000008')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000005')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000007')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000008')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000006')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000007')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49ac9665fc9457d000007')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000008')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49ac9665fc9457d000008')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000006')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49ac9665fc9457d000006')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000005')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000005')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000006')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000006')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000007')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000007')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49ac9665fc9457d000008')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000008')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000008')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000009')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:33:45 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000a')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:33:45 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000b')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000a'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ac9665fc9457d00000a')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000a'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:33:45 UTC, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d00000a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d00000b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000b')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000c')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:33:45 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000c')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000d')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000c'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ac9665fc9457d00000c')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000d'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000c'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:33:45 UTC, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000e')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000d'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ac9665fc9457d00000c'), BSON::ObjectId('4cf49ac9665fc9457d00000d')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000d'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:33:45 UTC, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d00000c')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000c')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d00000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d00000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000e')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:33:45 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000f')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000010')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000f'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000010')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ac9665fc9457d00000f')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000010'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000f'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 06:33:45 UTC, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000010')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000011')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000010'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ac9665fc9457d00000f'), BSON::ObjectId('4cf49ac9665fc9457d000010')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000010'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 06:33:45 UTC, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d00000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d00000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d00000f')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000010')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d00000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000012')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:33:45 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000012')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000013')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000013')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000013'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:33:45 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000014')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000014')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:83922300 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000014')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000014'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 06:33:45 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000014')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000015')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000014'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000015')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49ac9665fc9457d000014')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ac9665fc9457d000014')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000015'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000014'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 06:33:45 UTC, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000015')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000016')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000015'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ac9665fc9457d000014'), BSON::ObjectId('4cf49ac9665fc9457d000015')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000015'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 06:33:45 UTC, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000015')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000015')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000014')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000013')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000014')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000014')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000015')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000016')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000017')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000017')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000017'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:33:45 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000018')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000017'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000018')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ac9665fc9457d000017')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf49ac9665fc9457d000018'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000017'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:33:45 UTC, "updated_at"=>2010-11-30 06:33:45 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000018')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ac9665fc9457d000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000019')}, :parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000017'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000017')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000017')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49ac9665fc9457d000018')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ac9665fc9457d000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ac9665fc9457d000018')}, :position=>{"$gt"=>0}}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000001')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000001')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000001')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000001'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:34:46 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000001')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000001')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000003')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000003')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000003')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000003'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:34:46 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000003')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000003')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000005')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000005')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000005'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:34:46 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000006')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000006')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000006')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000006')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b06665fc945a9000005')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000006'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000005'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:34:46 UTC, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000006')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000007')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000007')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:86935140 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000007')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000007')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b06665fc945a9000005')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000007'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000005'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 06:34:46 UTC, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000007')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000008')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000008')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000008')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000008')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:86809950 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000008')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000008')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b06665fc945a9000005')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000008'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000005'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 06:34:46 UTC, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000008')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000005')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000007')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000008')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000006')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000007')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b06665fc945a9000007')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000008')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b06665fc945a9000008')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000006')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b06665fc945a9000006')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000005')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000005')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000006')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000006')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000007')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000007')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b06665fc945a9000008')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000008')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000008')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000009')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:34:46 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000a')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b06665fc945a900000a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:34:46 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000b')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a900000a'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a900000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b06665fc945a900000a')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49b06665fc945a900000b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000a'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:34:46 UTC, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a900000b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a900000a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a900000b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a900000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000b')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000c')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b06665fc945a900000c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:34:46 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000c')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000d')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a900000c'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a900000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b06665fc945a900000c')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49b06665fc945a900000d'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000c'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:34:46 UTC, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a900000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000e')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a900000d'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a900000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b06665fc945a900000c'), BSON::ObjectId('4cf49b06665fc945a900000d')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49b06665fc945a900000e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000d'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:34:46 UTC, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a900000e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a900000c')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000c')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a900000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a900000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a900000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a900000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000e')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b06665fc945a900000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:34:46 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000f')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000010')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a900000f'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a900000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000010')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b06665fc945a900000f')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000010'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000f'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 06:34:46 UTC, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000010')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000011')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000010'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b06665fc945a900000f'), BSON::ObjectId('4cf49b06665fc945a9000010')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000010'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 06:34:46 UTC, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a900000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900000f')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000010')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a900000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000012')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:34:46 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000012')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000013')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000013')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000013'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:34:46 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000014')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000014')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:78031950 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000014')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000014'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 06:34:46 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000014')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000015')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000014'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000015')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b06665fc945a9000014')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b06665fc945a9000014')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000015'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000014'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 06:34:46 UTC, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000015')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000016')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000015'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b06665fc945a9000014'), BSON::ObjectId('4cf49b06665fc945a9000015')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000015'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 06:34:46 UTC, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000015')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49b06665fc945a9000015')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49b06665fc945a9000014')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000013')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000014')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000014')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000015')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000016')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000017')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000017')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000017'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:34:46 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000018')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000017'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000018')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b06665fc945a9000017')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf49b06665fc945a9000018'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000017'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:34:46 UTC, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000018')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000019')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000017'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900001a')}, :parent_id=>BSON::ObjectId('4cf49b06665fc945a9000017'), :path_fragment=>"niceface55"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b06665fc945a900001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:75644210 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900001a')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b06665fc945a9000017')], "name"=>"NiceFace55", "_id"=>BSON::ObjectId('4cf49b06665fc945a900001a'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b06665fc945a9000017'), "path_fragment"=>"niceface55", "created_at"=>2010-11-30 06:34:46 UTC, "updated_at"=>2010-11-30 06:34:46 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a900001a')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000017')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000017')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a9000018')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a9000018')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b06665fc945a900001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b06665fc945a900001a')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b06665fc945a9000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b06665fc945a900001a')}, :position=>{"$gt"=>1}}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000001')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000001')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000001')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000001'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:31 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000001')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000001')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000003')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000003')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000003')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000003'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:31 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000003')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000003')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000005')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000005')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000005'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:31 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000006')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000006')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000006')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000006')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b6f665fc945f6000005')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000006'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000005'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:36:31 UTC, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000006')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000007')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000007')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:95243530 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000007')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000007')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b6f665fc945f6000005')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000007'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000005'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 06:36:31 UTC, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000007')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000008')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000008')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000008')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000008')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:95118090 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000008')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000008')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b6f665fc945f6000005')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000008'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000005'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 06:36:31 UTC, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000008')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000005')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000007')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000008')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000006')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000007')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b6f665fc945f6000007')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000008')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b6f665fc945f6000008')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000006')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b6f665fc945f6000006')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000005')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000005')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000006')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000006')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000007')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000007')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b6f665fc945f6000008')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000008')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000008')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000009')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:31 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000a')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b6f665fc945f600000a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:31 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000b')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000a'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b6f665fc945f600000a')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49b6f665fc945f600000b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000a'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:36:31 UTC, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f600000a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f600000b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000b')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000c')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b6f665fc945f600000c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:31 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000c')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000d')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000c'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b6f665fc945f600000c')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49b6f665fc945f600000d'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000c'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:36:31 UTC, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000e')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000d'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b6f665fc945f600000c'), BSON::ObjectId('4cf49b6f665fc945f600000d')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49b6f665fc945f600000e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000d'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:36:31 UTC, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f600000c')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000c')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f600000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f600000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000e')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b6f665fc945f600000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:31 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000f')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000010')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000f'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000010')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b6f665fc945f600000f')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000010'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000f'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 06:36:31 UTC, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000010')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000011')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000010'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b6f665fc945f600000f'), BSON::ObjectId('4cf49b6f665fc945f6000010')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000010'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 06:36:31 UTC, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f600000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600000f')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000010')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000012')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:31 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000012')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000013')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000013')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000013'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:31 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000014')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000014')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:86303560 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000014')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000014'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 06:36:31 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000014')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000015')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000014'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000015')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b6f665fc945f6000014')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b6f665fc945f6000014')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000015'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000014'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 06:36:31 UTC, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000015')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000016')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000015'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b6f665fc945f6000014'), BSON::ObjectId('4cf49b6f665fc945f6000015')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000015'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 06:36:31 UTC, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000015')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000015')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000014')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000013')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000014')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000014')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000015')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000016')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000017')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000017')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000017'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:31 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000018')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000017'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000018')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b6f665fc945f6000017')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf49b6f665fc945f6000018'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000017'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:36:31 UTC, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000018')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000019')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000017'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600001a')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000017'), :path_fragment=>"niceface55"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:83926830 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600001a')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b6f665fc945f6000017')], "name"=>"NiceFace55", "_id"=>BSON::ObjectId('4cf49b6f665fc945f600001a'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b6f665fc945f6000017'), "path_fragment"=>"niceface55", "created_at"=>2010-11-30 06:36:31 UTC, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600001a')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000017')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000017')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f6000018')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f6000018')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b6f665fc945f600001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f600001a')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f6000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600001a')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600001b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600001b')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b6f665fc945f600001b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:31 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600001c')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f600001b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b6f665fc945f600001b')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf49b6f665fc945f600001c'), "_type"=>"Site", "parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600001b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:36:31 UTC, "updated_at"=>2010-11-30 06:36:31 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b6f665fc945f600001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600001d')}, :parent_id=>BSON::ObjectId('4cf49b6f665fc945f600001b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f600001b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b6f665fc945f600001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b6f665fc945f600001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b6f665fc945f600001c')}, :position=>{"$gt"=>0}}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Completed   in 1ms
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 16ms (Views: 12.0ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1002
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1003
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1004
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.2ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1014
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (12.2ms)
Rendered pages/_form.html.haml (5.5ms)
Rendered sites/_form.html.haml (9.9ms)
Rendered sites/_form.html.haml (4.5ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000007')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:49 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000007')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000007')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000009')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:49 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000b')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b81665fc9461d00000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:49 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000c')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b81665fc9461d00000b')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf49b81665fc9461d00000c'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00000b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:36:49 UTC, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000d')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000d')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:92763710 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000d')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b81665fc9461d00000b')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf49b81665fc9461d00000d'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00000b'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 06:36:49 UTC, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000e')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000e')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:92816700 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000e')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b81665fc9461d00000b')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf49b81665fc9461d00000e'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00000b'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 06:36:49 UTC, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000d')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000e')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000c')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000d')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b81665fc9461d00000d')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000e')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b81665fc9461d00000e')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000c')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b81665fc9461d00000c')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d00000b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d00000c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000c')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d00000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b81665fc9461d00000e')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d00000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000e')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b81665fc9461d00000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:49 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d00000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00000f')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000010')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:49 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000011')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d000010'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b81665fc9461d000010')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000010'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:36:49 UTC, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000010')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000012')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:49 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000013')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d000012'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b81665fc9461d000012')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000013'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000012'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:36:49 UTC, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000013')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000014')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d000013'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b81665fc9461d000012'), BSON::ObjectId('4cf49b81665fc9461d000013')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000014'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000013'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:36:49 UTC, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000014')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000012')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000013')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000014')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000014')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000015')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:49 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000016')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d000015'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b81665fc9461d000015')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000015'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 06:36:49 UTC, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000017')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d000016'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b81665fc9461d000015'), BSON::ObjectId('4cf49b81665fc9461d000016')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000017'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000016'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 06:36:49 UTC, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000017')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000015')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000016')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000017')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000017')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000018')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000018')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:49 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000018')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000018')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000018')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000019')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000019')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:49 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001a')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:89589650 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf49b81665fc9461d00001a'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 06:36:49 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001b')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001a'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001b')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b81665fc9461d00001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b81665fc9461d00001a')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf49b81665fc9461d00001b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001a'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 06:36:49 UTC, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001c')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001b'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b81665fc9461d00001a'), BSON::ObjectId('4cf49b81665fc9461d00001b')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf49b81665fc9461d00001c'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001b'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 06:36:49 UTC, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001b')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49b81665fc9461d00001b')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49b81665fc9461d00001a')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000019')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000019')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d00001a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d00001b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d00001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001c')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001d')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b81665fc9461d00001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:49 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001e')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b81665fc9461d00001d')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf49b81665fc9461d00001e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001d'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:36:49 UTC, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001f')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000020')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001d'), :path_fragment=>"niceface55"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000020')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000020')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000020')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:88086340 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000020')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000020')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b81665fc9461d00001d')], "name"=>"NiceFace55", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000020'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b81665fc9461d00001d'), "path_fragment"=>"niceface55", "created_at"=>2010-11-30 06:36:49 UTC, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000020')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d00001d')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d00001e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d00001e')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b81665fc9461d000020')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000020')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000020')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000021')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000021')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000021'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:49 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000022')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000022')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b81665fc9461d000021')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf49b81665fc9461d000022'), "_type"=>"Site", "parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000021'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:36:49 UTC, "updated_at"=>2010-11-30 06:36:49 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000022')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b81665fc9461d000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000023')}, :parent_id=>BSON::ObjectId('4cf49b81665fc9461d000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000021')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000021')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b81665fc9461d000022')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b81665fc9461d000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b81665fc9461d000022')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d00002b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b82665fc9461d00002b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d00002b')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b82665fc9461d00002b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:50 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d00002c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b82665fc9461d00002c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d00002c')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b82665fc9461d00002c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:50 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d00002d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b82665fc9461d00002d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d00002d')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b82665fc9461d00002d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:50 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d00002e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b82665fc9461d00002e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d00002e')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b82665fc9461d00002e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:50 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d00002f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b82665fc9461d00002f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d00002f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b82665fc9461d00002f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:50 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000030')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b82665fc9461d000030')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000030')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b82665fc9461d000030'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:50 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000031')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b82665fc9461d000031')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000031')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b82665fc9461d000031'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:50 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000032')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b82665fc9461d000032')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000032')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b82665fc9461d000032'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:50 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000033')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b82665fc9461d000033')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000033')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b82665fc9461d000033'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:50 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000034')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b82665fc9461d000034')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000034')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b82665fc9461d000034'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:50 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000035')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b82665fc9461d000035')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000035')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b82665fc9461d000035'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:50 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000036')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b82665fc9461d000036')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000036')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b82665fc9461d000036'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:50 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000037')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b82665fc9461d000037')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000037')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b82665fc9461d000037'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:50 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000038')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b82665fc9461d000038')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b82665fc9461d000038')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b82665fc9461d000038'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:36:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:36:50 UTC, "position"=>0}])
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-29 22:36:50 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 18ms (Views: 16.9ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9d665fc94647000001')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9d665fc94647000001')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9d665fc94647000001')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b9d665fc94647000001'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:37:17 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:37:17 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9d665fc94647000001')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9d665fc94647000001')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9d665fc94647000003')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9d665fc94647000003')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9d665fc94647000003')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b9d665fc94647000003'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:37:17 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:37:17 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9d665fc94647000003')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9d665fc94647000003')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000005')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000005')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b9e665fc94647000005'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:37:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000006')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000006')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000006')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000006')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b9e665fc94647000005')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf49b9e665fc94647000006'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000005'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:37:18 UTC, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000006')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000007')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000007')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:87543490 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000007')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000007')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b9e665fc94647000005')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf49b9e665fc94647000007'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000005'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 06:37:18 UTC, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000007')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000008')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000008')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000008')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000008')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:87417760 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000008')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000008')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b9e665fc94647000005')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf49b9e665fc94647000008'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000005'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 06:37:18 UTC, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000008')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000005')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000007')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000008')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000006')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000007')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b9e665fc94647000007')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000008')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b9e665fc94647000008')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000006')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b9e665fc94647000006')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000005')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc94647000005')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000005')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc94647000006')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000006')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc94647000007')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000007')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b9e665fc94647000008')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc94647000008')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000005'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000008')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000009')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b9e665fc94647000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:37:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc94647000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000a')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b9e665fc9464700000a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:37:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000b')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000a'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b9e665fc9464700000a')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49b9e665fc9464700000b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000a'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:37:18 UTC, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc9464700000a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc9464700000b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000b')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000c')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b9e665fc9464700000c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:37:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000c')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000d')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000c'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b9e665fc9464700000c')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49b9e665fc9464700000d'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000c'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:37:18 UTC, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000e')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000d'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b9e665fc9464700000c'), BSON::ObjectId('4cf49b9e665fc9464700000d')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49b9e665fc9464700000e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000d'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:37:18 UTC, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc9464700000c')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000c')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc9464700000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000c'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc9464700000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000e')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000f')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b9e665fc9464700000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:37:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000f')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000010')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000f'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000010')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b9e665fc9464700000f')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf49b9e665fc94647000010'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000f'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 06:37:18 UTC, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000010')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000011')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000010'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b9e665fc9464700000f'), BSON::ObjectId('4cf49b9e665fc94647000010')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf49b9e665fc94647000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000010'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 06:37:18 UTC, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc9464700000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700000f')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc94647000010')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700000f'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc94647000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000012')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b9e665fc94647000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:37:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc94647000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000012')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000013')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000013')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b9e665fc94647000013'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:37:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000014')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000014')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:78557300 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000014')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf49b9e665fc94647000014'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 06:37:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000014')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000015')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000014'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000015')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b9e665fc94647000014')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b9e665fc94647000014')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf49b9e665fc94647000015'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000014'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 06:37:18 UTC, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000015')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000016')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000015'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b9e665fc94647000014'), BSON::ObjectId('4cf49b9e665fc94647000015')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf49b9e665fc94647000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000015'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 06:37:18 UTC, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000014')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000015')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49b9e665fc94647000015')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49b9e665fc94647000014')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc94647000013')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc94647000014')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000014')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc94647000015')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc94647000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000016')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000017')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000017')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b9e665fc94647000017'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:37:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000018')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000017'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000018')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b9e665fc94647000017')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf49b9e665fc94647000018'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000017'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:37:18 UTC, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000018')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000019')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000017'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000017')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700001a')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc94647000017'), :path_fragment=>"niceface55"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:76216650 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700001a')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b9e665fc94647000017')], "name"=>"NiceFace55", "_id"=>BSON::ObjectId('4cf49b9e665fc9464700001a'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49b9e665fc94647000017'), "path_fragment"=>"niceface55", "created_at"=>2010-11-30 06:37:18 UTC, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700001a')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc94647000017')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000017')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc94647000018')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc94647000018')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49b9e665fc9464700001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc9464700001a')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc94647000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700001a')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700001b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700001b')}}, {:_id=>1}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49b9e665fc9464700001b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:37:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700001c')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc9464700001b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49b9e665fc9464700001b')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf49b9e665fc9464700001c'), "_type"=>"Site", "parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700001b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:37:18 UTC, "updated_at"=>2010-11-30 06:37:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49b9e665fc9464700001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700001d')}, :parent_id=>BSON::ObjectId('4cf49b9e665fc9464700001b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc9464700001b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49b9e665fc9464700001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49b9e665fc9464700001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49b9e665fc9464700001c')}, :position=>{"$gt"=>0}}, {})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Completed   in 1ms
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#new as HTML
Completed 200 OK in 15ms (Views: 11.9ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
Redirected to http://test.host/pages/1002
Completed 302 Found in 12ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
Redirected to http://test.host/pages/1003
Completed 302 Found in 5ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
Redirected to http://test.host/pages/1004
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed 200 OK in 10ms (Views: 7.2ms)
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1013
Completed 302 Found in 9ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1014
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1015
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (12.4ms)
Rendered pages/_form.html.haml (5.6ms)
Rendered sites/_form.html.haml (10.0ms)
Rendered sites/_form.html.haml (4.5ms)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-29 22:53:08 -0800
  Processing by PagesController#index as HTML
Completed 200 OK in 17ms (Views: 16.1ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Completed   in 1ms
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 16ms (Views: 11.9ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1002
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1003
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1004
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.2ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 9ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1014
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 64ms (Views: 60.3ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (12.4ms)
Rendered pages/_form.html.haml (5.5ms)
Rendered sites/_form.html.haml (10.0ms)
Rendered sites/_form.html.haml (4.4ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a000007'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fe9665fc9477a000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:37 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:37 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fe9665fc9477a000007')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a000007')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a000009')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a000009'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fe9665fc9477a000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:37 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:37 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fe9665fc9477a000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:37 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:37 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000c')}, :parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fe9665fc9477a00000b')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000c'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:55:37 UTC, "updated_at"=>2010-11-30 06:55:37 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000d')}, :parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000d')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:94214420 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000d')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fe9665fc9477a00000b')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000d'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 06:55:37 UTC, "updated_at"=>2010-11-30 06:55:37 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00000e')}, :parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00000e')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:94267790 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00000e')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fe9665fc9477a00000b')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf49fea665fc9477a00000e'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000b')}, {"$set"=>{"updated_at"=>2010-11-30 06:55:38 UTC}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000d')}, :parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000d')}, {"$set"=>{"updated_at"=>2010-11-30 06:55:38 UTC}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00000e')}, :parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000c')}, :parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000c')}, {"$set"=>{"updated_at"=>2010-11-30 06:55:38 UTC}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000d')}, :parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000d')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00000e')}, :parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49fea665fc9477a00000e')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000c')}, :parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000c')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fe9665fc9477a00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fe9665fc9477a00000c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000c')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fe9665fc9477a00000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fe9665fc9477a00000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49fea665fc9477a00000e')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a00000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fe9665fc9477a00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00000e')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00000f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00000f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fea665fc9477a00000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:38 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a00000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00000f')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000010'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:38 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000011')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a000010'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a000010')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000010'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a000010')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000012')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000012'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:38 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000013')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a000012'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a000012')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000013'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000012'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000013')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000014')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a000013'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a000012'), BSON::ObjectId('4cf49fea665fc9477a000013')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000014'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000013'), "path_fragment"=>"cool", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000014')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000012')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a000013')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a000014')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000014')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000015'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:38 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000016')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a000015'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a000015')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000015'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000017')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a000016'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a000015'), BSON::ObjectId('4cf49fea665fc9477a000016')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000017'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000016'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000017')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a000015')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000016')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a000017')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000017')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000018')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000018'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:38 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000018')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a000018')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000018')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000019')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000019')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000019'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:38 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001a')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:94080940 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf49fea665fc9477a00001a'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 06:55:38 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001b')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001a'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001b')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49fea665fc9477a00001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a00001a')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf49fea665fc9477a00001b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001a'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001c')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001b'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a00001a'), BSON::ObjectId('4cf49fea665fc9477a00001b')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf49fea665fc9477a00001c'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001b'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001b')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49fea665fc9477a00001b')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf49fea665fc9477a00001a')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a000019')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000019')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a00001a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a00001b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a00001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001c')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fea665fc9477a00001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:38 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001e')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a00001d')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf49fea665fc9477a00001e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001d'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001f')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000020')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001d'), :path_fragment=>"niceface55"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000020')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000020')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000020')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:89745160 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000020')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000020')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a00001d')], "name"=>"NiceFace55", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000020'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00001d'), "path_fragment"=>"niceface55", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000020')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a00001d')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a00001e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00001e')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49fea665fc9477a000020')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a000020')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000020')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000021')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000021')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000021'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000021'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:38 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000022')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000022')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000022'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a000021')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000022'), "_type"=>"Site", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000021'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000022')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000023')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a000021')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000021')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf49fea665fc9477a000022')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000022')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00002b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00002b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00002b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00002b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fea665fc9477a00002b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:38 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00002b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00002c')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a00002b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00002c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00002b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00002c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00002c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a00002b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$QpesEnRUldVri4UIRddi1u0eA3OimumumYUN1pr4s7FyUFTacFngy", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49fea665fc9477a00002c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00002b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00002c')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00002e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00002e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00002e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00002e'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fea665fc9477a00002e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:38 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00002e'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00002f')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a00002e'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00002f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00002e'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00002f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a00002f')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a00002e')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$cTag3ZAW1uMcPh90z35kiesG2rLsV6/LSQxDnRwx2Lp.7e574M8We", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49fea665fc9477a00002f'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a00002e'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a00002f')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000030')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000030')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000030')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000030'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000030'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:38 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000030'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000031')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a000030'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000031')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000030'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000031')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000031')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a000030')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$dfX9snr98vj.8hSjzcbYV.kpD8gJokZNWtlJ9.LFizMi/QHvc4VWe", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000031'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000030'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000031')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000032')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000032')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000032')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000032'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000032'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:38 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000032'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000033')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a000032'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000033')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000032'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000033')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000033')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a000032')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$mk4U6gf5nG7YkfpxOQvTcOFE.QJwsQEsYUYBuFB25.EiTiiQIpRdK", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000033'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000032'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:38 UTC, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000033')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000034')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000034')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fea665fc9477a000034')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000034'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fea665fc9477a000034'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:38 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:38 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000034'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000035')}, :parent_id=>BSON::ObjectId('4cf49fea665fc9477a000034'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000035')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fea665fc9477a000034'), :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000035')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000035')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fea665fc9477a000034')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$wjip0M6NjBN.2DcepDiA8eqd.EAd84Vzg6jJblw8PV2QnmsiaT6E2", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49feb665fc9477a000035'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49fea665fc9477a000034'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:39 UTC, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a000035')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000037')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000037')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000037')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000037'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49feb665fc9477a000037'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:39 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000037'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000038')}, :parent_id=>BSON::ObjectId('4cf49feb665fc9477a000037'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000038')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a000037'), :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000038')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000038')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49feb665fc9477a000037')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6DUKa1gUG2Xm82DqtQ2yD.ynz3DPoNdDOAYXLCq.GfAox6gBOYDJm", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49feb665fc9477a000038'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000037'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:39 UTC, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a000038')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a00003a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a00003a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003a'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49feb665fc9477a00003a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:39 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003a'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a00003b')}, :parent_id=>BSON::ObjectId('4cf49feb665fc9477a00003a'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a00003a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a00003b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a00003b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49feb665fc9477a00003a')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6EhbakOrkhdiXi7TI9HavOlgbUGBXp7v6Fcsw5JKHLUa3Ty53AHSi", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49feb665fc9477a00003b'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003a'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:39 UTC, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a00003b')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a00003c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a00003c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003c'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49feb665fc9477a00003c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:39 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003c'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a00003d')}, :parent_id=>BSON::ObjectId('4cf49feb665fc9477a00003c'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a00003c'), :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a00003d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a00003d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49feb665fc9477a00003c')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$GPgHC9amLSGYzYvkbLr8PeJKyH5flCx/keuO0J3WYtVseGGsQ6mD.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49feb665fc9477a00003d'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003c'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:39 UTC, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a00003d')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf49feb665fc9477a00003c')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003c'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf49feb665fc9477a00003e')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a00003f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a00003f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49feb665fc9477a00003f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:39 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003f'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000040')}, :parent_id=>BSON::ObjectId('4cf49feb665fc9477a00003f'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000040')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a00003f'), :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000040')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000040')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49feb665fc9477a00003f')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$PVfGWw9aAK1ObGeYNtKkS.xD0nx0D5Tae4ZLwCvS2EgyMgzJicCsK", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49feb665fc9477a000040'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49feb665fc9477a00003f'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:39 UTC, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a000040')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000041')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000041')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000041')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000041'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49feb665fc9477a000041'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:39 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000041'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000042')}, :parent_id=>BSON::ObjectId('4cf49feb665fc9477a000041'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000042')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a000041'), :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000042')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000042')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49feb665fc9477a000041')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$XOEmHexLgvIOLJGuXWq2fewgDqG3ueBsNj3z8QEXS8jEY.XwKOGke", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49feb665fc9477a000042'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000041'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:39 UTC, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a000042')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf49feb665fc9477a000041')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000041'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf49feb665fc9477a000043')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000044')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000044')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000044')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000044'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49feb665fc9477a000044'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:39 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000044'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000045')}, :parent_id=>BSON::ObjectId('4cf49feb665fc9477a000044'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000045')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a000044'), :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000045')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000045')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49feb665fc9477a000044')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$fODWxjtsDeL0.r4touFjtuSLgbmXA0MgAUTJgNw6Wp8hzEGs4aPX2", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49feb665fc9477a000045'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000044'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:39 UTC, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a000045')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000046')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000046')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000046')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000046'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49feb665fc9477a000046'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:39 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000046'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000047')}, :parent_id=>BSON::ObjectId('4cf49feb665fc9477a000046'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000047')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a000046'), :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000047')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000047')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49feb665fc9477a000046')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$c1r8l.FMlYPod3N9pgOCdORUoo0OuUdmffRtrbR8h2crV/xbn4gmC", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49feb665fc9477a000047'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000046'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:39 UTC, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a000047')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000048')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000048')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49feb665fc9477a000048')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000048'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49feb665fc9477a000048'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:39 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:39 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000048'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fec665fc9477a000049')}, :parent_id=>BSON::ObjectId('4cf49feb665fc9477a000048'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fec665fc9477a000049')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49feb665fc9477a000048'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fec665fc9477a000049')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fec665fc9477a000049')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49feb665fc9477a000048')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$uZ16Fq.oaZbcioV8X2SaSeGdZXR/58QN2BIRtpSh4UCXxLEkaPRhy", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49fec665fc9477a000049'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49feb665fc9477a000048'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:40 UTC, "updated_at"=>2010-11-30 06:55:40 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fec665fc9477a000049')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49fec665fc9477a000049')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf49fec665fc9477a00004a')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fec665fc9477a00004b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fec665fc9477a00004b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49fec665fc9477a00004b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fec665fc9477a00004b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49fec665fc9477a00004b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:40 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:40 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fec665fc9477a00004b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49fec665fc9477a00004c')}, :parent_id=>BSON::ObjectId('4cf49fec665fc9477a00004b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49fec665fc9477a00004c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fec665fc9477a00004b'), :_id=>{"$ne"=>BSON::ObjectId('4cf49fec665fc9477a00004c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49fec665fc9477a00004c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49fec665fc9477a00004b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ajUecFY3DNKAqK7x83sRBuLn0jSpTzqa.jjGqpkGpd9btvY9bwcf2", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49fec665fc9477a00004c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49fec665fc9477a00004b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:40 UTC, "updated_at"=>2010-11-30 06:55:40 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49fec665fc9477a00004c')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49fec665fc9477a00004c')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf49fec665fc9477a00004d')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-29 22:55:40 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 19ms (Views: 17.0ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffc665fc947ac000001')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffc665fc947ac000001')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffc665fc947ac000001')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffc665fc947ac000001'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ffc665fc947ac000001'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:56 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:56 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffc665fc947ac000001'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000002')}, :parent_id=>BSON::ObjectId('4cf49ffc665fc947ac000001'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000002')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffc665fc947ac000001'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000002')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000002')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ffc665fc947ac000001')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$wAeFKSbIgiUoQWFxdDaca.eVoHrNRb/aZTfeBFSEA7FKGJqDtN0i.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac000002'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49ffc665fc947ac000001'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:57 UTC, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000002')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000004')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000004')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000004')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000004'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac000004'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000004'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000005')}, :parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000004'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000004'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000005')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000005')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ffd665fc947ac000004')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$UJegxKj8LW/pRK4hMpN/m.BDNqinTV2EJdit.38RXOSO4jEMDzP1G", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac000005'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000004'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:57 UTC, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000005')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000006')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000006')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000006')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000006'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac000006'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000006'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000007')}, :parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000006'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000006'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000007')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ffd665fc947ac000006')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6kOVpq9IPng5ZvcAmrsgfO5oOOPg7j5dN8kmFNHZuiBpYE1p6ItRG", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac000007'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000006'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:57 UTC, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000007')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000008')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000008')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000008')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000008'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac000008'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000008'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000009')}, :parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000008'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000008'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000009')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000009')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ffd665fc947ac000008')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$loYs8lPBifhBS8j6wU2H.OmyNx4OBA5RnrBUXEXNY/PAj.HWRi6ta", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac000009'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000008'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:57 UTC, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000009')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac00000a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac00000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac00000a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac00000a'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac00000a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac00000a'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac00000b')}, :parent_id=>BSON::ObjectId('4cf49ffd665fc947ac00000a'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac00000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac00000a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac00000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac00000b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ffd665fc947ac00000a')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$mevY/P4.UZhxEIUo0asNw.CzJOZMHKeQb3gaqvic1/a77fh2z1HTa", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac00000b'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac00000a'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:57 UTC, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac00000b')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac00000d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac00000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac00000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac00000d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac00000d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac00000d'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac00000e')}, :parent_id=>BSON::ObjectId('4cf49ffd665fc947ac00000d'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac00000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac00000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac00000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac00000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ffd665fc947ac00000d')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$cEhsCX7YtgjUbNHw5bqKS.k8.nwgi4dloIn.sSoGeXoauj.45SYTG", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac00000e'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac00000d'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:57 UTC, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac00000e')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000010'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000010'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000011')}, :parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000010'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ffd665fc947ac000010')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$RcQ8t36Uk.MdaQ1Euj.WfecIWDw1OqjdlotA9zmzYXaKAmoSZmvZq", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac000011'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000010'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:57 UTC, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000011')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000012')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000012'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000012'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000013')}, :parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000012'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ffd665fc947ac000012')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6oZGmGa1f6RT2mMWAsLX5.t9h29no7.Xp4vmfQaC5kYYwVxtGfj9O", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac000013'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000012'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:57 UTC, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000013')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf49ffd665fc947ac000012')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000012'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf49ffd665fc947ac000014')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffd665fc947ac000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000015'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ffd665fc947ac000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000015'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac000016')}, :parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000015'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffd665fc947ac000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ffd665fc947ac000015')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$8mT.nBo/4MtYkvtcXQ38vuDeFoN7xy9nm0TGE2omGomwdT.tWSm4S", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49ffe665fc947ac000016'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49ffd665fc947ac000015'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:58 UTC, "updated_at"=>2010-11-30 06:55:58 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffe665fc947ac000016')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac000017')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac000017'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ffe665fc947ac000017'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:58 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:58 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac000017'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac000018')}, :parent_id=>BSON::ObjectId('4cf49ffe665fc947ac000017'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffe665fc947ac000017'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac000018')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ffe665fc947ac000017')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$cUicBH5wSO4CUPOrxq6Ik.Hn3jEu9ZKN6byTbEaLz5txvpbO7jz.e", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49ffe665fc947ac000018'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac000017'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:58 UTC, "updated_at"=>2010-11-30 06:55:58 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffe665fc947ac000018')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf49ffe665fc947ac000017')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac000017'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf49ffe665fc947ac000019')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001a'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:58 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:58 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001a'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001b')}, :parent_id=>BSON::ObjectId('4cf49ffe665fc947ac00001a'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffe665fc947ac00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ffe665fc947ac00001a')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$qm3yjqD/nfN7YL10byn45uyjqjPZ1HS98wumXW.H0/91GlnqNq5Gi", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001b'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001a'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:58 UTC, "updated_at"=>2010-11-30 06:55:58 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffe665fc947ac00001b')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001c'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:58 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:58 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001c'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001d')}, :parent_id=>BSON::ObjectId('4cf49ffe665fc947ac00001c'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffe665fc947ac00001c'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ffe665fc947ac00001c')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ebN90nl1TXeDqcoGvk7q9Oucx47V.rX2MLZC7uEj8hhdD69hOF2y6", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001d'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001c'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:58 UTC, "updated_at"=>2010-11-30 06:55:58 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffe665fc947ac00001d')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001e'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:58 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:58 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001e'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001f')}, :parent_id=>BSON::ObjectId('4cf49ffe665fc947ac00001e'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffe665fc947ac00001e'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac00001f')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ffe665fc947ac00001e')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$pF.Jtfbcdj/NWQWDp92/IuezgP8UHbjg6Oz0.pLMWcdVpKixhwyV.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001f'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001e'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:58 UTC, "updated_at"=>2010-11-30 06:55:58 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffe665fc947ac00001f')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49ffe665fc947ac00001f')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf49ffe665fc947ac000020')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac000021')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac000021')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac000021'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf49ffe665fc947ac000021'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 06:55:58 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 06:55:58 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac000021'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac000022')}, :parent_id=>BSON::ObjectId('4cf49ffe665fc947ac000021'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffe665fc947ac000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf49ffe665fc947ac000022')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf49ffe665fc947ac000021')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$a4LMM7Hyef/36NMAnrH7p..RP6mZLoiXBZLNmN/Ih6YkLl4n1NSAe", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf49ffe665fc947ac000022'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf49ffe665fc947ac000021'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 06:55:58 UTC, "updated_at"=>2010-11-30 06:55:58 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf49ffe665fc947ac000022')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf49ffe665fc947ac000022')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf49ffe665fc947ac000023')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Completed   in 1ms
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 195ms (Views: 53.2ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1002
Completed 302 Found in 95ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1003
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1004
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 19ms (Views: 14.8ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 15ms (Views: 10.3ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1014
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 64ms (Views: 60.7ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (12.5ms)
Rendered pages/_form.html.haml (5.6ms)
Rendered sites/_form.html.haml (10.0ms)
Rendered sites/_form.html.haml (4.5ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000007'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55529665fc90bbc000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc000007')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000007')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000009')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000009'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55529665fc90bbc000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55529665fc90bbc00000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000c')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55529665fc90bbc00000b')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf55529665fc90bbc00000c'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00000b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 19:48:57 UTC, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000d')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000d')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:105117580 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000d')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55529665fc90bbc00000b')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf55529665fc90bbc00000d'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00000b'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 19:48:57 UTC, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000e')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000e')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:105171000 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000e')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55529665fc90bbc00000b')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf55529665fc90bbc00000e'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00000b'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 19:48:57 UTC, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000d')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000e')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000c')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000d')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf55529665fc90bbc00000d')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000e')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf55529665fc90bbc00000e')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000c')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf55529665fc90bbc00000c')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc00000b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc00000c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000c')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc00000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf55529665fc90bbc00000e')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc00000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000e')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00000f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55529665fc90bbc00000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc00000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00000f')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000010'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55529665fc90bbc000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000011')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc000010'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55529665fc90bbc000010')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf55529665fc90bbc000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000010'), "path_fragment"=>"cool", "created_at"=>2010-11-30 19:48:57 UTC, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc000010')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000012')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000012'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55529665fc90bbc000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000013')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc000012'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55529665fc90bbc000012')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf55529665fc90bbc000013'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000012'), "path_fragment"=>"cool", "created_at"=>2010-11-30 19:48:57 UTC, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000013')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000014')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc000013'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55529665fc90bbc000012'), BSON::ObjectId('4cf55529665fc90bbc000013')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf55529665fc90bbc000014'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000013'), "path_fragment"=>"cool", "created_at"=>2010-11-30 19:48:57 UTC, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000014')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000012')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc000013')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc000014')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000014')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000015'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55529665fc90bbc000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000016')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc000015'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55529665fc90bbc000015')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf55529665fc90bbc000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000015'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 19:48:57 UTC, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000017')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc000016'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55529665fc90bbc000015'), BSON::ObjectId('4cf55529665fc90bbc000016')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf55529665fc90bbc000017'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000016'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 19:48:57 UTC, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000017')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc000015')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000016')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc000017')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000017')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000018')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000018'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55529665fc90bbc000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000018')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc000018')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000018')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000019')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000019')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000019'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55529665fc90bbc000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001a')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:104987250 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf55529665fc90bbc00001a'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 19:48:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001b')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001a'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001b')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf55529665fc90bbc00001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55529665fc90bbc00001a')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf55529665fc90bbc00001b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001a'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 19:48:57 UTC, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001c')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001b'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55529665fc90bbc00001a'), BSON::ObjectId('4cf55529665fc90bbc00001b')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf55529665fc90bbc00001c'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001b'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 19:48:57 UTC, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001b')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf55529665fc90bbc00001b')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf55529665fc90bbc00001a')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc000019')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000019')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc00001a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc00001b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc00001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001c')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55529665fc90bbc00001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:57 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001e')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55529665fc90bbc00001d')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf55529665fc90bbc00001e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001d'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 19:48:57 UTC, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001f')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000020')}, :parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001d'), :path_fragment=>"niceface55"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55529665fc90bbc000020')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000020')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000020')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:100687270 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000020')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000020')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55529665fc90bbc00001d')], "name"=>"NiceFace55", "_id"=>BSON::ObjectId('4cf55529665fc90bbc000020'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55529665fc90bbc00001d'), "path_fragment"=>"niceface55", "created_at"=>2010-11-30 19:48:57 UTC, "updated_at"=>2010-11-30 19:48:57 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc000020')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc00001d')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc00001e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc00001e')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf55529665fc90bbc000020')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55529665fc90bbc000020')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55529665fc90bbc00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf55529665fc90bbc000020')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000021')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000021')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000021'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc000021'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:58 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000022')}, :parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000022')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000022'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552a665fc90bbc000021')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc000022'), "_type"=>"Site", "parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000021'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 19:48:58 UTC, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000022')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000023')}, :parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5552a665fc90bbc000021')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000021')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5552a665fc90bbc000022')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000022')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc00002b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc00002b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc00002b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc00002b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc00002b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:58 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc00002b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc00002c')}, :parent_id=>BSON::ObjectId('4cf5552a665fc90bbc00002b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc00002c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc00002b'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc00002c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc00002c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552a665fc90bbc00002b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$oKxodCr0UOLJmBvSmDrmxOwXW5QlXgpTvJ51U4djUBTi8BUKexBIG", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc00002c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc00002b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:48:58 UTC, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc00002c')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc00002e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc00002e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc00002e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc00002e'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc00002e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:58 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc00002e'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc00002f')}, :parent_id=>BSON::ObjectId('4cf5552a665fc90bbc00002e'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc00002f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc00002e'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc00002f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc00002f')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552a665fc90bbc00002e')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$pkf1YaEQZsflc.QyJIVWoOy2TvcwVUfdxVl3FnrhGYSj4BNtU3432", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc00002f'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc00002e'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:48:58 UTC, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc00002f')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000030')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000030')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000030')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000030'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc000030'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:58 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000030'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000031')}, :parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000030'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000031')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000030'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000031')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000031')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552a665fc90bbc000030')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$zJcyFTeVzScNs0tSf2DWeeXGSilP8xiYc5nuE7IVvnlkRnkMcruZO", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc000031'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000030'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:48:58 UTC, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000031')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000032')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000032')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000032')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000032'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc000032'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:58 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000032'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000033')}, :parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000032'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000033')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000032'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000033')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000033')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552a665fc90bbc000032')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$dLR.dAuFfsVakTofs3pKFOGJ8uw5iiXqUzJCDyjBMJMVef.so.o5q", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc000033'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000032'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:48:58 UTC, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000033')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000034')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000034')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000034')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000034'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc000034'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:58 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000034'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000035')}, :parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000034'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000035')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000034'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000035')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000035')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552a665fc90bbc000034')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$FeeJmRgLUFKetDn3qkuuy.K.x/j/Dfzmr.KUMDX3xkBeWmxcuh/Li", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc000035'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000034'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:48:58 UTC, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000035')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000037')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000037')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000037')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000037'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc000037'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:58 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000037'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000038')}, :parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000037'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000038')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000037'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000038')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc000038')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552a665fc90bbc000037')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$rRd964ifoqAzt4xMky6SBuKTBJkIMQ5.iU3Z9cMPnqmtyxT65oLHa", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc000038'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc000037'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:48:58 UTC, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc000038')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc00003a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc00003a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552a665fc90bbc00003a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc00003a'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552a665fc90bbc00003a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:58 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:58 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc00003a'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00003b')}, :parent_id=>BSON::ObjectId('4cf5552a665fc90bbc00003a'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552a665fc90bbc00003a'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00003b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00003b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552a665fc90bbc00003a')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ffh3olWktPJ9A1deOIISZejtVvEoVLSV51p7FQ8NYxykP4mGsMqya", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003b'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5552a665fc90bbc00003a'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:48:59 UTC, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc00003b')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00003c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00003c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003c'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:59 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003c'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00003d')}, :parent_id=>BSON::ObjectId('4cf5552b665fc90bbc00003c'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc00003c'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00003d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00003d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552b665fc90bbc00003c')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$.PQuFltjIO570WV1VTsqU.dfqkpvZnfxRUyXNtzMUx8jSWgH8jkN6", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003d'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003c'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:48:59 UTC, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc00003d')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf5552b665fc90bbc00003c')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003c'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf5552b665fc90bbc00003e')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00003f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00003f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:59 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003f'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000040')}, :parent_id=>BSON::ObjectId('4cf5552b665fc90bbc00003f'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000040')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc00003f'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000040')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000040')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552b665fc90bbc00003f')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$x0ZWg/5Cr8yqhbUD2qMWY.tP8hKaSkLfkdmNx8S3dZsT/Da/WpWRq", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc000040'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00003f'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:48:59 UTC, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc000040')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000041')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000041')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000041')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000041'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc000041'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:59 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000041'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000042')}, :parent_id=>BSON::ObjectId('4cf5552b665fc90bbc000041'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000042')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc000041'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000042')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000042')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552b665fc90bbc000041')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$dDDQz9gCHWy2UYgBx/aaJuQp4/oIZv1Y.M7w7SqlFeqEc5WoZ0xbe", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc000042'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000041'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:48:59 UTC, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc000042')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf5552b665fc90bbc000041')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000041'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf5552b665fc90bbc000043')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000044')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000044')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000044')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000044'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc000044'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:59 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000044'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000045')}, :parent_id=>BSON::ObjectId('4cf5552b665fc90bbc000044'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000045')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc000044'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000045')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000045')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552b665fc90bbc000044')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$HcglxbhQFlUDuHVFnN593u7kDuYmXwWA/3w1vaaBxfl2z3i9HgkRS", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc000045'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000044'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:48:59 UTC, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc000045')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000046')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000046')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000046')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000046'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc000046'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:59 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000046'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000047')}, :parent_id=>BSON::ObjectId('4cf5552b665fc90bbc000046'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000047')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc000046'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000047')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000047')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552b665fc90bbc000046')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ee1b..AeQk6GtEtlx54wIOFMfasqTfkPPWtS7weov.Cmu2XFphjQy", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc000047'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000046'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:48:59 UTC, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc000047')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000048')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000048')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000048')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000048'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc000048'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:59 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000048'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000049')}, :parent_id=>BSON::ObjectId('4cf5552b665fc90bbc000048'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000049')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc000048'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000049')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc000049')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552b665fc90bbc000048')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$USyaNTltvOQZRkBlEXt6pusB9tMOggfzGXJiujA0gyRQaRUnyybDq", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc000049'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc000048'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:48:59 UTC, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc000049')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf5552b665fc90bbc000049')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf5552b665fc90bbc00004a')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00004b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00004b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00004b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00004b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc00004b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:48:59 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00004b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00004c')}, :parent_id=>BSON::ObjectId('4cf5552b665fc90bbc00004b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00004c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc00004b'), :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00004c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5552b665fc90bbc00004c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5552b665fc90bbc00004b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Pz9uJCUAFncE49E.E5R0h.miun9feC2k7HNf/L0GVifjKoUB7kSgi", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5552b665fc90bbc00004c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5552b665fc90bbc00004b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:48:59 UTC, "updated_at"=>2010-11-30 19:48:59 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5552b665fc90bbc00004c')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf5552b665fc90bbc00004c')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf5552b665fc90bbc00004d')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-30 11:49:00 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 19ms (Views: 17.5ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed   in 7ms
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 15ms (Views: 11.4ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1003
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1004
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1005
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
Completed   in 1ms
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 16ms (Views: 11.9ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1002
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1003
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1004
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.7ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed   in 4ms
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1014
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 61ms (Views: 57.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
Rendered pages/_form.html.haml (12.2ms)
Rendered pages/_form.html.haml (5.5ms)
Rendered sites/_form.html.haml (10.1ms)
Rendered sites/_form.html.haml (4.4ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000007'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:05 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000007')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000007')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000009')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000009'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:05 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100000b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55711665fc90ce100000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:05 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000c')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce100000b')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf55711665fc90ce100000c'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce100000b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 19:57:05 UTC, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100000c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000d')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000d')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:95359120 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000d')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce100000b')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf55711665fc90ce100000d'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce100000b'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 19:57:05 UTC, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000e')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000e')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:95412170 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000e')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce100000b')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf55711665fc90ce100000e'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce100000b'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 19:57:05 UTC, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000d')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000e')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000c')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000d')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf55711665fc90ce100000d')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000e')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf55711665fc90ce100000e')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000c')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf55711665fc90ce100000c')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce100000b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce100000c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000c')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce100000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf55711665fc90ce100000e')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce100000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000e')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100000f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55711665fc90ce100000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:05 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce100000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100000f')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000010'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:05 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000011')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce1000010'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce1000010')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000010'), "path_fragment"=>"cool", "created_at"=>2010-11-30 19:57:05 UTC, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000010')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000012')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000012'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:05 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000013')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce1000012'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce1000012')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000013'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000012'), "path_fragment"=>"cool", "created_at"=>2010-11-30 19:57:05 UTC, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000013')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000014')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce1000013'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce1000012'), BSON::ObjectId('4cf55711665fc90ce1000013')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000014'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000013'), "path_fragment"=>"cool", "created_at"=>2010-11-30 19:57:05 UTC, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000014')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000012')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000013')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000014')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000014')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000015'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:05 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000016')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce1000015'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce1000015')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000015'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 19:57:05 UTC, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000017')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce1000016'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce1000015'), BSON::ObjectId('4cf55711665fc90ce1000016')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000017'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000016'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 19:57:05 UTC, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000017')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000015')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000016')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000017')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000017')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000018')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000018'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:05 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000018')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000018')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000018')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000019')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000019')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000019'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:05 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001a')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:95320950 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf55711665fc90ce100001a'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 19:57:05 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001b')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100001a'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001b')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf55711665fc90ce100001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce100001a')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf55711665fc90ce100001b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001a'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 19:57:05 UTC, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100001b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001c')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100001b'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce100001a'), BSON::ObjectId('4cf55711665fc90ce100001b')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf55711665fc90ce100001c'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001b'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 19:57:05 UTC, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001b')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf55711665fc90ce100001b')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf55711665fc90ce100001a')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000019')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000019')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce100001a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce100001b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce100001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001c')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55711665fc90ce100001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:05 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001e')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce100001d')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf55711665fc90ce100001e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001d'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 19:57:05 UTC, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100001e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001f')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000020')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100001d'), :path_fragment=>"niceface55"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000020')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000020')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000020')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:91001150 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf55711665fc90ce100001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000020')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000020')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce100001d')], "name"=>"NiceFace55", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000020'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce100001d'), "path_fragment"=>"niceface55", "created_at"=>2010-11-30 19:57:05 UTC, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000020')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce100001d')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce100001e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100001e')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf55711665fc90ce1000020')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000020')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000020')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000021')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000021')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000021'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000021'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:05 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000022')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce1000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000022')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000022'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce1000021')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf55711665fc90ce1000022'), "_type"=>"Site", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000021'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 19:57:05 UTC, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000022')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce1000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000023')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce1000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000021')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000021')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf55711665fc90ce1000022')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce1000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce1000022')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100002b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100002b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100002b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100002b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55711665fc90ce100002b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:05 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100002b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100002c')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100002b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100002c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100002b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100002c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100002c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce100002b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$1TctuNgTKq/yPmsYdhn7xugaiTkTdGLLhqvo5sicx9mKtYf.Rp7v.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf55711665fc90ce100002c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce100002b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:57:05 UTC, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100002c')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100002e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100002e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55711665fc90ce100002e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100002e'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55711665fc90ce100002e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:05 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:05 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55711665fc90ce100002e'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100002f')}, :parent_id=>BSON::ObjectId('4cf55711665fc90ce100002e'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce100002f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55711665fc90ce100002e'), :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100002f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100002f')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55711665fc90ce100002e')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ZhvbGS53sQUEIi/JUahf/.Ia863QoqLxTKOlmKFmXwNZJGbpsudR6", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf55712665fc90ce100002f'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf55711665fc90ce100002e'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:57:06 UTC, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce100002f')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000030')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000030')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000030')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000030'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55712665fc90ce1000030'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:06 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000030'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000031')}, :parent_id=>BSON::ObjectId('4cf55712665fc90ce1000030'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000031')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce1000030'), :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000031')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000031')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55712665fc90ce1000030')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ODdkjqtMOTHvFF2ARk4K5ONycU6GhN5mlA8Qmh.LhTOA26YGFZRVW", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf55712665fc90ce1000031'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000030'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:57:06 UTC, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce1000031')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000032')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000032')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000032')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000032'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55712665fc90ce1000032'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:06 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000032'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000033')}, :parent_id=>BSON::ObjectId('4cf55712665fc90ce1000032'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000033')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce1000032'), :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000033')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000033')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55712665fc90ce1000032')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$SonZq.FRbdApD/EHCK9PqunN6Ccct.ti6Lxetbr8WV4k/.4xd2fIu", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf55712665fc90ce1000033'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000032'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:57:06 UTC, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce1000033')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000034')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000034')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000034')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000034'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55712665fc90ce1000034'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:06 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000034'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000035')}, :parent_id=>BSON::ObjectId('4cf55712665fc90ce1000034'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000035')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce1000034'), :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000035')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000035')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55712665fc90ce1000034')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$jp36LQuu7FZyAaTOe4qpwOP0f7t3QSqnToXuXaAF/SvHNgVUnjnu2", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf55712665fc90ce1000035'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000034'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:57:06 UTC, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce1000035')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000037')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000037')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000037')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000037'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55712665fc90ce1000037'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:06 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000037'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000038')}, :parent_id=>BSON::ObjectId('4cf55712665fc90ce1000037'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000038')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce1000037'), :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000038')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000038')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55712665fc90ce1000037')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$FCAotB.E7zrphLp0pF1AUeARPqLB8FrMctdULUIXDpImWaX./eIUW", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf55712665fc90ce1000038'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000037'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:57:06 UTC, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce1000038')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100003a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100003a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003a'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55712665fc90ce100003a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:06 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003a'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100003b')}, :parent_id=>BSON::ObjectId('4cf55712665fc90ce100003a'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce100003a'), :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100003b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100003b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55712665fc90ce100003a')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$CGzV71DY8BdkmX6OUTV0uO7LWs2UKDJChcheH0Hqq6X65q.piF0CW", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf55712665fc90ce100003b'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003a'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:57:06 UTC, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce100003b')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100003c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100003c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003c'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55712665fc90ce100003c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:06 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003c'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100003d')}, :parent_id=>BSON::ObjectId('4cf55712665fc90ce100003c'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce100003c'), :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100003d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100003d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55712665fc90ce100003c')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$rz7mzQMuy32hPls8R/PGuuFNV/sg9MCNVabWuWCzuEYQT/jJyEZy6", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf55712665fc90ce100003d'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003c'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:57:06 UTC, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce100003d')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf55712665fc90ce100003c')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003c'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf55712665fc90ce100003e')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100003f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce100003f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55712665fc90ce100003f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:06 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003f'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000040')}, :parent_id=>BSON::ObjectId('4cf55712665fc90ce100003f'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000040')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce100003f'), :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000040')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000040')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55712665fc90ce100003f')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$FXPHnFh4qwU0ia7iSgUsPeZd9OYe94JKvVGnETzON0gozVyCHK/Qe", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf55712665fc90ce1000040'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf55712665fc90ce100003f'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:57:06 UTC, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce1000040')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000041')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000041')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55712665fc90ce1000041')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000041'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55712665fc90ce1000041'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:06 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:06 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000041'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000042')}, :parent_id=>BSON::ObjectId('4cf55712665fc90ce1000041'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000042')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55712665fc90ce1000041'), :_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000042')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000042')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55712665fc90ce1000041')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ZOC6PxCqD3zuLo5uCUDqG.t.f.RMP2pCvzNS39nh7wuN1GFUXOu2e", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf55713665fc90ce1000042'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000041'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:57:07 UTC, "updated_at"=>2010-11-30 19:57:07 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55713665fc90ce1000042')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf55712665fc90ce1000041')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55712665fc90ce1000041'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf55713665fc90ce1000043')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000044')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000044')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000044')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000044'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55713665fc90ce1000044'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:07 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:07 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000044'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000045')}, :parent_id=>BSON::ObjectId('4cf55713665fc90ce1000044'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000045')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55713665fc90ce1000044'), :_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000045')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000045')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55713665fc90ce1000044')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$XxGU7Ekf2Z0upzEjTpiSsOzHaYydauSoPKWZIBn6dBz2Z45F6Znfu", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf55713665fc90ce1000045'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000044'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:57:07 UTC, "updated_at"=>2010-11-30 19:57:07 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55713665fc90ce1000045')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000046')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000046')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000046')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000046'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55713665fc90ce1000046'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:07 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:07 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000046'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000047')}, :parent_id=>BSON::ObjectId('4cf55713665fc90ce1000046'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000047')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55713665fc90ce1000046'), :_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000047')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000047')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55713665fc90ce1000046')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$vVMtfQ77l0ml08JwHdIn9uZ0PrHQXg4Qn39.D0HnRC.bDs4aKspJC", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf55713665fc90ce1000047'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000046'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:57:07 UTC, "updated_at"=>2010-11-30 19:57:07 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55713665fc90ce1000047')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000048')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000048')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000048')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000048'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55713665fc90ce1000048'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:07 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:07 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000048'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000049')}, :parent_id=>BSON::ObjectId('4cf55713665fc90ce1000048'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000049')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55713665fc90ce1000048'), :_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000049')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce1000049')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55713665fc90ce1000048')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$BEveTm4da.ioYHC9wZTI..vzeQOQXGkN6xDA4aRIeIt/JEfPZ2Ehu", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf55713665fc90ce1000049'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf55713665fc90ce1000048'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:57:07 UTC, "updated_at"=>2010-11-30 19:57:07 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55713665fc90ce1000049')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf55713665fc90ce1000049')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf55713665fc90ce100004a')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce100004b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce100004b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce100004b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce100004b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf55713665fc90ce100004b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 19:57:07 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 19:57:07 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce100004b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce100004c')}, :parent_id=>BSON::ObjectId('4cf55713665fc90ce100004b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf55713665fc90ce100004c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55713665fc90ce100004b'), :_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce100004c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf55713665fc90ce100004c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf55713665fc90ce100004b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$VxLUxUx.kmckcDdNdIl.Xey0xWifUsJxk3FYxAz.btMmj2EoPbxmm", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf55713665fc90ce100004c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf55713665fc90ce100004b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 19:57:07 UTC, "updated_at"=>2010-11-30 19:57:07 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf55713665fc90ce100004c')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf55713665fc90ce100004c')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf55713665fc90ce100004d')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-30 11:57:07 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 75ms (Views: 74.2ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 15ms (Views: 11.7ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed   in 2ms
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1006
Completed 302 Found in 12ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1007
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1008
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1010
Completed 302 Found in 53ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1011
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1012
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 15ms (Views: 11.7ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 9ms (Views: 4.0ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed   in 2ms
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 9ms (Views: 4.0ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1008
Completed 302 Found in 12ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1009
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1010
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 57ms (Views: 6.8ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 3ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 2ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 2ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 3ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Rendered sites/index.html.haml within layouts/application (2.1ms)
Completed 200 OK in 15ms (Views: 11.8ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 9ms (Views: 4.1ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed   in 2ms
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 9ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1008
Completed 302 Found in 13ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1009
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1010
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 56ms (Views: 6.7ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 3ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 2ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 2ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 3ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 14ms (Views: 11.7ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#show as HTML
  Parameters: {"id0"=>"root"}
Completed   in 2ms
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1012
Completed 302 Found in 12ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1014
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Completed   in 56ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1019
Completed 302 Found in 8ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1021
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1023
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 2.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 8ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 5ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 14ms (Views: 11.7ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1010
Completed 302 Found in 12ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1013
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1014
Completed 302 Found in 52ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1018
Completed 302 Found in 8ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1020
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1022
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 2.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 8ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 5ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 14ms (Views: 11.7ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#new as HTML
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1010
Completed 302 Found in 12ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Redirected to http://test.host/sites/1013
Completed 302 Found in 5ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Redirected to http://test.host/sites/1014
Completed 302 Found in 53ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed 200 OK in 5ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"my_site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1018
Completed 302 Found in 8ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Redirected to http://test.host/sites/1020
Completed 302 Found in 6ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites/1022
Completed 302 Found in 5ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed 200 OK in 7ms (Views: 2.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 8ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Redirected to http://test.host/sites
Completed 302 Found in 5ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 15ms (Views: 11.7ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1011
Completed 302 Found in 11ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 55ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"my_site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1019
Completed 302 Found in 7ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1021
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1023
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 15ms (Views: 11.7ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 7ms (Views: 4.1ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1011
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 52ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"my_site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1019
Completed 302 Found in 7ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1021
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1023
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
Completed   in 1ms
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#new as HTML
Completed   in 1ms
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Completed   in 1ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed   in 0ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
Completed   in 0ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"my_site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 1ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 1ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
Completed   in 0ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#index as HTML
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Rendered sites/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 15ms (Views: 11.7ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 7ms (Views: 4.0ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1011
Completed 302 Found in 10ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1013
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1015
Completed 302 Found in 52ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"my_site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1019
Completed 302 Found in 7ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1021
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1023
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 3ms
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 16ms (Views: 12.0ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.3ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1006
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1008
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1010
Completed 302 Found in 7ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1012
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 6ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 3ms
  Processing by SitesController#index as HTML
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1027
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1029
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1031
Completed 302 Found in 4ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"my_site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1035
Completed 302 Found in 7ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1037
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1039
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 6ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 4ms
Rendered pages/_form.html.haml (12.4ms)
Rendered pages/_form.html.haml (5.5ms)
Rendered sites/_form.html.haml (10.0ms)
Rendered sites/_form.html.haml (4.5ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000007'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a19665fc910f2000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:17 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f2000007')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000007')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000009')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000009'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a19665fc910f2000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:17 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f2000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200000b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a19665fc910f200000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:17 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000c')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a19665fc910f200000b')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf56a19665fc910f200000c'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf56a19665fc910f200000b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:18:17 UTC, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200000c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000d')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000d')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:69203680 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000d')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a19665fc910f200000b')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf56a19665fc910f200000d'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf56a19665fc910f200000b'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 21:18:17 UTC, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000e')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000e')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:68633360 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000e')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a19665fc910f200000b')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf56a19665fc910f200000e'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf56a19665fc910f200000b'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 21:18:17 UTC, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000d')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000e')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000c')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000d')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56a19665fc910f200000d')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000e')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56a19665fc910f200000e')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000c')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56a19665fc910f200000c')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f200000b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f200000c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000c')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f200000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56a19665fc910f200000e')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f200000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000e')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200000f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a19665fc910f200000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:17 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f200000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200000f')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000010'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a19665fc910f2000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:17 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000011')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f2000010'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a19665fc910f2000010')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf56a19665fc910f2000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000010'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:18:17 UTC, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f2000010')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f2000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000012')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000012'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a19665fc910f2000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:17 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000013')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f2000012'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a19665fc910f2000012')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf56a19665fc910f2000013'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000012'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:18:17 UTC, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000013')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000014')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f2000013'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a19665fc910f2000012'), BSON::ObjectId('4cf56a19665fc910f2000013')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf56a19665fc910f2000014'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000013'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:18:17 UTC, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000014')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f2000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000012')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f2000013')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f2000014')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000014')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000015'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a19665fc910f2000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:17 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000016')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f2000015'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a19665fc910f2000015')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf56a19665fc910f2000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000015'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 21:18:17 UTC, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000017')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f2000016'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a19665fc910f2000015'), BSON::ObjectId('4cf56a19665fc910f2000016')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf56a19665fc910f2000017'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000016'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 21:18:17 UTC, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000017')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f2000015')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f2000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000016')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f2000017')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f2000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000017')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000018')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000018'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a19665fc910f2000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:17 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000018')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f2000018')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000018')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000019')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000019')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f2000019'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a19665fc910f2000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:17 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200001a')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:92150290 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf56a19665fc910f200001a'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 21:18:17 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200001a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200001b')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f200001a'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200001b')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56a19665fc910f200001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a19665fc910f200001a')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf56a19665fc910f200001b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56a19665fc910f200001a'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 21:18:17 UTC, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200001b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200001c')}, :parent_id=>BSON::ObjectId('4cf56a19665fc910f200001b'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a19665fc910f200001a'), BSON::ObjectId('4cf56a19665fc910f200001b')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf56a19665fc910f200001c'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56a19665fc910f200001b'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 21:18:17 UTC, "updated_at"=>2010-11-30 21:18:17 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a19665fc910f200001b')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf56a19665fc910f200001b')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf56a19665fc910f200001a')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f2000019')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f2000019')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f200001a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200001a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f200001b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a19665fc910f200001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a19665fc910f200001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a19665fc910f200001c')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200001d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200001d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200001d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1a665fc910f200001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200001e')}, :parent_id=>BSON::ObjectId('4cf56a1a665fc910f200001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f200001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1a665fc910f200001d')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf56a1a665fc910f200001e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200001d'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:18:18 UTC, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f200001e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200001f')}, :parent_id=>BSON::ObjectId('4cf56a1a665fc910f200001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000020')}, :parent_id=>BSON::ObjectId('4cf56a1a665fc910f200001d'), :path_fragment=>"niceface55"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000020')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f200001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000020')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f200001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000020')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:91706780 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf56a1a665fc910f200001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000020')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000020')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1a665fc910f200001d')], "name"=>"NiceFace55", "_id"=>BSON::ObjectId('4cf56a1a665fc910f2000020'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200001d'), "path_fragment"=>"niceface55", "created_at"=>2010-11-30 21:18:18 UTC, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000020')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a1a665fc910f200001d')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200001d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a1a665fc910f200001e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f200001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200001e')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56a1a665fc910f2000020')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a1a665fc910f2000020')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f200001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000020')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000021')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000021')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000021'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1a665fc910f2000021'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000022')}, :parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000022')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000022'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1a665fc910f2000021')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf56a1a665fc910f2000022'), "_type"=>"Site", "parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000021'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:18:18 UTC, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000022')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000023')}, :parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a1a665fc910f2000021')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000021')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56a1a665fc910f2000022')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000022')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200002b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200002b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200002b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200002b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1a665fc910f200002b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200002b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200002c')}, :parent_id=>BSON::ObjectId('4cf56a1a665fc910f200002b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200002c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f200002b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200002c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200002c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1a665fc910f200002b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$4K9oytAGOfrbZ7//pMrO4eAHUaB8xZyGQd0BPDrx6Uk8RHEAtlPzK", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56a1a665fc910f200002c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200002b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:18:18 UTC, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f200002c')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200002e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200002e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200002e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200002e'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1a665fc910f200002e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200002e'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200002f')}, :parent_id=>BSON::ObjectId('4cf56a1a665fc910f200002e'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200002f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f200002e'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200002f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200002f')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1a665fc910f200002e')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Su06Z8X9D19RpRIO4SlSZuWa9uxEpINlh6bBDGyg6w3.SChrclzGW", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56a1a665fc910f200002f'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200002e'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:18:18 UTC, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f200002f')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000030')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000030')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000030')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000030'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1a665fc910f2000030'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000030'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000031')}, :parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000030'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000031')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000030'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000031')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000031')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1a665fc910f2000030')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$81nVFKTtRN1zW27dNBaatOueWJeAQU/.9R4kPfXW0.FxSb05L3ZIW", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56a1a665fc910f2000031'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000030'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:18:18 UTC, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000031')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000032')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000032')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000032')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000032'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1a665fc910f2000032'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000032'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000033')}, :parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000032'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000033')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000032'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000033')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000033')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1a665fc910f2000032')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$EJKwSRsG1eQT0B2iLTKB9u0cJvPu1suFFuBASm9JlgbG75K/qW5nm", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56a1a665fc910f2000033'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000032'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:18:18 UTC, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000033')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000034')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000034')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000034')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000034'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1a665fc910f2000034'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000034'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000035')}, :parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000034'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000035')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000034'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000035')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000035')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1a665fc910f2000034')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$O42xOfnEC7C8nU.oxCBOLekWTU13pMbRGHS.mj5uDEvQgqx2Hp/3a", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56a1a665fc910f2000035'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000034'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:18:18 UTC, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000035')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000037')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000037')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000037')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000037'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1a665fc910f2000037'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000037'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000038')}, :parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000037'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000038')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000037'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000038')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f2000038')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1a665fc910f2000037')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$2uYHTUwpQL0IcWSDVsagwug.xwkew7Fc1yZx38mrs8/1/h5LPmUOO", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56a1a665fc910f2000038'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56a1a665fc910f2000037'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:18:18 UTC, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f2000038')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200003a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200003a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1a665fc910f200003a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200003a'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1a665fc910f200003a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200003a'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200003b')}, :parent_id=>BSON::ObjectId('4cf56a1a665fc910f200003a'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200003b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1a665fc910f200003a'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200003b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200003b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1a665fc910f200003a')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$T7ULm9EqFvV2ZCSBjyDSku8TZNe08Qh.BQg.bxGif14eHdH6oQGh.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56a1b665fc910f200003b'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56a1a665fc910f200003a'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:18:19 UTC, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f200003b')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200003c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200003c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200003c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200003c'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1b665fc910f200003c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200003c'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200003d')}, :parent_id=>BSON::ObjectId('4cf56a1b665fc910f200003c'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200003d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f200003c'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200003d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200003d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1b665fc910f200003c')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$h.I5Pt3RZ/.dxY64YSAis.S8xV8gSPhpKMlhXkljsB/9IJwk7557u", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56a1b665fc910f200003d'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200003c'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:18:19 UTC, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f200003d')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56a1b665fc910f200003c')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200003c'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56a1b665fc910f200003e')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200003f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200003f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200003f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200003f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1b665fc910f200003f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200003f'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000040')}, :parent_id=>BSON::ObjectId('4cf56a1b665fc910f200003f'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000040')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f200003f'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000040')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000040')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1b665fc910f200003f')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$FXqxnob7VeYCcmeToLXOeuotjuzGN5FWWrRfsymN7OQ/w6G36JXWC", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56a1b665fc910f2000040'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200003f'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:18:19 UTC, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f2000040')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000041')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000041')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000041')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000041'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1b665fc910f2000041'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000041'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000042')}, :parent_id=>BSON::ObjectId('4cf56a1b665fc910f2000041'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000042')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f2000041'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000042')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000042')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1b665fc910f2000041')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$1ggT4W1wJ6cmZ5B.ECNreeOLccYRwER5D.17/4sEWE.t06Yby0S/O", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56a1b665fc910f2000042'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000041'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:18:19 UTC, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f2000042')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56a1b665fc910f2000041')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000041'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56a1b665fc910f2000043')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000044')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000044')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000044')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000044'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1b665fc910f2000044'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000044'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000045')}, :parent_id=>BSON::ObjectId('4cf56a1b665fc910f2000044'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000045')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f2000044'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000045')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000045')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1b665fc910f2000044')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$j5U5M2vJI94OVuKSkr2NHeK5pLv.ru0tjvc7TQ5rPoOkbW.M94mZ6", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56a1b665fc910f2000045'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000044'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:18:19 UTC, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f2000045')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000046')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000046')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000046')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000046'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1b665fc910f2000046'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000046'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000047')}, :parent_id=>BSON::ObjectId('4cf56a1b665fc910f2000046'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000047')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f2000046'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000047')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000047')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1b665fc910f2000046')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$GTPn0u7AZMs/cIbwF1w3aetrL3lC.oowM0jmmE9kUvJrkUGUxog8a", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56a1b665fc910f2000047'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000046'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:18:19 UTC, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f2000047')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000048')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000048')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000048')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000048'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1b665fc910f2000048'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000048'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000049')}, :parent_id=>BSON::ObjectId('4cf56a1b665fc910f2000048'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000049')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f2000048'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000049')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f2000049')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1b665fc910f2000048')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$8aZ.DEydmFKcYscN3cBcNeUFp6TxbCWDXlhPXQlbJMcsYxK9PMivy", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56a1b665fc910f2000049'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56a1b665fc910f2000048'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:18:19 UTC, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f2000049')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56a1b665fc910f2000049')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf56a1b665fc910f200004a')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200004b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200004b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200004b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200004b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56a1b665fc910f200004b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:18:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200004b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200004c')}, :parent_id=>BSON::ObjectId('4cf56a1b665fc910f200004b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200004c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f200004b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200004c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56a1b665fc910f200004c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56a1b665fc910f200004b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$AXdRAl.HwjqGJL1d3GV8L.HN3Xp/LHivPY./iTFpAHPM16rqQDb7.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56a1b665fc910f200004c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56a1b665fc910f200004b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:18:19 UTC, "updated_at"=>2010-11-30 21:18:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56a1b665fc910f200004c')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56a1b665fc910f200004c')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf56a1b665fc910f200004d')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-30 13:18:20 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 16ms (Views: 15.3ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Rendered sites/show.html.haml within layouts/application (2.0ms)
Completed 200 OK in 15ms (Views: 11.6ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Rendered sites/show.html.haml within layouts/application (2.0ms)
Completed 200 OK in 16ms (Views: 12.1ms)
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.5ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1008
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 7ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 7ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1012
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1013
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 7ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 4ms
  Processing by SitesController#index as HTML
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 61ms (Views: 4.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.8ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1027
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1029
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1031
Completed 302 Found in 4ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1035
Completed 302 Found in 7ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1037
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1039
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 7ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 4ms
Rendered pages/_form.html.haml (12.2ms)
Rendered pages/_form.html.haml (5.5ms)
Rendered sites/_form.html.haml (10.1ms)
Rendered sites/_form.html.haml (4.6ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000007'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000007')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000007')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000009')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000009'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000c')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b00000b')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000c'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000d')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000d')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:103736930 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000d')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b00000b')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000d'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000e')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000e')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:104590760 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000e')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b00000b')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000e'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000d')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000e')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000c')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000d')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000d')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000e')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000e')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000c')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000c')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b00000c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000c')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b00000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000e')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b00000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000e')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b00000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b00000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00000f')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000010'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000011')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000010'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b000010')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000010'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000010')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000012')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000012'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000013')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000012'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b000012')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000013'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000012'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000013')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000014')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000013'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b000012'), BSON::ObjectId('4cf56bb5665fc9160b000013')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000014'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000013'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000014')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000012')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000013')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000014')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000014')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000015'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000016')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000015'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b000015')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000015'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000017')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000016'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b000015'), BSON::ObjectId('4cf56bb5665fc9160b000016')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000017'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000016'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000017')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000015')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000016')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000017')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000017')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000018')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000018'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000018')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000018')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000018')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000019')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000019')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000019'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001a')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:105459940 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001a'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001b')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001a'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001b')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b00001a')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001a'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001c')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001b'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b00001a'), BSON::ObjectId('4cf56bb5665fc9160b00001b')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001c'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001b'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001b')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf56bb5665fc9160b00001b')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf56bb5665fc9160b00001a')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000019')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000019')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b00001a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b00001b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b00001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001c')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001e')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b00001d')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001d'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001f')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000020')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001d'), :path_fragment=>"niceface55"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000020')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000020')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000020')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:105900020 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000020')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000020')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b00001d')], "name"=>"NiceFace55", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000020'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00001d'), "path_fragment"=>"niceface55", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000020')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b00001d')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b00001e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00001e')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56bb5665fc9160b000020')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000020')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000020')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000021')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000021')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000021'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000021'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000022')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000022')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000022'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b000021')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000022'), "_type"=>"Site", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000021'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000022')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000023')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000021')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000021')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56bb5665fc9160b000022')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000022')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00002b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00002b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00002b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00002b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b00002b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00002b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00002c')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00002b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00002c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00002b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00002c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00002c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b00002b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$v4pzBhwyZqABitImtXYw2u71KbTKhUAakzk4nKGFE9srSI7qEuS4i", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b00002c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00002b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00002c')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00002e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00002e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00002e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00002e'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b00002e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00002e'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00002f')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00002e'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00002f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00002e'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00002f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b00002f')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b00002e')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$FdL/yAU8hkdApC1CYswHn.3gKWWvSFkSnoPRUlHdxudPK/81epjl.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b00002f'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b00002e'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b00002f')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000030')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000030')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000030')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000030'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000030'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000030'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000031')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000030'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000031')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000030'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000031')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000031')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b000030')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$U3sQCvoAOtdjn38YQ6sasu8BMfAFvuwS8QY1KqidwAKrsKR4XnR8C", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000031'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000030'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000031')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000032')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000032')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000032')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000032'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000032'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000032'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000033')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000032'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000033')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000032'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000033')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000033')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b000032')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$cuQosaniOt05huCn7b0dJ.rzeXBL2ijbHMEYnZWKR/o3AErUs9B2W", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000033'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000032'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:25:09 UTC, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000033')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000034')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000034')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000034')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000034'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000034'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:09 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:09 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000034'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000035')}, :parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000034'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000035')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000034'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000035')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb5665fc9160b000035')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb5665fc9160b000034')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$VtNvvQf89MHXxQaonyDCMuGjVnPOwAOdWRLgFSMjSzGH8f7xhs6kK", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56bb5665fc9160b000035'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56bb5665fc9160b000034'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:25:10 UTC, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb5665fc9160b000035')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000037')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000037')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000037')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000037'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b000037'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:10 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000037'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000038')}, :parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000037'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000038')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000037'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000038')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000038')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb6665fc9160b000037')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$8rDhovByUom9JHiEBAO7z.lGK240GasCjTSAYE37CQr468BOZMSPW", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b000038'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000037'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:25:10 UTC, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000038')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b00003a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b00003a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003a'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:10 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003a'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b00003b')}, :parent_id=>BSON::ObjectId('4cf56bb6665fc9160b00003a'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b00003a'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b00003b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b00003b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb6665fc9160b00003a')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$SWjOJINY3BFSwwWpZNAJy.Q3ykGeBZqrGTtxgRy74mVEIUbQoIugm", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003b'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003a'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:25:10 UTC, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b00003b')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b00003c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b00003c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003c'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:10 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003c'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b00003d')}, :parent_id=>BSON::ObjectId('4cf56bb6665fc9160b00003c'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b00003c'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b00003d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b00003d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb6665fc9160b00003c')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$fx8KB3zSm.fmerCGL4EGT.WBz6XP91wGtrEIzXJK4XZh1xOrd7/9O", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003d'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003c'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:25:10 UTC, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b00003d')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56bb6665fc9160b00003c')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003c'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56bb6665fc9160b00003e')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b00003f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b00003f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:10 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003f'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000040')}, :parent_id=>BSON::ObjectId('4cf56bb6665fc9160b00003f'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000040')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b00003f'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000040')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000040')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb6665fc9160b00003f')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$9B9KVtzx5a0MqHFMplzzpOv95ihuWUp1SBPsjxrxuIVBsJRQfiCUq", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b000040'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b00003f'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:25:10 UTC, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000040')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000041')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000041')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000041')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000041'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b000041'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:10 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000041'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000042')}, :parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000041'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000042')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000041'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000042')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000042')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb6665fc9160b000041')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$E7gE6sjHFMVvie0ET/9Z4OD80FlC4vK2uI/h5V.gBBBLFeAJtJgbG", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b000042'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000041'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:25:10 UTC, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000042')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56bb6665fc9160b000041')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000041'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56bb6665fc9160b000043')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000044')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000044')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000044')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000044'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b000044'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:10 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000044'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000045')}, :parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000044'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000045')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000044'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000045')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000045')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb6665fc9160b000044')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$1yTh89re5cSBbakejTbsFO4Wwg6OzohXeV/WxlJvRYCjvrTLNspa.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b000045'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000044'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:25:10 UTC, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000045')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000046')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000046')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000046')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000046'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b000046'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:10 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000046'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000047')}, :parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000046'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000047')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000046'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000047')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000047')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb6665fc9160b000046')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Ul.9KTO9j1anQZf9Q3mrjesFNltHoeGX8An7vyw8Q/U9ozXsWzg.K", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b000047'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000046'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:25:10 UTC, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000047')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000048')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000048')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb6665fc9160b000048')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000048'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb6665fc9160b000048'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:10 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:10 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000048'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb7665fc9160b000049')}, :parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000048'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb7665fc9160b000049')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb6665fc9160b000048'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb7665fc9160b000049')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb7665fc9160b000049')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb6665fc9160b000048')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$KpNRh6/uE.ZQMtq5CBP6.OFs2tjN.Bbmh2UWXBmSXcQk5GEzQuFca", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56bb7665fc9160b000049'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56bb6665fc9160b000048'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:25:11 UTC, "updated_at"=>2010-11-30 21:25:11 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb7665fc9160b000049')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56bb7665fc9160b000049')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf56bb7665fc9160b00004a')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb7665fc9160b00004b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb7665fc9160b00004b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb7665fc9160b00004b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb7665fc9160b00004b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56bb7665fc9160b00004b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:25:11 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:25:11 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb7665fc9160b00004b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56bb7665fc9160b00004c')}, :parent_id=>BSON::ObjectId('4cf56bb7665fc9160b00004b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56bb7665fc9160b00004c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb7665fc9160b00004b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56bb7665fc9160b00004c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56bb7665fc9160b00004c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56bb7665fc9160b00004b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$.nC3ShUWS9i5WKYjTUyl7uZcOb0UavmBBKEU2g7PeuYgvjonoFp2K", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56bb7665fc9160b00004c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56bb7665fc9160b00004b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:25:11 UTC, "updated_at"=>2010-11-30 21:25:11 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56bb7665fc9160b00004c')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56bb7665fc9160b00004c')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf56bb7665fc9160b00004d')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-30 13:25:11 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 17ms (Views: 15.2ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000004')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000004')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000004')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000004'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e05665fc91712000004'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:01 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:01 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000004'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000005')}, :parent_id=>BSON::ObjectId('4cf56e05665fc91712000004'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e05665fc91712000004'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000005')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000005')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e05665fc91712000004')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$.LxMu/Y47zJkkcHN8SOIZOXC.wKPpChIUwTAI7ANlBoIQMwz9PzN.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e05665fc91712000005'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e05665fc91712000004'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:01 UTC, "updated_at"=>2010-11-30 21:35:01 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e05665fc91712000005')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000007'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e05665fc91712000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:01 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:01 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000007'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000008')}, :parent_id=>BSON::ObjectId('4cf56e05665fc91712000007'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000008')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e05665fc91712000007'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000008')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000008')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e05665fc91712000007')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$97kFkmclxQZ8O.YqRKbwy.OT7FY7Wu3anltjgtqpWahlrepxO5raK", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e05665fc91712000008'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e05665fc91712000007'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:01 UTC, "updated_at"=>2010-11-30 21:35:01 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e05665fc91712000008')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000009')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000009'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e05665fc91712000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:01 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:01 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000009'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc9171200000a')}, :parent_id=>BSON::ObjectId('4cf56e05665fc91712000009'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc9171200000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e05665fc91712000009'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc9171200000a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc9171200000a')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e05665fc91712000009')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$rCePFylO2RwBdY5RfYyceefm3s6q33VMmhHu69Vi6P/r6Z/60hAVC", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e05665fc9171200000a'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e05665fc91712000009'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:01 UTC, "updated_at"=>2010-11-30 21:35:01 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e05665fc9171200000a')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc9171200000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc9171200000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc9171200000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc9171200000b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e05665fc9171200000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:01 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:01 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc9171200000b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc9171200000c')}, :parent_id=>BSON::ObjectId('4cf56e05665fc9171200000b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc9171200000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e05665fc9171200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc9171200000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc9171200000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e05665fc9171200000b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$V2l4OmVe0j3s4YnVDd.75upeLOS6/E8HyIMb/C218WvMmGvZzZzQq", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e05665fc9171200000c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e05665fc9171200000b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:01 UTC, "updated_at"=>2010-11-30 21:35:01 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e05665fc9171200000c')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc9171200000d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc9171200000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc9171200000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc9171200000d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e05665fc9171200000d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:01 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:01 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc9171200000d'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc9171200000e')}, :parent_id=>BSON::ObjectId('4cf56e05665fc9171200000d'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc9171200000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e05665fc9171200000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc9171200000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc9171200000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e05665fc9171200000d')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$.EnhM4MJT/FJzhGQjmlotuDBvd3bgEB8XYvjt4SWSzXq4wdGGSt.G", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e05665fc9171200000e'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e05665fc9171200000d'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:01 UTC, "updated_at"=>2010-11-30 21:35:01 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e05665fc9171200000e')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000010'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e05665fc91712000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:01 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:01 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000010'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000011')}, :parent_id=>BSON::ObjectId('4cf56e05665fc91712000010'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e05665fc91712000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e05665fc91712000010')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$NOKd8ATqn/Vch3gQdayHu.gGPiaIYjt2MzQ90FFQ9M.J.yWnDe9rS", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e05665fc91712000011'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e05665fc91712000010'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:01 UTC, "updated_at"=>2010-11-30 21:35:01 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e05665fc91712000011')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000013')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e05665fc91712000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000013'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e05665fc91712000013'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:01 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:01 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e05665fc91712000013'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000014')}, :parent_id=>BSON::ObjectId('4cf56e05665fc91712000013'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e05665fc91712000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e05665fc91712000013')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$wxkjJOX3HGgEVZNP.0BYtOjzhyuSdcXaQZ34aIMAOAMnS63oyMhRS", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e06665fc91712000014'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e05665fc91712000013'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:02 UTC, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc91712000014')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000015'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e06665fc91712000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:02 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000015'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000016')}, :parent_id=>BSON::ObjectId('4cf56e06665fc91712000015'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc91712000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e06665fc91712000015')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$GqrzH6HvC95HfC2lT38E.OTYWLWWz1E1V24fyg90psSgvwhPpylNe", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e06665fc91712000016'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e06665fc91712000015'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:02 UTC, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc91712000016')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56e06665fc91712000015')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000015'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56e06665fc91712000017')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000018')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000018'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e06665fc91712000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:02 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000018'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000019')}, :parent_id=>BSON::ObjectId('4cf56e06665fc91712000018'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc91712000018'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000019')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000019')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e06665fc91712000018')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$UjkCysPruqT9/inLxPkWkeyv/QZSbCRdel3.FAYquvG/KffJA7zVW", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e06665fc91712000019'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e06665fc91712000018'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:02 UTC, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc91712000019')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc9171200001a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc9171200001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001a'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e06665fc9171200001a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:02 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001a'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc9171200001b')}, :parent_id=>BSON::ObjectId('4cf56e06665fc9171200001a'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc9171200001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc9171200001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc9171200001b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e06665fc9171200001a')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$pMhqGRbV1VClrU1Df142j.gywS9.q5c/4IcFW0AmIAcpJ7yHhyVLG", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e06665fc9171200001b'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001a'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:02 UTC, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc9171200001b')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56e06665fc9171200001a')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001a'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56e06665fc9171200001c')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc9171200001d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc9171200001d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e06665fc9171200001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:02 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001d'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc9171200001e')}, :parent_id=>BSON::ObjectId('4cf56e06665fc9171200001d'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc9171200001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc9171200001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc9171200001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e06665fc9171200001d')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$YrZ/AcI.qe4HuUWiszcE9Ob/lNfjCOnwHQ3B3XlsNMZVl1Gs2ouve", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e06665fc9171200001e'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001d'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:02 UTC, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc9171200001e')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc9171200001f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc9171200001f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e06665fc9171200001f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:02 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001f'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000020')}, :parent_id=>BSON::ObjectId('4cf56e06665fc9171200001f'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000020')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc9171200001f'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000020')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000020')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e06665fc9171200001f')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$i4nGP4cMbT1FwU1Hy.2XP.bHHh7gqukVVmKv/cqLseTd/6VoMP7M.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e06665fc91712000020'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e06665fc9171200001f'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:02 UTC, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc91712000020')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000021')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000021')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000021'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e06665fc91712000021'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:02 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000021'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000022')}, :parent_id=>BSON::ObjectId('4cf56e06665fc91712000021'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc91712000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000022')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e06665fc91712000021')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$OMmqfqwqN5La9F0T5OiaRuHMMoSqXJ7dweTcdXOiSrgRCfJk6yRye", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e06665fc91712000022'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e06665fc91712000021'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:02 UTC, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc91712000022')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56e06665fc91712000022')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf56e06665fc91712000023')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000024')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000024')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000024')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000024'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e06665fc91712000024'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:02 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000024'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000025')}, :parent_id=>BSON::ObjectId('4cf56e06665fc91712000024'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e06665fc91712000025')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc91712000024'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000025')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e06665fc91712000025')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e06665fc91712000024')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$0nc9ZJGMlyTt7du/hSTycebtnIQ.pVca4ekNrdTiEfDz455gwlJb.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e06665fc91712000025'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e06665fc91712000024'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:02 UTC, "updated_at"=>2010-11-30 21:35:02 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e06665fc91712000025')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56e06665fc91712000025')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf56e06665fc91712000026')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Rendered sites/show.html.haml within layouts/application (2.1ms)
Completed 200 OK in 16ms (Views: 12.1ms)
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.7ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1008
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 7ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 7ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1012
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1013
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 6ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 4ms
  Processing by SitesController#index as HTML
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.3ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.8ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1027
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1029
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1031
Completed 302 Found in 4ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1035
Completed 302 Found in 7ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1037
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1039
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 7ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 55ms
Rendered pages/_form.html.haml (12.3ms)
Rendered pages/_form.html.haml (5.4ms)
Rendered sites/_form.html.haml (10.2ms)
Rendered sites/_form.html.haml (4.5ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000007'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e18665fc91730000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000007')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000007')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000009')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000009'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e18665fc91730000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000000b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e18665fc9173000000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000c')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e18665fc9173000000b')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf56e18665fc9173000000c'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf56e18665fc9173000000b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:35:20 UTC, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000000c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000d')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000d')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:104657970 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000d')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e18665fc9173000000b')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf56e18665fc9173000000d'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf56e18665fc9173000000b'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 21:35:20 UTC, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000e')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000e')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:104337850 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000e')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e18665fc9173000000b')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf56e18665fc9173000000e'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf56e18665fc9173000000b'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 21:35:20 UTC, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000d')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000e')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000c')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000d')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56e18665fc9173000000d')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000e')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56e18665fc9173000000e')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000c')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56e18665fc9173000000c')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc9173000000b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc9173000000c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000c')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc9173000000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56e18665fc9173000000e')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc9173000000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000e')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000000f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e18665fc9173000000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc9173000000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000000f')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000010'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e18665fc91730000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000011')}, :parent_id=>BSON::ObjectId('4cf56e18665fc91730000010'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e18665fc91730000010')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf56e18665fc91730000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56e18665fc91730000010'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:35:20 UTC, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000010')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000012')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000012'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e18665fc91730000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000013')}, :parent_id=>BSON::ObjectId('4cf56e18665fc91730000012'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e18665fc91730000012')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf56e18665fc91730000013'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56e18665fc91730000012'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:35:20 UTC, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000013')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000014')}, :parent_id=>BSON::ObjectId('4cf56e18665fc91730000013'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e18665fc91730000012'), BSON::ObjectId('4cf56e18665fc91730000013')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf56e18665fc91730000014'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56e18665fc91730000013'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:35:20 UTC, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000014')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000012')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000013')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000014')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000014')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000015'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e18665fc91730000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000016')}, :parent_id=>BSON::ObjectId('4cf56e18665fc91730000015'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e18665fc91730000015')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf56e18665fc91730000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56e18665fc91730000015'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 21:35:20 UTC, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000017')}, :parent_id=>BSON::ObjectId('4cf56e18665fc91730000016'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e18665fc91730000015'), BSON::ObjectId('4cf56e18665fc91730000016')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf56e18665fc91730000017'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56e18665fc91730000016'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 21:35:20 UTC, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000017')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000015')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000016')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000017')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000017')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000018')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000018'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e18665fc91730000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000018')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000018')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000018')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000019')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000019')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000019'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e18665fc91730000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001a')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:105189370 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf56e18665fc9173000001a'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 21:35:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001b')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000001a'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001b')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56e18665fc9173000001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e18665fc9173000001a')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf56e18665fc9173000001b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001a'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 21:35:20 UTC, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000001b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001c')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000001b'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e18665fc9173000001a'), BSON::ObjectId('4cf56e18665fc9173000001b')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf56e18665fc9173000001c'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001b'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 21:35:20 UTC, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001b')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf56e18665fc9173000001b')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf56e18665fc9173000001a')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc9173000001a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000019')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000019')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc9173000001b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc9173000001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001c')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e18665fc9173000001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001e')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e18665fc9173000001d')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf56e18665fc9173000001e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001d'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:35:20 UTC, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000001e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001f')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000020')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000001d'), :path_fragment=>"niceface55"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000020')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000020')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000020')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:105483870 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf56e18665fc9173000001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000020')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000020')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e18665fc9173000001d')], "name"=>"NiceFace55", "_id"=>BSON::ObjectId('4cf56e18665fc91730000020'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56e18665fc9173000001d'), "path_fragment"=>"niceface55", "created_at"=>2010-11-30 21:35:20 UTC, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000020')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc9173000001d')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc9173000001e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000001e')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56e18665fc91730000020')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000020')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000020')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000021')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000021')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000021'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e18665fc91730000021'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000022')}, :parent_id=>BSON::ObjectId('4cf56e18665fc91730000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000022')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000022'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e18665fc91730000021')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf56e18665fc91730000022'), "_type"=>"Site", "parent_id"=>BSON::ObjectId('4cf56e18665fc91730000021'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:35:20 UTC, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000022')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc91730000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000023')}, :parent_id=>BSON::ObjectId('4cf56e18665fc91730000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000021')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000021')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56e18665fc91730000022')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc91730000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc91730000022')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000002c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000002c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e18665fc9173000002c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000002c'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e18665fc9173000002c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:20 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e18665fc9173000002c'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000002d')}, :parent_id=>BSON::ObjectId('4cf56e18665fc9173000002c'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc9173000002d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e18665fc9173000002c'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000002d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000002d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e18665fc9173000002c')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$WNHPZZgl1YKvxAsZcMaqOuAgc653gbFFRYrnSYHMsGmlFwBCcpwX.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e19665fc9173000002d'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e18665fc9173000002c'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:21 UTC, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc9173000002d')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000002f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc9173000002f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000002f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc9173000002f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e19665fc9173000002f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:21 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc9173000002f'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000030')}, :parent_id=>BSON::ObjectId('4cf56e19665fc9173000002f'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000030')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc9173000002f'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000030')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000030')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e19665fc9173000002f')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$JVxEIU14zkPP.PhuZvLWZOdI1/Ngx0IYdvNh1BuQprA02wQ7f3IFW", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e19665fc91730000030'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e19665fc9173000002f'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:21 UTC, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc91730000030')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000031')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000031')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000031')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000031'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e19665fc91730000031'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:21 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000031'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000032')}, :parent_id=>BSON::ObjectId('4cf56e19665fc91730000031'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000032')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc91730000031'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000032')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000032')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e19665fc91730000031')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$j2.m3QwXh5U25Goq7oKyS.X1hHrPBYjpAiOypvFSDdSsfV1qJ5vVi", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e19665fc91730000032'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e19665fc91730000031'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:21 UTC, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc91730000032')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000033')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000033')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000033')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000033'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e19665fc91730000033'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:21 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000033'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000034')}, :parent_id=>BSON::ObjectId('4cf56e19665fc91730000033'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000034')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc91730000033'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000034')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000034')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e19665fc91730000033')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Y928wdU2pbHPQ0UI50XZGufW1cFmqeiJXUERIKKHvkUJ.eHs.C7da", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e19665fc91730000034'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e19665fc91730000033'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:21 UTC, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc91730000034')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000035')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000035')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000035')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000035'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e19665fc91730000035'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:21 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000035'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000036')}, :parent_id=>BSON::ObjectId('4cf56e19665fc91730000035'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000036')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc91730000035'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000036')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000036')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e19665fc91730000035')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$jACvEmCSn45QASxuEGXkAOFbBOf5TUOhLhkvTPxYGZ3RteRvzDjVG", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e19665fc91730000036'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e19665fc91730000035'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:21 UTC, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc91730000036')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000038')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000038')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000038')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000038'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e19665fc91730000038'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:21 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000038'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000039')}, :parent_id=>BSON::ObjectId('4cf56e19665fc91730000038'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000039')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc91730000038'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000039')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000039')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e19665fc91730000038')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$okfr9LIDMWWgfzVMSGU3huinsUH2kEA.iz5wgwE9k5sZ4tTRz9DUa", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e19665fc91730000039'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e19665fc91730000038'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:21 UTC, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc91730000039')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000003b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc9173000003b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000003b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc9173000003b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e19665fc9173000003b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:21 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc9173000003b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000003c')}, :parent_id=>BSON::ObjectId('4cf56e19665fc9173000003b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc9173000003c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc9173000003b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000003c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000003c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e19665fc9173000003b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Arr3h5GQDK0NlFJbQ0Q6rOM4djeS08ERIPbhf8kN27VH3gciggVqi", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e19665fc9173000003c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e19665fc9173000003b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:21 UTC, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc9173000003c')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000003d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc9173000003d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000003d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc9173000003d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e19665fc9173000003d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:21 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc9173000003d'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000003e')}, :parent_id=>BSON::ObjectId('4cf56e19665fc9173000003d'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc9173000003e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc9173000003d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000003e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc9173000003e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e19665fc9173000003d')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$I2HXSdNJmeJ.tBBUTcu/wejtsg1UcyFpeiNGvrNW1o2tc9arlbwum", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e19665fc9173000003e'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e19665fc9173000003d'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:21 UTC, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc9173000003e')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56e19665fc9173000003d')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc9173000003d'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56e19665fc9173000003f')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000040')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000040')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000040')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000040'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e19665fc91730000040'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:21 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000040'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000041')}, :parent_id=>BSON::ObjectId('4cf56e19665fc91730000040'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000041')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc91730000040'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000041')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000041')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e19665fc91730000040')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$KFsM5k21KrxPxOU0/bXR8uA/cyGUm/oStf82nT1/CLzNHGgedjUWy", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e19665fc91730000041'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e19665fc91730000040'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:21 UTC, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc91730000041')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000042')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000042')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e19665fc91730000042')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000042'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e19665fc91730000042'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:21 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:21 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000042'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000043')}, :parent_id=>BSON::ObjectId('4cf56e19665fc91730000042'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000043')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e19665fc91730000042'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000043')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000043')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e19665fc91730000042')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$8gUjeoACqYc.MeDOrm8KzOlN3EcQ9S9lwt.EvedwSM4x258ZruII2", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e1a665fc91730000043'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e19665fc91730000042'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:22 UTC, "updated_at"=>2010-11-30 21:35:22 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e1a665fc91730000043')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56e19665fc91730000042')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e19665fc91730000042'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56e1a665fc91730000044')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000045')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000045')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000045')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000045'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e1a665fc91730000045'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:22 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:22 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000045'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000046')}, :parent_id=>BSON::ObjectId('4cf56e1a665fc91730000045'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000046')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e1a665fc91730000045'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000046')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000046')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e1a665fc91730000045')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$57EphItqdzFZJZUcmCxgcuit/7C1mzhkfjzlMq3k/s.vD7/ZHGI4G", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e1a665fc91730000046'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000045'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:22 UTC, "updated_at"=>2010-11-30 21:35:22 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e1a665fc91730000046')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000047')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000047')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000047')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000047'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e1a665fc91730000047'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:22 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:22 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000047'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000048')}, :parent_id=>BSON::ObjectId('4cf56e1a665fc91730000047'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000048')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e1a665fc91730000047'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000048')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000048')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e1a665fc91730000047')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$bj1sr7h.1qcRQFfZinCo8.KT8wgy1xFBh41V7jGyugjLRJ7iwB4t6", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e1a665fc91730000048'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000047'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:22 UTC, "updated_at"=>2010-11-30 21:35:22 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e1a665fc91730000048')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000049')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000049')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc91730000049')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000049'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e1a665fc91730000049'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:22 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:22 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000049'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc9173000004a')}, :parent_id=>BSON::ObjectId('4cf56e1a665fc91730000049'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc9173000004a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e1a665fc91730000049'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc9173000004a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc9173000004a')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e1a665fc91730000049')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$O4M0DN7ULMf42ctwjWFwdeWFfRwBgFSyu.hO2drmso2fC/tgYnd6m", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e1a665fc9173000004a'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e1a665fc91730000049'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:22 UTC, "updated_at"=>2010-11-30 21:35:22 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e1a665fc9173000004a')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56e1a665fc9173000004a')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf56e1a665fc9173000004b')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc9173000004c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc9173000004c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc9173000004c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc9173000004c'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56e1a665fc9173000004c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:35:22 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:35:22 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc9173000004c'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc9173000004d')}, :parent_id=>BSON::ObjectId('4cf56e1a665fc9173000004c'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56e1a665fc9173000004d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e1a665fc9173000004c'), :_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc9173000004d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56e1a665fc9173000004d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56e1a665fc9173000004c')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$K1EeGkrJ5ofarmRj4698v.L8VEbXWHMYSsULimu6oFROpSpdsMT1y", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56e1a665fc9173000004d'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56e1a665fc9173000004c'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:35:22 UTC, "updated_at"=>2010-11-30 21:35:22 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56e1a665fc9173000004d')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56e1a665fc9173000004d')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf56e1a665fc9173000004e')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-30 13:35:22 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 16ms (Views: 15.3ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f42665fc91769000004')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f42665fc91769000004')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56f42665fc91769000004')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f42665fc91769000004'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56f42665fc91769000004'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:40:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:40:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f42665fc91769000004'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f42665fc91769000005')}, :parent_id=>BSON::ObjectId('4cf56f42665fc91769000004'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f42665fc91769000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f42665fc91769000004'), :_id=>{"$ne"=>BSON::ObjectId('4cf56f42665fc91769000005')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56f42665fc91769000005')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56f42665fc91769000004')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$gqDUR69BrcsXaymwFueu9O3a5Ns7u7lsHyS8Xs7YUbJ5.3VBd99xS", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56f42665fc91769000005'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56f42665fc91769000004'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:40:18 UTC, "updated_at"=>2010-11-30 21:40:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f42665fc91769000005')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f42665fc91769000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f42665fc91769000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56f42665fc91769000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f42665fc91769000007'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56f42665fc91769000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:40:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:40:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f42665fc91769000007'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f42665fc91769000008')}, :parent_id=>BSON::ObjectId('4cf56f42665fc91769000007'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f42665fc91769000008')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f42665fc91769000007'), :_id=>{"$ne"=>BSON::ObjectId('4cf56f42665fc91769000008')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56f42665fc91769000008')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56f42665fc91769000007')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Tru7SaUloXDAzg0tshtcl.WwX1B17pJCN/xnosYr0yoheCoyqI82y", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56f42665fc91769000008'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56f42665fc91769000007'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:40:18 UTC, "updated_at"=>2010-11-30 21:40:18 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f42665fc91769000008')}, {})
whisper_test['nodes'].find({:name=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f42665fc91769000007'), :email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f42665fc91769000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f42665fc91769000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56f42665fc91769000009')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f42665fc91769000009'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56f42665fc91769000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:40:18 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:40:18 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f42665fc91769000009'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900000a')}, :parent_id=>BSON::ObjectId('4cf56f42665fc91769000009'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f42665fc91769000009'), :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900000a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900000a')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56f42665fc91769000009')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$6OOmsJEuJ.4bPVs63c3yDeM6VC6VdLeBl7U2CkqiVBeULkTwiMUPi", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56f43665fc9176900000a'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56f42665fc91769000009'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:40:19 UTC, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc9176900000a')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900000b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56f43665fc9176900000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:40:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900000b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900000c')}, :parent_id=>BSON::ObjectId('4cf56f43665fc9176900000b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc9176900000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56f43665fc9176900000b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$je9VX4i/CUevSMp.pFzZm.Yw/xp3ncre8c4yfEkDF4mJrsjiWfxZq", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56f43665fc9176900000c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56f43665fc9176900000b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:40:19 UTC, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc9176900000c')}, {})
whisper_test['nodes'].find({:domain=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900000d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900000d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56f43665fc9176900000d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:40:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900000d'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900000e')}, :parent_id=>BSON::ObjectId('4cf56f43665fc9176900000d'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc9176900000d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56f43665fc9176900000d')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$f5Igh8h7OJ4zg1ZXOW4f.uXzmMf6Eojp1bvXju0rwX6ugCawVhJpK", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56f43665fc9176900000e'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56f43665fc9176900000d'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:40:19 UTC, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc9176900000e')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000010'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56f43665fc91769000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:40:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000010'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000011')}, :parent_id=>BSON::ObjectId('4cf56f43665fc91769000010'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc91769000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56f43665fc91769000010')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$qOamkyGf.hAtNwbHhUnnGOQieC3f1kSW28yq35wkrfirpUE3wzFTC", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56f43665fc91769000011'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56f43665fc91769000010'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:40:19 UTC, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc91769000011')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000013')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000013'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56f43665fc91769000013'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:40:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000013'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000014')}, :parent_id=>BSON::ObjectId('4cf56f43665fc91769000013'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc91769000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56f43665fc91769000013')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$j0ZrP/nhqzqmzHMex2THM.5HQlUUPOUJRju2svF5EKpXvqJdD/9uK", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56f43665fc91769000014'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56f43665fc91769000013'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:40:19 UTC, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc91769000014')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56f43665fc91769000013')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000013'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56f43665fc91769000014')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000015'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56f43665fc91769000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:40:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000015'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000016')}, :parent_id=>BSON::ObjectId('4cf56f43665fc91769000015'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc91769000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56f43665fc91769000015')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$MQOJFG4iz0TMAaBdjJutnuI4ueun/gTXsVJ2mRCREARwsr5zg2FKO", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56f43665fc91769000016'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56f43665fc91769000015'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:40:19 UTC, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc91769000016')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56f43665fc91769000015')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000015'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56f43665fc91769000017')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000018')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000018'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56f43665fc91769000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:40:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000018'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000019')}, :parent_id=>BSON::ObjectId('4cf56f43665fc91769000018'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc91769000018'), :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000019')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc91769000019')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56f43665fc91769000018')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$hIaDVmcpUdeEmGGvbSxrfeBp3TdWgm04/70xqRTXLkucNl4B7r.d.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56f43665fc91769000019'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56f43665fc91769000018'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:40:19 UTC, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc91769000019')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56f43665fc91769000018')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc91769000018'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56f43665fc91769000019')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900001a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900001a'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56f43665fc9176900001a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:40:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900001a'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900001b')}, :parent_id=>BSON::ObjectId('4cf56f43665fc9176900001a'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc9176900001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900001b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56f43665fc9176900001a')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ZmZd2QTQ4VsVK8GCZScytexUZCp8a/76fpKIe0LpYEZve2Tha9Y6S", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56f43665fc9176900001b'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56f43665fc9176900001a'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:40:19 UTC, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc9176900001b')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56f43665fc9176900001a')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900001a'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56f43665fc9176900001c')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900001d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56f43665fc9176900001d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900001d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56f43665fc9176900001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:40:19 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:40:19 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f43665fc9176900001d'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc9176900001e')}, :parent_id=>BSON::ObjectId('4cf56f43665fc9176900001d'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f44665fc9176900001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f43665fc9176900001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc9176900001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc9176900001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56f43665fc9176900001d')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$oZ1fkiQJJQFjsox67fR7v.fRj.82p51lmeknumRHx5k7/2wj4NMja", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56f44665fc9176900001e'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56f43665fc9176900001d'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:40:20 UTC, "updated_at"=>2010-11-30 21:40:20 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f44665fc9176900001e')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc9176900001f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f44665fc9176900001f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc9176900001f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f44665fc9176900001f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56f44665fc9176900001f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:40:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:40:20 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f44665fc9176900001f'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc91769000020')}, :parent_id=>BSON::ObjectId('4cf56f44665fc9176900001f'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f44665fc91769000020')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f44665fc9176900001f'), :_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc91769000020')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc91769000020')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56f44665fc9176900001f')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Wy4XfuA29lpp7Bc4Nd1xVeC2Tv6dq/e8G8njT28i33k5k1O12OpIG", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56f44665fc91769000020'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56f44665fc9176900001f'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:40:20 UTC, "updated_at"=>2010-11-30 21:40:20 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f44665fc91769000020')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc91769000021')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f44665fc91769000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc91769000021')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f44665fc91769000021'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56f44665fc91769000021'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:40:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:40:20 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f44665fc91769000021'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc91769000022')}, :parent_id=>BSON::ObjectId('4cf56f44665fc91769000021'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f44665fc91769000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f44665fc91769000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc91769000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc91769000022')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56f44665fc91769000021')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$4ChTMX6zd0i0nwa9Xx8r9eH3HAFNa0nEQf4.db/EiTsTPhn0SGmfi", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56f44665fc91769000022'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56f44665fc91769000021'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:40:20 UTC, "updated_at"=>2010-11-30 21:40:20 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f44665fc91769000022')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56f44665fc91769000022')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf56f44665fc91769000023')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc91769000024')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f44665fc91769000024')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc91769000024')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f44665fc91769000024'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56f44665fc91769000024'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:40:20 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:40:20 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f44665fc91769000024'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc91769000025')}, :parent_id=>BSON::ObjectId('4cf56f44665fc91769000024'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56f44665fc91769000025')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f44665fc91769000024'), :_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc91769000025')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56f44665fc91769000025')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56f44665fc91769000024')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$XZX6QmnzB1P1nO/datrwU.tEDTdtSM8/pOVcXRqYwwUyiejUP2mhK", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56f44665fc91769000025'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56f44665fc91769000024'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:40:20 UTC, "updated_at"=>2010-11-30 21:40:20 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56f44665fc91769000025')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56f44665fc91769000025')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf56f44665fc91769000026')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fda665fc91795000004')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fda665fc91795000004')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56fda665fc91795000004')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fda665fc91795000004'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56fda665fc91795000004'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:42:50 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:42:50 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fda665fc91795000004'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000005')}, :parent_id=>BSON::ObjectId('4cf56fda665fc91795000004'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fda665fc91795000004'), :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000005')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000005')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56fda665fc91795000004')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$iGZcmwjvl5G2XOvuuwJTi.jM9SKpyNKKrtjJDItr2BDBBFeKdOz3m", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56fdb665fc91795000005'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56fda665fc91795000004'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:42:51 UTC, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc91795000005')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000007'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56fdb665fc91795000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:42:51 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000007'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000008')}, :parent_id=>BSON::ObjectId('4cf56fdb665fc91795000007'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000008')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc91795000007'), :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000008')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000008')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56fdb665fc91795000007')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$bXNgfquxO5V2b94X3q8jJ.9R.Krp52k1K9CBAM9X41ZG.1wkoPTUi", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56fdb665fc91795000008'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000007'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:42:51 UTC, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc91795000008')}, {})
whisper_test['nodes'].find({:name=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000007'), :email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000009')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000009'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56fdb665fc91795000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:42:51 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000009'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc9179500000a')}, :parent_id=>BSON::ObjectId('4cf56fdb665fc91795000009'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc9179500000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc91795000009'), :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc9179500000a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc9179500000a')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56fdb665fc91795000009')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$UFChis.23tyLx9nIx2tikeJPFAz3pG7u3Dh8/q66xh9d2myJKVVHq", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56fdb665fc9179500000a'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000009'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:42:51 UTC, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc9179500000a')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc9179500000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc9179500000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc9179500000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc9179500000b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56fdb665fc9179500000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:42:51 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc9179500000b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc9179500000c')}, :parent_id=>BSON::ObjectId('4cf56fdb665fc9179500000b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc9179500000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc9179500000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc9179500000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc9179500000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56fdb665fc9179500000b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$65K8nvL/ymD1WdpgB0TWE.XOevl71TKVQktpr6C4SynU366KkyMEa", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56fdb665fc9179500000c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56fdb665fc9179500000b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:42:51 UTC, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc9179500000c')}, {})
whisper_test['nodes'].find({:name=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc9179500000b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc9179500000e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc9179500000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc9179500000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc9179500000e'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56fdb665fc9179500000e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:42:51 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc9179500000e'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc9179500000f')}, :parent_id=>BSON::ObjectId('4cf56fdb665fc9179500000e'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc9179500000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc9179500000e'), :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc9179500000f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc9179500000f')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56fdb665fc9179500000e')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$N8gwudY0jz0WVPujOv6m5eMatQoN9/oRWVk46G3J5L8CjGC/y5.yW", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56fdb665fc9179500000f'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56fdb665fc9179500000e'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:42:51 UTC, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc9179500000f')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000011')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000011'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56fdb665fc91795000011'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:42:51 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000011'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000012')}, :parent_id=>BSON::ObjectId('4cf56fdb665fc91795000011'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc91795000011'), :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000012')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000012')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56fdb665fc91795000011')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$M/RzPY6bJfg/v0PVQg.WreWFv3Rabon2WJNPMzO3gWdf9dhSxiif2", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56fdb665fc91795000012'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000011'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:42:51 UTC, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc91795000012')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000014')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000014'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56fdb665fc91795000014'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:42:51 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000014'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000015')}, :parent_id=>BSON::ObjectId('4cf56fdb665fc91795000014'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc91795000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000015')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56fdb665fc91795000014')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$XPWA7CfVp3xMemKx2NKMZumN845kavhC8Bi0LLbWDmg5PKMnuEDxW", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56fdb665fc91795000015'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000014'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:42:51 UTC, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc91795000015')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56fdb665fc91795000014')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000014'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56fdb665fc91795000015')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000016')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000016'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56fdb665fc91795000016'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:42:51 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000016'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000017')}, :parent_id=>BSON::ObjectId('4cf56fdb665fc91795000016'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc91795000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56fdb665fc91795000016')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$YjoB5PNRWaFfveuI96/R5eUJL5MywJl4yi30KoXFPeJpfhlPt6Ji2", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56fdb665fc91795000017'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000016'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:42:51 UTC, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc91795000017')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56fdb665fc91795000016')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000016'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56fdb665fc91795000018')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000019')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdb665fc91795000019')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000019'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56fdb665fc91795000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:42:51 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:42:51 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000019'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc9179500001a')}, :parent_id=>BSON::ObjectId('4cf56fdb665fc91795000019'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc9179500001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdb665fc91795000019'), :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc9179500001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc9179500001a')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56fdb665fc91795000019')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$w/tjbMYaeQY/ewBOvtpIn.1T1GnbbFV8Gcr9tRVC5g0RWYcHwyKGC", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56fdc665fc9179500001a'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000019'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:42:52 UTC, "updated_at"=>2010-11-30 21:42:52 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdc665fc9179500001a')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56fdb665fc91795000019')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdb665fc91795000019'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56fdc665fc9179500001a')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc9179500001b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc9179500001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc9179500001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc9179500001b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56fdc665fc9179500001b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:42:52 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:42:52 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc9179500001b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc9179500001c')}, :parent_id=>BSON::ObjectId('4cf56fdc665fc9179500001b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc9179500001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdc665fc9179500001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc9179500001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc9179500001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56fdc665fc9179500001b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$zAtR2RiX0d0OhjXhmp1QF.vAG8mbvkE79LLlnJcyx.CJOVKTkYWMK", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56fdc665fc9179500001c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56fdc665fc9179500001b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:42:52 UTC, "updated_at"=>2010-11-30 21:42:52 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdc665fc9179500001c')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56fdc665fc9179500001b')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc9179500001b'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56fdc665fc9179500001d')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc9179500001e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc9179500001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc9179500001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc9179500001e'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56fdc665fc9179500001e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:42:52 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:42:52 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc9179500001e'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc9179500001f')}, :parent_id=>BSON::ObjectId('4cf56fdc665fc9179500001e'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc9179500001f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdc665fc9179500001e'), :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc9179500001f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc9179500001f')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56fdc665fc9179500001e')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$cV67hfKzNDy9eNGLtnWQRunKbUtBvxt381A5A5KuEtQpvY8JDJQFa", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56fdc665fc9179500001f'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56fdc665fc9179500001e'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:42:52 UTC, "updated_at"=>2010-11-30 21:42:52 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdc665fc9179500001f')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000020')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000020')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000020')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000020'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56fdc665fc91795000020'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:42:52 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:42:52 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000020'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000021')}, :parent_id=>BSON::ObjectId('4cf56fdc665fc91795000020'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdc665fc91795000020'), :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000021')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000021')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56fdc665fc91795000020')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Rw4HmevndFuNDXw8tmbkFutdlRO91Z15YcOwJ.YoUTYx0gqzbJb8O", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56fdc665fc91795000021'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000020'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:42:52 UTC, "updated_at"=>2010-11-30 21:42:52 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdc665fc91795000021')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000022')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000022'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56fdc665fc91795000022'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:42:52 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:42:52 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000022'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000023')}, :parent_id=>BSON::ObjectId('4cf56fdc665fc91795000022'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000023')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdc665fc91795000022'), :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000023')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000023')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56fdc665fc91795000022')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$RZD45jW5RjhR2ZB6vWbjD.Il82lyvMJniNfwauDSt36BofWd7XI4u", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56fdc665fc91795000023'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000022'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:42:52 UTC, "updated_at"=>2010-11-30 21:42:52 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdc665fc91795000023')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56fdc665fc91795000023')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf56fdc665fc91795000024')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000025')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000025')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000025')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000025'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56fdc665fc91795000025'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:42:52 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:42:52 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000025'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000026')}, :parent_id=>BSON::ObjectId('4cf56fdc665fc91795000025'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000026')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdc665fc91795000025'), :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000026')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56fdc665fc91795000026')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56fdc665fc91795000025')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$c3VhxkxDKH.RYhhgp1HO0erVvRTCz2BTyq07/eCLtsTB9.OYNIBaC", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56fdc665fc91795000026'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56fdc665fc91795000025'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:42:52 UTC, "updated_at"=>2010-11-30 21:42:52 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56fdc665fc91795000026')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56fdc665fc91795000026')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf56fdc665fc91795000027')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Rendered sites/show.html.haml within layouts/application (2.1ms)
Completed 200 OK in 16ms (Views: 12.2ms)
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.5ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 9ms (Views: 4.9ms)
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.3ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1008
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 7ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1012
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1013
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 7ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 3ms
  Processing by SitesController#index as HTML
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 63ms (Views: 4.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.8ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1027
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1029
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1031
Completed 302 Found in 4ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1035
Completed 302 Found in 7ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1037
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1039
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 7ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 4ms
Rendered pages/_form.html.haml (12.3ms)
Rendered pages/_form.html.haml (5.6ms)
Rendered sites/_form.html.haml (10.1ms)
Rendered sites/_form.html.haml (4.6ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000007'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000007')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000007')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000009')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000009'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b400000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000c')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b400000b')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf56ff1665fc917b400000c'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400000b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000d')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000d')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:71252230 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000d')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b400000b')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf56ff1665fc917b400000d'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400000b'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000e')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000e')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:94511990 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000e')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b400000b')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf56ff1665fc917b400000e'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400000b'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000d')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000e')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000c')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000d')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56ff1665fc917b400000d')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000e')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56ff1665fc917b400000e')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000c')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56ff1665fc917b400000c')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b400000b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b400000c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000c')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b400000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56ff1665fc917b400000e')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b400000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000e')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400000f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b400000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b400000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400000f')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000010'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000011')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000010'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b4000010')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000010'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000010')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000012')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000012'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000013')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000012'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b4000012')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000013'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000012'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000013')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000014')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000013'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b4000012'), BSON::ObjectId('4cf56ff1665fc917b4000013')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000014'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000013'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000014')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000012')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000013')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000014')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000014')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000015'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000016')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000015'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b4000015')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000015'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000017')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000016'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b4000015'), BSON::ObjectId('4cf56ff1665fc917b4000016')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000017'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000016'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000017')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000015')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000016')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000017')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000017')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000018')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000018'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000018')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000018')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000018')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000019')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000019')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000019'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001a')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:95416430 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf56ff1665fc917b400001a'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001b')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001a'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001b')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56ff1665fc917b400001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b400001a')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf56ff1665fc917b400001b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001a'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001c')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001b'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b400001a'), BSON::ObjectId('4cf56ff1665fc917b400001b')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf56ff1665fc917b400001c'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001b'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001b')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf56ff1665fc917b400001b')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf56ff1665fc917b400001a')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000019')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000019')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b400001a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b400001b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b400001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001c')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b400001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001e')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b400001d')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf56ff1665fc917b400001e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001d'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001f')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000020')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001d'), :path_fragment=>"niceface55"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000020')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000020')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000020')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:95710880 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000020')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000020')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b400001d')], "name"=>"NiceFace55", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000020'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400001d'), "path_fragment"=>"niceface55", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000020')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b400001d')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b400001e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400001e')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56ff1665fc917b4000020')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000020')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000020')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000021')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000021')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000021'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000021'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000022')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000022')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000022'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b4000021')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000022'), "_type"=>"Site", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000021'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000022')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000023')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000021')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000021')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf56ff1665fc917b4000022')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000022')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400002c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400002c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400002c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400002c'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b400002c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400002c'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400002d')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400002c'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400002d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400002c'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400002d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400002d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b400002c')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Wmo8VnodJlC8baqeCWZb6ebZKwzOwTqoJwjMIwjTtw7CladY.mp2a", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56ff1665fc917b400002d'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400002c'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400002d')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400002f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400002f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b400002f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400002f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b400002f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400002f'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000030')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b400002f'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000030')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b400002f'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000030')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000030')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b400002f')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$4O5Nuwqzn2vGjj61oDRuMul3deJqVAHSXalAbizS4OkJzy/7GhdlO", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000030'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400002f'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000030')}, {})
whisper_test['nodes'].find({:name=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b400002f'), :email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000031')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000031')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000031')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000031'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000031'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000031'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000032')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000031'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000032')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000031'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000032')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000032')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b4000031')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$E2QDz6hu7LJY1VGZo5V4Ru/tLmgPrgPEjso5/CuSVXexaqtTAnhay", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000032'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000031'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:43:13 UTC, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000032')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000033')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000033')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff1665fc917b4000033')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000033'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff1665fc917b4000033'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:13 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:13 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000033'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000034')}, :parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000033'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000034')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff1665fc917b4000033'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000034')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000034')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff1665fc917b4000033')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$AWiFaLubOWgX3Qyhy2NXH.m4Ef6eE0WuRwqCj7d0g0aEv2ORHihgW", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56ff2665fc917b4000034'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000033'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:43:14 UTC, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000034')}, {})
whisper_test['nodes'].find({:name=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff1665fc917b4000033'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000036')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000036')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000036')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000036'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff2665fc917b4000036'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000036'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000037')}, :parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000036'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000037')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000036'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000037')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000037')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff2665fc917b4000036')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$7fi2UD/DIWMnXaSugBdIIevks.nVywZ62Zp4JMIEqRF4gG31qJ7B6", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56ff2665fc917b4000037'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000036'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:43:14 UTC, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000037')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000039')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000039')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000039')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000039'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff2665fc917b4000039'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000039'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b400003a')}, :parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000039'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b400003a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000039'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b400003a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b400003a')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff2665fc917b4000039')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$k73dRB0xJjblRXA7iYuAuuwvhm5PRZ262UhT1c5meMNIz8VEsN8F6", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56ff2665fc917b400003a'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000039'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:43:14 UTC, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b400003a')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b400003c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b400003c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b400003c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b400003c'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff2665fc917b400003c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b400003c'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b400003d')}, :parent_id=>BSON::ObjectId('4cf56ff2665fc917b400003c'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b400003d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b400003c'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b400003d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b400003d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff2665fc917b400003c')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$JsgAu67ec4N5pgii5a.vP.iIwQu6ACoTfDkz7I2vpEcJ0ZWIPaQpS", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56ff2665fc917b400003d'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56ff2665fc917b400003c'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:43:14 UTC, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b400003d')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56ff2665fc917b400003c')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b400003c'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56ff2665fc917b400003d')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b400003e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b400003e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b400003e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b400003e'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff2665fc917b400003e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b400003e'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b400003f')}, :parent_id=>BSON::ObjectId('4cf56ff2665fc917b400003e'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b400003f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b400003e'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b400003f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b400003f')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff2665fc917b400003e')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$h0LLbGbRteAjNZchX4GVUuwyorKN9uMAmZfpEKtl4aeYZVAZpfyoy", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56ff2665fc917b400003f'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56ff2665fc917b400003e'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:43:14 UTC, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b400003f')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56ff2665fc917b400003e')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b400003e'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56ff2665fc917b4000040')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000041')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000041')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000041')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000041'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff2665fc917b4000041'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000041'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000042')}, :parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000041'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000042')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000041'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000042')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000042')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff2665fc917b4000041')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$AEhMvTFTBTzgJbFG14zGOeSnduHQiuunuMmNvvGcmFJRRPunxxcp6", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56ff2665fc917b4000042'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000041'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:43:14 UTC, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000042')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56ff2665fc917b4000041')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000041'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56ff2665fc917b4000042')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000043')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000043')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000043')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000043'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff2665fc917b4000043'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000043'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000044')}, :parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000043'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000044')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000043'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000044')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000044')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff2665fc917b4000043')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$.Qg8p1YAmAONS.L7OHGp1.EGhmxYOITr9uQwLINzTOIKFtTUih70C", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56ff2665fc917b4000044'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000043'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:43:14 UTC, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000044')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf56ff2665fc917b4000043')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000043'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf56ff2665fc917b4000045')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000046')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000046')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000046')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000046'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff2665fc917b4000046'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000046'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000047')}, :parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000046'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000047')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000046'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000047')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000047')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff2665fc917b4000046')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$IpVsuiZ48qm6haMQaEm3PurHypboQwYNGLT/3IVhoG14pCv2EZtDS", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56ff2665fc917b4000047'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000046'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:43:14 UTC, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000047')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000048')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000048')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff2665fc917b4000048')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000048'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff2665fc917b4000048'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000048'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff3665fc917b4000049')}, :parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000048'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff3665fc917b4000049')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff2665fc917b4000048'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff3665fc917b4000049')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff3665fc917b4000049')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff2665fc917b4000048')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$by1RFOV299/QqFmtcOMz3.H3DSuoWzZD/stGocEgej3v1O54dkfHy", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56ff3665fc917b4000049'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56ff2665fc917b4000048'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:43:15 UTC, "updated_at"=>2010-11-30 21:43:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff3665fc917b4000049')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff3665fc917b400004a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff3665fc917b400004a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff3665fc917b400004a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff3665fc917b400004a'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff3665fc917b400004a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff3665fc917b400004a'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff3665fc917b400004b')}, :parent_id=>BSON::ObjectId('4cf56ff3665fc917b400004a'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff3665fc917b400004b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff3665fc917b400004a'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff3665fc917b400004b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff3665fc917b400004b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff3665fc917b400004a')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$gs1.v0uckB4b8VJhbsMYOOoQttz/8jGTRma5JEsyAG3gmgH3ClRVO", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56ff3665fc917b400004b'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56ff3665fc917b400004a'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:43:15 UTC, "updated_at"=>2010-11-30 21:43:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff3665fc917b400004b')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56ff3665fc917b400004b')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf56ff3665fc917b400004c')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff3665fc917b400004d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff3665fc917b400004d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff3665fc917b400004d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff3665fc917b400004d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf56ff3665fc917b400004d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:43:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:43:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff3665fc917b400004d'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf56ff3665fc917b400004e')}, :parent_id=>BSON::ObjectId('4cf56ff3665fc917b400004d'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf56ff3665fc917b400004e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff3665fc917b400004d'), :_id=>{"$ne"=>BSON::ObjectId('4cf56ff3665fc917b400004e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf56ff3665fc917b400004e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf56ff3665fc917b400004d')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$shXb5W73dpp91brzwWt9DuRkmaH.HJqNGX5XUc5Wx7Tj/iJhfRllO", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf56ff3665fc917b400004e'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf56ff3665fc917b400004d'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:43:15 UTC, "updated_at"=>2010-11-30 21:43:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf56ff3665fc917b400004e')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf56ff3665fc917b400004e')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf56ff3665fc917b400004f')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-30 13:43:15 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 16ms (Views: 15.3ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Rendered sites/show.html.haml within layouts/application (2.0ms)
Completed 200 OK in 15ms (Views: 11.7ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Rendered sites/show.html.haml within layouts/application (2.0ms)
Completed 200 OK in 16ms (Views: 12.1ms)
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.3ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1008
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 7ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1012
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1013
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 6ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 3ms
  Processing by SitesController#index as HTML
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 61ms (Views: 4.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.8ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1027
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1029
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1031
Completed 302 Found in 4ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1035
Completed 302 Found in 7ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1037
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1039
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 7ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 4ms
Rendered pages/_form.html.haml (12.2ms)
Rendered pages/_form.html.haml (5.5ms)
Rendered sites/_form.html.haml (10.1ms)
Rendered sites/_form.html.haml (4.6ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000007'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000007')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000007')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000009')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000009'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711e665fc9181f00000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000c')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f00000b')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf5711e665fc9181f00000c'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00000b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000d')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000d')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:67488580 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000d')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f00000b')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf5711e665fc9181f00000d'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00000b'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000e')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000e')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:91114160 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000e')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f00000b')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf5711e665fc9181f00000e'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00000b'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000d')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000e')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000c')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000d')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf5711e665fc9181f00000d')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000e')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf5711e665fc9181f00000e')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000c')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf5711e665fc9181f00000c')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f00000b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f00000c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000c')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f00000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf5711e665fc9181f00000e')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f00000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000e')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00000f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711e665fc9181f00000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f00000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00000f')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000010'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000011')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f000010'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f000010')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000010'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000010')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000012')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000012'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000013')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f000012'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f000012')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000013'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000012'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000013')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000014')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f000013'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f000012'), BSON::ObjectId('4cf5711e665fc9181f000013')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000014'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000013'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000014')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000012')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000013')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000014')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000014')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000015'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000016')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f000015'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f000015')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000015'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000017')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f000016'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f000015'), BSON::ObjectId('4cf5711e665fc9181f000016')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000017'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000016'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000017')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000015')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000016')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000017')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000017')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000018')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000018'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000018')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000018')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000018')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000019')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000019')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000019'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001a')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:91637880 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf5711e665fc9181f00001a'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001b')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001a'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001b')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf5711e665fc9181f00001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f00001a')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf5711e665fc9181f00001b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001a'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001c')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001b'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f00001a'), BSON::ObjectId('4cf5711e665fc9181f00001b')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf5711e665fc9181f00001c'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001b'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001b')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf5711e665fc9181f00001b')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf5711e665fc9181f00001a')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000019')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000019')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f00001a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f00001b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f00001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001c')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711e665fc9181f00001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001e')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f00001d')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf5711e665fc9181f00001e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001d'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001f')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000020')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001d'), :path_fragment=>"niceface55"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000020')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000020')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000020')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:91905040 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000020')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000020')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f00001d')], "name"=>"NiceFace55", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000020'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00001d'), "path_fragment"=>"niceface55", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000020')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f00001d')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f00001e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00001e')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf5711e665fc9181f000020')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000020')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000020')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000021')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000021')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000021'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000021'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000022')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000022')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000022'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f000021')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000022'), "_type"=>"Site", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000021'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000022')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000023')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000021')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000021')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf5711e665fc9181f000022')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000022')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00002c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00002c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00002c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00002c'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711e665fc9181f00002c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00002c'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00002d')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00002c'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00002d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00002c'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00002d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00002d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f00002c')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$naBJ.Rpy0MmbCPJiaNr8fexNAVu08jcyW/rtbdeqQq4OozCIeliBe", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5711e665fc9181f00002d'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00002c'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00002d')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00002f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00002f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f00002f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00002f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711e665fc9181f00002f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00002f'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000030')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f00002f'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000030')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f00002f'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000030')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000030')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f00002f')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$8UXER.Jjr7UL8tsDobmjBOJWiRMD.bu.BQNGea18iJWWpccIYZaKi", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000030'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00002f'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:48:14 UTC, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000030')}, {})
whisper_test['nodes'].find({:name=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f00002f'), :email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000031')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000031')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711e665fc9181f000031')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000031'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711e665fc9181f000031'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:14 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:14 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000031'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000032')}, :parent_id=>BSON::ObjectId('4cf5711e665fc9181f000031'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000032')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711e665fc9181f000031'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000032')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000032')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711e665fc9181f000031')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$nBggRQgG.r4wmrpkKv5qx.Ix5Y00m87NNeQXkndiJxelvP0H2PLMq", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5711f665fc9181f000032'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5711e665fc9181f000031'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:48:15 UTC, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f000032')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000033')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000033')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000033')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000033'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711f665fc9181f000033'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000033'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000034')}, :parent_id=>BSON::ObjectId('4cf5711f665fc9181f000033'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000034')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f000033'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000034')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000034')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711f665fc9181f000033')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Tn9EsCaMu8PABoHBGrHWcuuK3djo0T9cQI2rkAb4feKTFC4V35pMG", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5711f665fc9181f000034'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000033'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:48:15 UTC, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f000034')}, {})
whisper_test['nodes'].find({:name=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000033'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000036')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000036')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000036')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000036'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711f665fc9181f000036'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000036'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000037')}, :parent_id=>BSON::ObjectId('4cf5711f665fc9181f000036'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000037')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f000036'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000037')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000037')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711f665fc9181f000036')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$EYq0yTraqjjSW8c.1D.Bi.pzYBvpAn8Cg8EwIH18Me94v4E4s2JVe", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5711f665fc9181f000037'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000036'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:48:15 UTC, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f000037')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000039')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000039')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000039')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000039'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711f665fc9181f000039'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000039'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f00003a')}, :parent_id=>BSON::ObjectId('4cf5711f665fc9181f000039'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f00003a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f000039'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f00003a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f00003a')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711f665fc9181f000039')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$34VojtSCeiih.cKvvF9fVuJt/Mt8xpOEL9BfImeniNrQ61kbPR9tK", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5711f665fc9181f00003a'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000039'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:48:15 UTC, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f00003a')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f00003c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f00003c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f00003c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f00003c'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711f665fc9181f00003c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f00003c'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f00003d')}, :parent_id=>BSON::ObjectId('4cf5711f665fc9181f00003c'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f00003d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f00003c'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f00003d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f00003d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711f665fc9181f00003c')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Eb/mZUrSWse/kPr3Zq8lgeIW638YnuPW8xkkDKKfcBUTlf0iV7gCi", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5711f665fc9181f00003d'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5711f665fc9181f00003c'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:48:15 UTC, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f00003d')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf5711f665fc9181f00003c')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f00003c'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf5711f665fc9181f00003d')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f00003e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f00003e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f00003e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f00003e'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711f665fc9181f00003e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f00003e'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f00003f')}, :parent_id=>BSON::ObjectId('4cf5711f665fc9181f00003e'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f00003f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f00003e'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f00003f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f00003f')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711f665fc9181f00003e')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$8VFHmPKRiHoGzQLRx3IWY.Wi4NJ151qowyDgj2Q8c4MNwwNsOxEiS", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5711f665fc9181f00003f'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5711f665fc9181f00003e'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:48:15 UTC, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f00003f')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf5711f665fc9181f00003e')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f00003e'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf5711f665fc9181f000040')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000041')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000041')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000041')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000041'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711f665fc9181f000041'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000041'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000042')}, :parent_id=>BSON::ObjectId('4cf5711f665fc9181f000041'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000042')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f000041'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000042')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000042')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711f665fc9181f000041')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$0YPAm0vwKL.h9Dt6HMOuEOLFQz3xMMpTgOYMFf8XhCeyAYM1ZZikG", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5711f665fc9181f000042'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000041'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:48:15 UTC, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f000042')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf5711f665fc9181f000041')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000041'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf5711f665fc9181f000042')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000043')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000043')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000043')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000043'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711f665fc9181f000043'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000043'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000044')}, :parent_id=>BSON::ObjectId('4cf5711f665fc9181f000043'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000044')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f000043'), :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000044')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000044')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711f665fc9181f000043')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$mf8fD45qTozyAHWCY75kgub0PJ2oBsbx9JZpJi1TYu3nj5UlRj/Se", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf5711f665fc9181f000044'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000043'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:48:15 UTC, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f000044')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf5711f665fc9181f000043')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000043'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf5711f665fc9181f000045')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000046')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000046')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf5711f665fc9181f000046')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000046'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf5711f665fc9181f000046'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:15 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:15 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000046'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f000047')}, :parent_id=>BSON::ObjectId('4cf5711f665fc9181f000046'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf57120665fc9181f000047')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf5711f665fc9181f000046'), :_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f000047')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f000047')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf5711f665fc9181f000046')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$fHBuyEmFudIQN47QOvYCWeelFstZE/rlRPfohkym3z1pEzVzEPHVa", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf57120665fc9181f000047'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf5711f665fc9181f000046'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:48:16 UTC, "updated_at"=>2010-11-30 21:48:16 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf57120665fc9181f000047')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f000048')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf57120665fc9181f000048')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f000048')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf57120665fc9181f000048'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf57120665fc9181f000048'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:16 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf57120665fc9181f000048'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f000049')}, :parent_id=>BSON::ObjectId('4cf57120665fc9181f000048'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf57120665fc9181f000049')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf57120665fc9181f000048'), :_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f000049')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f000049')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf57120665fc9181f000048')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$91c7FFbauC3EmCLPojjlmecNlw0745fH2hBND6hXLTqCfyBfoMw7i", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf57120665fc9181f000049'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf57120665fc9181f000048'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:48:16 UTC, "updated_at"=>2010-11-30 21:48:16 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf57120665fc9181f000049')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f00004a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf57120665fc9181f00004a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f00004a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf57120665fc9181f00004a'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf57120665fc9181f00004a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:16 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf57120665fc9181f00004a'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f00004b')}, :parent_id=>BSON::ObjectId('4cf57120665fc9181f00004a'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf57120665fc9181f00004b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf57120665fc9181f00004a'), :_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f00004b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f00004b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf57120665fc9181f00004a')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$7fnLXyfTymzUHNQ.4KVRcurEKVNvLs39W5rRae4Y7lU3tPQ.Q4zvK", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf57120665fc9181f00004b'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf57120665fc9181f00004a'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:48:16 UTC, "updated_at"=>2010-11-30 21:48:16 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf57120665fc9181f00004b')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf57120665fc9181f00004b')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf57120665fc9181f00004c')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f00004d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf57120665fc9181f00004d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f00004d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf57120665fc9181f00004d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf57120665fc9181f00004d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:48:16 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:48:16 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf57120665fc9181f00004d'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f00004e')}, :parent_id=>BSON::ObjectId('4cf57120665fc9181f00004d'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf57120665fc9181f00004e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf57120665fc9181f00004d'), :_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f00004e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf57120665fc9181f00004e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf57120665fc9181f00004d')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$o79rq83UyYfeaOFMdGT23uaNM.VqHKGHz5YfX80JIw3ET/GnXcL6K", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf57120665fc9181f00004e'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf57120665fc9181f00004d'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:48:16 UTC, "updated_at"=>2010-11-30 21:48:16 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf57120665fc9181f00004e')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf57120665fc9181f00004e')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf57120665fc9181f00004f')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-30 13:48:16 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 16ms (Views: 15.3ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Rendered sites/show.html.haml within layouts/application (2.1ms)
Completed 200 OK in 16ms (Views: 12.1ms)
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.3ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 13ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1008
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 7ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1012
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1013
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 6ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 3ms
  Processing by SitesController#index as HTML
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 62ms (Views: 4.2ms)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.8ms)
  Processing by SitesController#new as HTML
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.2ms)
  Processing by SitesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1027
Completed 302 Found in 7ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1029
Completed 302 Found in 6ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1031
Completed 302 Found in 4ms
  Processing by SitesController#create as HTML
  Parameters: {"site"=>{}}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1035
Completed 302 Found in 7ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1037
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"site"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites/1039
Completed 302 Found in 4ms
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by SitesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.5ms)
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 7ms
  Processing by SitesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/sites
Completed 302 Found in 4ms
Rendered pages/_form.html.haml (12.2ms)
Rendered pages/_form.html.haml (5.5ms)
Rendered sites/_form.html.haml (10.0ms)
Rendered sites/_form.html.haml (4.5ms)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000007'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a2665fc91852000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000007')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000007')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000009')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000009'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a2665fc91852000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000009')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000009')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200000b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a2665fc9185200000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000c')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc9185200000b')], "name"=>"niceface", "_id"=>BSON::ObjectId('4cf571a2665fc9185200000c'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf571a2665fc9185200000b'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:50:26 UTC, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200000c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000d')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200000d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000d')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:76533740 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000d')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc9185200000b')], "name"=>"niceface-3", "_id"=>BSON::ObjectId('4cf571a2665fc9185200000d'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf571a2665fc9185200000b'), "path_fragment"=>"niceface-dash-3", "created_at"=>2010-11-30 21:50:26 UTC, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200000d')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000e')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000e')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:99893470 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000e')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc9185200000b')], "name"=>"niceface423", "_id"=>BSON::ObjectId('4cf571a2665fc9185200000e'), "_type"=>"Page", "parent_id"=>BSON::ObjectId('4cf571a2665fc9185200000b'), "path_fragment"=>"niceface423", "created_at"=>2010-11-30 21:50:26 UTC, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>2}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200000e')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000d')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000e')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000c')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000d')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :path_fragment=>"niceface-dash-3"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf571a2665fc9185200000d')}, {"$set"=>{"position"=>0}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000e')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :path_fragment=>"niceface423"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf571a2665fc9185200000e')}, {"$set"=>{"position"=>1}})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000c')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf571a2665fc9185200000c')}, {"$set"=>{"position"=>2}})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200000b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc9185200000b')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc9185200000c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000c')}, :position=>{"$gt"=>2}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc9185200000d')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf571a2665fc9185200000e')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc9185200000e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000e')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200000f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a2665fc9185200000f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc9185200000f')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200000f')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000010')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000010')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000010')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000010'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a2665fc91852000010'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000011')}, :parent_id=>BSON::ObjectId('4cf571a2665fc91852000010'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000011')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc91852000010')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf571a2665fc91852000011'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf571a2665fc91852000010'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:50:26 UTC, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000011')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000010')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000010')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000010')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000011')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000010'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000011')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000012')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000012')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000012'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a2665fc91852000012'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000012')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000013')}, :parent_id=>BSON::ObjectId('4cf571a2665fc91852000012'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000013')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000013')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000013')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc91852000012')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf571a2665fc91852000013'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf571a2665fc91852000012'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:50:26 UTC, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000013')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000014')}, :parent_id=>BSON::ObjectId('4cf571a2665fc91852000013'), :path_fragment=>"cool"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000014')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc91852000012'), BSON::ObjectId('4cf571a2665fc91852000013')], "name"=>"cool", "_id"=>BSON::ObjectId('4cf571a2665fc91852000014'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf571a2665fc91852000013'), "path_fragment"=>"cool", "created_at"=>2010-11-30 21:50:26 UTC, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000014')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000013')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000012')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000012')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000013')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000012'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000013')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000014')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000013'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000014')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000015')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000015'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a2665fc91852000015'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000015')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000016')}, :parent_id=>BSON::ObjectId('4cf571a2665fc91852000015'), :path_fragment=>"cool-beans"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000016')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc91852000015')], "name"=>"Cool Beans", "_id"=>BSON::ObjectId('4cf571a2665fc91852000016'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf571a2665fc91852000015'), "path_fragment"=>"cool-beans", "created_at"=>2010-11-30 21:50:26 UTC, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000016')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000017')}, :parent_id=>BSON::ObjectId('4cf571a2665fc91852000016'), :path_fragment=>"cool-hand-luke"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc91852000015'), BSON::ObjectId('4cf571a2665fc91852000016')], "name"=>"Cool Hand Luke", "_id"=>BSON::ObjectId('4cf571a2665fc91852000017'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf571a2665fc91852000016'), "path_fragment"=>"cool-hand-luke", "created_at"=>2010-11-30 21:50:26 UTC, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000017')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000016')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000015')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000015')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000016')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000015'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000016')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000017')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000017')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000018')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000018')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000018')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000018'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a2665fc91852000018'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000018')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000018')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000018')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000019')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000019')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000019'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a2665fc91852000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001a')}, :parent_id=>nil, :path_fragment=>"nice"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001a')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:100688940 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001a')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"nice", "_id"=>BSON::ObjectId('4cf571a2665fc9185200001a'), "_type"=>"Node", "path_fragment"=>"nice", "created_at"=>2010-11-30 21:50:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>1}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001a')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001b')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200001a'), :path_fragment=>"cuberply"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001b')}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf571a2665fc9185200001a')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc9185200001a')], "name"=>"cuberply", "_id"=>BSON::ObjectId('4cf571a2665fc9185200001b'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001a'), "path_fragment"=>"cuberply", "created_at"=>2010-11-30 21:50:26 UTC, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200001b')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001b')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001c')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200001b'), :path_fragment=>"umberton-knicklesburn"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc9185200001a'), BSON::ObjectId('4cf571a2665fc9185200001b')], "name"=>"Umberton Knicklesburn", "_id"=>BSON::ObjectId('4cf571a2665fc9185200001c'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001b'), "path_fragment"=>"umberton-knicklesburn", "created_at"=>2010-11-30 21:50:26 UTC, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200001c')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001a')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001b')}, {}).limit(-1).sort([[:position, :asc]])
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf571a2665fc9185200001b')}, {}).limit(-1)
whisper_test['nodes'].find({:_id=>BSON::ObjectId('4cf571a2665fc9185200001a')}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000019')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000019')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc9185200001a')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001a')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc9185200001b')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200001a'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001b')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc9185200001c')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001c')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a2665fc9185200001d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001e')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc9185200001d')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf571a2665fc9185200001e'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001d'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:50:26 UTC, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200001e')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001f')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200001d'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001d')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000020')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200001d'), :path_fragment=>"niceface55"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000020')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000020')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000020')}}, {})
whisper_test['$cmd'].find({"group"=>{"ns"=>"nodes", "$reduce"=><BSON::Code:100983370 @data="function(obj, prev) { if (prev.max == 'start') { prev.max = obj.position; } if (prev.max < obj.position) { prev.max = obj.position; } }" @scope="{}">, "cond"=>{:parent_id=>BSON::ObjectId('4cf571a2665fc9185200001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000020')}}, "initial"=>{:max=>"start"}}}, {}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000020')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc9185200001d')], "name"=>"NiceFace55", "_id"=>BSON::ObjectId('4cf571a2665fc91852000020'), "_type"=>"Node", "parent_id"=>BSON::ObjectId('4cf571a2665fc9185200001d'), "path_fragment"=>"niceface55", "created_at"=>2010-11-30 21:50:26 UTC, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>1}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000020')}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc9185200001d')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001d')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc9185200001e')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200001e')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf571a2665fc91852000020')}, {"$inc"=>{:position=>-1}})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000020')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200001d'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000020')}, :position=>{"$gt"=>1}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000021')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000021')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000021'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a2665fc91852000021'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000022')}, :parent_id=>BSON::ObjectId('4cf571a2665fc91852000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000022')}}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000022'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc91852000021')], "name"=>"NiceFace", "_id"=>BSON::ObjectId('4cf571a2665fc91852000022'), "_type"=>"Site", "parent_id"=>BSON::ObjectId('4cf571a2665fc91852000021'), "path_fragment"=>"niceface", "created_at"=>2010-11-30 21:50:26 UTC, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000022')}, {})
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc91852000021')}, {}).sort([[:position, :asc]])
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000023')}, :parent_id=>BSON::ObjectId('4cf571a2665fc91852000021'), :path_fragment=>"niceface"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000021')})
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000021')}, :position=>{"$gt"=>0}}, {})
MONGODB whisper_test['nodes'].remove({:_id=>BSON::ObjectId('4cf571a2665fc91852000022')})
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc91852000021'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc91852000022')}, :position=>{"$gt"=>0}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200002c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200002c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200002c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200002c'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a2665fc9185200002c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200002c'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200002d')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200002c'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200002d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200002c'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200002d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200002d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc9185200002c')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$I/MrKutKDZ1bbdisVM4BBO52PE0oQHC2zJdfIVd9..vFRVkcioJ2O", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf571a2665fc9185200002d'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf571a2665fc9185200002c'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:50:26 UTC, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200002d')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200002f')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200002f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a2665fc9185200002f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200002f'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a2665fc9185200002f'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:26 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:26 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200002f'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000030')}, :parent_id=>BSON::ObjectId('4cf571a2665fc9185200002f'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000030')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a2665fc9185200002f'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000030')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000030')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a2665fc9185200002f')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Y7u3N0VHKx1HYaCdkStcMeqkm1ahTHys0pQnC.TS7KUDFg7PDNRFS", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf571a3665fc91852000030'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf571a2665fc9185200002f'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:50:27 UTC, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc91852000030')}, {})
whisper_test['nodes'].find({:name=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a2665fc9185200002f'), :email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000031')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000031')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000031')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000031'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a3665fc91852000031'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:27 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000031'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000032')}, :parent_id=>BSON::ObjectId('4cf571a3665fc91852000031'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000032')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc91852000031'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000032')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000032')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a3665fc91852000031')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$TcL./C39R.vd/sTfiSSgYO2xuA7V8SbQaw3iEg/NmVbMAxM63cEGS", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf571a3665fc91852000032'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf571a3665fc91852000031'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:50:27 UTC, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc91852000032')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000033')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000033')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000033')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000033'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a3665fc91852000033'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:27 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000033'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000034')}, :parent_id=>BSON::ObjectId('4cf571a3665fc91852000033'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000034')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc91852000033'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000034')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000034')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a3665fc91852000033')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$4ebforMFMCGc2L9F5MlXM.mfJEudihKSuOyju/RjTWwm35zQSVeIG", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf571a3665fc91852000034'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf571a3665fc91852000033'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:50:27 UTC, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc91852000034')}, {})
whisper_test['nodes'].find({:name=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000033'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000036')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000036')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000036')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000036'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a3665fc91852000036'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:27 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000036'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000037')}, :parent_id=>BSON::ObjectId('4cf571a3665fc91852000036'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000037')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc91852000036'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000037')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000037')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a3665fc91852000036')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$apFaRzvsXqpGqNN8AodJcOYKSCzSXlPhiZSTnQjxxEMotawhugMC2", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf571a3665fc91852000037'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf571a3665fc91852000036'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:50:27 UTC, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc91852000037')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000039')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000039')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000039')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000039'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a3665fc91852000039'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:27 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000039'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc9185200003a')}, :parent_id=>BSON::ObjectId('4cf571a3665fc91852000039'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc9185200003a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc91852000039'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc9185200003a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc9185200003a')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a3665fc91852000039')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$qbDNOn1VN7CFGqieS.vs0OUutv0QKIKAwhXpwcuOjAlE9S95bBm9.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf571a3665fc9185200003a'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf571a3665fc91852000039'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:50:27 UTC, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc9185200003a')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc9185200003c')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc9185200003c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc9185200003c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc9185200003c'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a3665fc9185200003c'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:27 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc9185200003c'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc9185200003d')}, :parent_id=>BSON::ObjectId('4cf571a3665fc9185200003c'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc9185200003d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc9185200003c'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc9185200003d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc9185200003d')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a3665fc9185200003c')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$kga.tv/xJX.YKh0dnCX7ZOy2wnp.5.j.7zsYoOaUOGLJW86HPeSJW", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf571a3665fc9185200003d'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf571a3665fc9185200003c'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:50:27 UTC, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc9185200003d')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf571a3665fc9185200003c')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc9185200003c'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf571a3665fc9185200003d')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc9185200003e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc9185200003e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc9185200003e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc9185200003e'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a3665fc9185200003e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:27 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc9185200003e'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc9185200003f')}, :parent_id=>BSON::ObjectId('4cf571a3665fc9185200003e'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc9185200003f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc9185200003e'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc9185200003f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc9185200003f')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a3665fc9185200003e')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$pwE.hZS0HnMGT3BB8eq1m.psk3LoZg9KJxKcxfYS0OU2kZYG9VObK", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf571a3665fc9185200003f'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf571a3665fc9185200003e'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:50:27 UTC, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc9185200003f')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf571a3665fc9185200003e')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc9185200003e'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf571a3665fc91852000040')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000041')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000041')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000041')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000041'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a3665fc91852000041'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:27 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000041'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000042')}, :parent_id=>BSON::ObjectId('4cf571a3665fc91852000041'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000042')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc91852000041'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000042')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000042')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a3665fc91852000041')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$hWpvLSY53Rn6gW1xx7hbYujCBETbFRprHUOnHe0LdqPIQuqNucyj2", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf571a3665fc91852000042'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf571a3665fc91852000041'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:50:27 UTC, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc91852000042')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf571a3665fc91852000041')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000041'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf571a3665fc91852000042')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000043')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000043')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a3665fc91852000043')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000043'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a3665fc91852000043'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:27 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:27 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000043'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc91852000044')}, :parent_id=>BSON::ObjectId('4cf571a3665fc91852000043'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc91852000044')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a3665fc91852000043'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc91852000044')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc91852000044')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a3665fc91852000043')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$Hd8ekcBFXv74EQopo0XE6OsuKs9advjplxPG2.ZZM1WxegS3K2gWa", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf571a4665fc91852000044'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf571a3665fc91852000043'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:50:28 UTC, "updated_at"=>2010-11-30 21:50:28 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a4665fc91852000044')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf571a3665fc91852000043')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a3665fc91852000043'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf571a4665fc91852000045')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc91852000046')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc91852000046')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc91852000046')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc91852000046'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a4665fc91852000046'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:28 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:28 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc91852000046'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc91852000047')}, :parent_id=>BSON::ObjectId('4cf571a4665fc91852000046'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc91852000047')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a4665fc91852000046'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc91852000047')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc91852000047')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a4665fc91852000046')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$X84X4Ma3VzDPcMTwFqzRYuIMQ3GtpRYP0sM3KusSN8CGKPlIsq1aO", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf571a4665fc91852000047'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf571a4665fc91852000046'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:50:28 UTC, "updated_at"=>2010-11-30 21:50:28 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a4665fc91852000047')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc91852000048')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc91852000048')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc91852000048')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc91852000048'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a4665fc91852000048'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:28 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:28 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc91852000048'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc91852000049')}, :parent_id=>BSON::ObjectId('4cf571a4665fc91852000048'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc91852000049')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a4665fc91852000048'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc91852000049')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc91852000049')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a4665fc91852000048')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$sGZ1pRb0koeUeK41Cym9DugbnPMl8Ayis8cO357i/wQxTp6SxLHWC", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf571a4665fc91852000049'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf571a4665fc91852000048'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:50:28 UTC, "updated_at"=>2010-11-30 21:50:28 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a4665fc91852000049')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc9185200004a')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc9185200004a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc9185200004a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc9185200004a'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a4665fc9185200004a'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:28 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:28 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc9185200004a'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc9185200004b')}, :parent_id=>BSON::ObjectId('4cf571a4665fc9185200004a'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc9185200004b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a4665fc9185200004a'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc9185200004b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc9185200004b')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a4665fc9185200004a')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$WsE83uE5dGz1VaedkKcee.RnwlS2FavTNzp3xqTjsQ0wLJ4SKyf1.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf571a4665fc9185200004b'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf571a4665fc9185200004a'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:50:28 UTC, "updated_at"=>2010-11-30 21:50:28 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a4665fc9185200004b')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf571a4665fc9185200004b')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf571a4665fc9185200004c')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc9185200004d')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc9185200004d')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc9185200004d')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc9185200004d'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf571a4665fc9185200004d'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:50:28 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:50:28 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc9185200004d'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc9185200004e')}, :parent_id=>BSON::ObjectId('4cf571a4665fc9185200004d'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf571a4665fc9185200004e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a4665fc9185200004d'), :_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc9185200004e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf571a4665fc9185200004e')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf571a4665fc9185200004d')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$dGVlWpZ58mdhRt4DPqzyo.kUTdytdSZCppnZPf/MCs4U3XbDxXm7C", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf571a4665fc9185200004e'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf571a4665fc9185200004d'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:50:28 UTC, "updated_at"=>2010-11-30 21:50:28 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf571a4665fc9185200004e')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf571a4665fc9185200004e')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf571a4665fc9185200004f')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})


Started GET "/pages" for 127.0.0.1 at 2010-11-30 13:50:28 -0800
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"www.example.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({:_type=>{"$in"=>["Site", "Page"]}}, {})
Completed 200 OK in 16ms (Views: 15.1ms)
admin['$cmd'].find({:ismaster=>1}, {}).limit(-1)
admin['$cmd'].find({:buildinfo=>1}, {}).limit(-1)
  Processing by SitesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"whisper.com", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Rendered sites/show.html.haml within layouts/application (2.0ms)
Completed 200 OK in 15ms (Views: 11.7ms)
  Processing by PagesController#index as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 11ms (Views: 7.1ms)
  Processing by PagesController#show as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by PagesController#new as HTML
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by PagesController#edit as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 8ms (Views: 4.1ms)
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1007
Completed 302 Found in 62ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1008
Completed 302 Found in 6ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{"these"=>"params"}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1009
Completed 302 Found in 7ms
  Processing by PagesController#create as HTML
  Parameters: {"page"=>{}}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by PagesController#update as HTML
  Parameters: {"page"=>{"these"=>"params"}, "id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1011
Completed 302 Found in 7ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1012
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages/1013
Completed 302 Found in 6ms
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 6ms (Views: 2.4ms)
  Processing by PagesController#update as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Completed 200 OK in 5ms (Views: 2.4ms)
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 6ms
  Processing by PagesController#destroy as HTML
  Parameters: {"id"=>"37"}
whisper_test['nodes'].find({:domain=>"example.org", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
Redirected to http://test.host/pages
Completed 302 Found in 3ms
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572ca665fc91892000004')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572ca665fc91892000004')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf572ca665fc91892000004')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572ca665fc91892000004'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf572ca665fc91892000004'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:55:22 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:55:22 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572ca665fc91892000004'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000005')}, :parent_id=>BSON::ObjectId('4cf572ca665fc91892000004'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000005')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572ca665fc91892000004'), :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000005')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000005')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf572ca665fc91892000004')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$ZLWKKQSvQyeI3fNqUX24NOemSVhmSCmVHoKxWoHvun05x7HB33ucW", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf572cb665fc91892000005'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf572ca665fc91892000004'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:55:23 UTC, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc91892000005')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000007')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000007')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000007')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000007'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf572cb665fc91892000007'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:55:23 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000007'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000008')}, :parent_id=>BSON::ObjectId('4cf572cb665fc91892000007'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000008')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc91892000007'), :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000008')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000008')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf572cb665fc91892000007')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$rR0Dn3FmB6mHS3/t34Eu2O1tX.ttFjiYYMKqm0OYXvdob8j1PSXTS", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf572cb665fc91892000008'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf572cb665fc91892000007'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:55:23 UTC, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc91892000008')}, {})
whisper_test['nodes'].find({:name=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000007'), :email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000009')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000009')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000009')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000009'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf572cb665fc91892000009'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:55:23 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000009'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc9189200000a')}, :parent_id=>BSON::ObjectId('4cf572cb665fc91892000009'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc9189200000a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc91892000009'), :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc9189200000a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc9189200000a')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf572cb665fc91892000009')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$mnwyojcffp8CHnV7o84lT.OMZJJWWcj6bzAe7Q1XWzGk2oOa0rPea", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf572cb665fc9189200000a'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf572cb665fc91892000009'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:55:23 UTC, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc9189200000a')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc9189200000b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc9189200000b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc9189200000b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc9189200000b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf572cb665fc9189200000b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:55:23 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc9189200000b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc9189200000c')}, :parent_id=>BSON::ObjectId('4cf572cb665fc9189200000b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc9189200000c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc9189200000b'), :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc9189200000c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc9189200000c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf572cb665fc9189200000b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$eVQFgks3H0WHuYOSw1/iQeG1S8o6bznigcr6skM.3y6sh.JPqGVK2", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf572cb665fc9189200000c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf572cb665fc9189200000b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:55:23 UTC, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc9189200000c')}, {})
whisper_test['nodes'].find({:name=>"localhost", :_type=>{"$in"=>["Site"]}}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc9189200000b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc9189200000e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc9189200000e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc9189200000e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc9189200000e'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf572cb665fc9189200000e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:55:23 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc9189200000e'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc9189200000f')}, :parent_id=>BSON::ObjectId('4cf572cb665fc9189200000e'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc9189200000f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc9189200000e'), :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc9189200000f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc9189200000f')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf572cb665fc9189200000e')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$C4CYeAAOabvuUlT0PtTunukWaRitzc3uxD6sdqHuMSYxFs4SDxOt6", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf572cb665fc9189200000f'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf572cb665fc9189200000e'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:55:23 UTC, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc9189200000f')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000011')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000011')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000011')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000011'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf572cb665fc91892000011'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:55:23 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000011'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000012')}, :parent_id=>BSON::ObjectId('4cf572cb665fc91892000011'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000012')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc91892000011'), :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000012')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000012')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf572cb665fc91892000011')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$eOve4PZ1oKMvCz/wZ.vBZ.4PHMGp99477.5HQfA9OQvZtQDSb412q", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf572cb665fc91892000012'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf572cb665fc91892000011'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:55:23 UTC, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc91892000012')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000014')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000014')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000014')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000014'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf572cb665fc91892000014'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:55:23 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000014'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000015')}, :parent_id=>BSON::ObjectId('4cf572cb665fc91892000014'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000015')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc91892000014'), :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000015')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000015')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf572cb665fc91892000014')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$byzCVNKCIOY0fwENMglftOQIwSU0xgciPJOMcVKqVYaHtgh4dgnrm", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf572cb665fc91892000015'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf572cb665fc91892000014'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:55:23 UTC, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc91892000015')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf572cb665fc91892000014')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000014'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf572cb665fc91892000015')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000016')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000016')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000016')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000016'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf572cb665fc91892000016'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:55:23 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000016'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000017')}, :parent_id=>BSON::ObjectId('4cf572cb665fc91892000016'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000017')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc91892000016'), :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000017')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000017')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf572cb665fc91892000016')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$W8yrG8mkYzVCDTC4JdqzOeXvz0dIQNO284fFD46JXI1kifXVoMyhi", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf572cb665fc91892000017'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf572cb665fc91892000016'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:55:23 UTC, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc91892000017')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf572cb665fc91892000016')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000016'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf572cb665fc91892000018')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000019')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000019')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf572cb665fc91892000019')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000019'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf572cb665fc91892000019'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:55:23 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:55:23 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000019'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc9189200001a')}, :parent_id=>BSON::ObjectId('4cf572cb665fc91892000019'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc9189200001a')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cb665fc91892000019'), :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc9189200001a')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc9189200001a')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf572cb665fc91892000019')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$eFwQlkjpveNkW3LIy2ObxeKrazPfIy1biV.xn27qBaXnNhijEy4Iq", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf572cc665fc9189200001a'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf572cb665fc91892000019'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:55:24 UTC, "updated_at"=>2010-11-30 21:55:24 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cc665fc9189200001a')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf572cb665fc91892000019')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cb665fc91892000019'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf572cc665fc9189200001a')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc9189200001b')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc9189200001b')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc9189200001b')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc9189200001b'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf572cc665fc9189200001b'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:55:24 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:55:24 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc9189200001b'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc9189200001c')}, :parent_id=>BSON::ObjectId('4cf572cc665fc9189200001b'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc9189200001c')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cc665fc9189200001b'), :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc9189200001c')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc9189200001c')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf572cc665fc9189200001b')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$2Via5lFYfzC/Qe/q5Tp8sesCfTav8ameZRuZrmfWJIJlTKZi./266", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf572cc665fc9189200001c'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf572cc665fc9189200001b'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:55:24 UTC, "updated_at"=>2010-11-30 21:55:24 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cc665fc9189200001c')}, {})
whisper_test['nodes'].find({:_type=>{"$in"=>["Site"]}, :_id=>BSON::ObjectId('4cf572cc665fc9189200001b')}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc9189200001b'), :_type=>{"$in"=>["User"]}, :_id=>BSON::ObjectId('4cf572cc665fc9189200001d')}, {}).limit(-1)
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc9189200001e')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc9189200001e')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc9189200001e')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc9189200001e'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf572cc665fc9189200001e'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:55:24 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:55:24 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc9189200001e'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc9189200001f')}, :parent_id=>BSON::ObjectId('4cf572cc665fc9189200001e'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc9189200001f')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cc665fc9189200001e'), :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc9189200001f')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc9189200001f')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf572cc665fc9189200001e')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$oMSLMkYQvh2IaMBZZX8S5eBY/6xLcxDuPFzVzjZbqzVoV2WlXpyKa", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf572cc665fc9189200001f'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf572cc665fc9189200001e'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:55:24 UTC, "updated_at"=>2010-11-30 21:55:24 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cc665fc9189200001f')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000020')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc91892000020')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000020')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc91892000020'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf572cc665fc91892000020'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:55:24 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:55:24 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc91892000020'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000021')}, :parent_id=>BSON::ObjectId('4cf572cc665fc91892000020'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc91892000021')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cc665fc91892000020'), :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000021')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000021')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf572cc665fc91892000020')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$MKLbPgKjF.HZw.B2TYJpcuPWJ5Qeb9mbo3qaDz.HFOkIh/z1pqvY.", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf572cc665fc91892000021'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf572cc665fc91892000020'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:55:24 UTC, "updated_at"=>2010-11-30 21:55:24 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cc665fc91892000021')}, {})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000022')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc91892000022')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000022')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc91892000022'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf572cc665fc91892000022'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:55:24 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:55:24 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc91892000022'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000023')}, :parent_id=>BSON::ObjectId('4cf572cc665fc91892000022'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc91892000023')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cc665fc91892000022'), :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000023')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000023')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf572cc665fc91892000022')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$wl2f2v6fxqG2tSyZkKd9oehkJfGLbMcuvvlzwXV1IaGGLjEzUXy3e", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf572cc665fc91892000023'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf572cc665fc91892000022'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:55:24 UTC, "updated_at"=>2010-11-30 21:55:24 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cc665fc91892000023')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf572cc665fc91892000023')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf572cc665fc91892000024')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000025')}, :parent_id=>nil, :path_fragment=>"localhost"}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc91892000025')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>nil, :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000025')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc91892000025'), :_type=>{"$in"=>["User"]}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[], "name"=>"localhost", "_id"=>BSON::ObjectId('4cf572cc665fc91892000025'), "_type"=>"Site", "path_fragment"=>"localhost", "created_at"=>2010-11-30 21:55:24 UTC, "parent_id"=>nil, "updated_at"=>2010-11-30 21:55:24 UTC, "position"=>0}])
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc91892000025'), :_type=>{"$in"=>["User"]}}, {})
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000026')}, :parent_id=>BSON::ObjectId('4cf572cc665fc91892000025'), :path_fragment=>"tgannon"}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>/^tgannon@gmail\.com$/i, :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['$cmd'].find({"count"=>"nodes", "query"=>{:email=>"tgannon@gmail.com", :_type=>{"$in"=>["User"]}}, "fields"=>nil}, {}).limit(-1)
whisper_test['nodes'].find({"parent_id"=>BSON::ObjectId('4cf572cc665fc91892000026')}, {}).sort([[:position, :asc]])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cc665fc91892000025'), :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000026')}}, {:_id=>1}).limit(-1)
whisper_test['nodes'].find({:parent_id=>nil, :position=>{"$gt"=>0}, :_id=>{"$ne"=>BSON::ObjectId('4cf572cc665fc91892000026')}}, {})
MONGODB whisper_test['nodes'].insert([{"parent_ids"=>[BSON::ObjectId('4cf572cc665fc91892000025')], "email"=>"tgannon@gmail.com", "encrypted_password"=>"$2a$10$lJ1ZJvpNM3RUrQsHkSuTwupkf0QSVcuysTvEi4PLqcu5YhL3uGyge", "failed_attempts"=>0, "sign_in_count"=>0, "name"=>"tgannon", "_id"=>BSON::ObjectId('4cf572cc665fc91892000026'), "_type"=>"User", "parent_id"=>BSON::ObjectId('4cf572cc665fc91892000025'), "path_fragment"=>"tgannon", "created_at"=>2010-11-30 21:55:24 UTC, "updated_at"=>2010-11-30 21:55:24 UTC, "position"=>0}])
whisper_test['nodes'].find({:parent_id=>BSON::ObjectId('4cf572cc665fc91892000026')}, {})
MONGODB whisper_test['nodes'].update({"_id"=>BSON::ObjectId('4cf572cc665fc91892000026')}, {"$push"=>{"abilities"=>{"base_behavior"=>true, "actions"=>["read"], "subjects"=>["User"], "conditions"=>{"id"=>3425}, "_id"=>BSON::ObjectId('4cf572cc665fc91892000027')}}})
whisper_test['system.namespaces'].find({}, {})
MONGODB whisper_test['system.indexes'].remove({})
MONGODB whisper_test['users'].remove({})
MONGODB whisper_test['model1s'].remove({})
MONGODB whisper_test['nodes'].remove({})
MONGODB whisper_test['sites'].remove({})
